if(!function o(n,a,s){function r(t,e){if(!a[t]){if(!n[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(l)return l(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}i=a[t]={exports:{}};n[t][0].call(i.exports,function(e){return r(n[t][1][e]||e)},i,i.exports,o,n,a,s)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)r(s[e]);return r}({1:[function(e,t,i){},{}],2:[function(o,n,e){!function(e){var t,e=void 0!==e?e:"undefined"!=typeof window?window:{},i=o(1);"undefined"!=typeof document?t=document:(t=e["__GLOBAL_DOCUMENT_CACHE@4"])||(t=e["__GLOBAL_DOCUMENT_CACHE@4"]=i),n.exports=t}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],3:[function(e,t,i){!function(e){e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};t.exports=e}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,i){function n(){}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function s(i,o){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,a._immediateFn(function(){var e,t=1===i._state?o.onFulfilled:o.onRejected;if(null!==t){try{e=t(i._value)}catch(t){return void l(o.promise,t)}r(o.promise,e)}else(1===i._state?r:l)(o.promise,i._value)})):i._deferreds.push(o)}function r(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof a)return e._state=3,e._value=t,d(e);if("function"==typeof i)return c((o=i,n=t,function(){o.apply(n,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){l(e,t)}var o,n}function l(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)s(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var i=!1;try{e(function(e){i||(i=!0,r(t,e))},function(e){i||(i=!0,l(t,e))})}catch(e){i||(i=!0,l(t,e))}}var o,u;o=this,u=setTimeout,a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(o,e){var t=new this.constructor(n);return s(this,new function(e,t,i){this.onFulfilled="function"==typeof o?o:null,this.onRejected="function"==typeof t?t:null,this.promise=i}(0,e,t)),t},a.all=function(e){var r=Array.prototype.slice.call(e);return new a(function(n,a){if(0===r.length)return n([]);var s=r.length;for(var e=0;e<r.length;e++)!function t(i,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return o.call(e,function(e){t(i,e)},a)}r[i]=e,0==--s&&n(r)}catch(e){a(e)}}(e,r[e])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(i){return new a(function(e,t){t(i)})},a.race=function(n){return new a(function(e,t){for(var i=0,o=n.length;i<o;i++)n[i].then(e,t)})},a._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){u(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=a:o.Promise||(o.Promise=a)},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e(7),o=o&&o.__esModule?o:{default:o},n=e(15),r=e(27),l={lang:"en",en:n.EN,language:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(null!=t&&t.length){if("string"!=typeof t[0])throw new TypeError("Language code must be a string value");if(!/^[a-z]{2,3}((\-|_)[a-z]{2})?$/i.test(t[0]))throw new TypeError("Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters");l.lang=t[0],void 0===l[t[0]]?(t[1]=null!==t[1]&&void 0!==t[1]&&"object"===s(t[1])?t[1]:{},l[t[0]]=(0,r.isObjectEmpty)(t[1])?n.EN:t[1]):null!==t[1]&&void 0!==t[1]&&"object"===s(t[1])&&(l[t[0]]=t[1])}return l.lang},t:function(e){var t,i,o,n,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e&&e.length?(i=t=void 0,o=l.language(),n=function(e,t,i){return"object"!==(void 0===e?"undefined":s(e))||"number"!=typeof t||"number"!=typeof i?e:[function(){return arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 0===(arguments.length<=0?void 0:arguments[0])||1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:0!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])||11===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])||12===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2<(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||0<(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<=4?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%100==1?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])%100==2?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])%100==3||(arguments.length<=0?void 0:arguments[0])%100==4?arguments.length<=4?void 0:arguments[4]:arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2<(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<7?arguments.length<=3?void 0:arguments[3]:6<(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])<11?arguments.length<=4?void 0:arguments[4]:arguments.length<=5?void 0:arguments[5]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:3<=(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<=10?arguments.length<=4?void 0:arguments[4]:11<=(arguments.length<=0?void 0:arguments[0])%100?arguments.length<=5?void 0:arguments[5]:arguments.length<=6?void 0:arguments[6]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||1<(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<11?arguments.length<=2?void 0:arguments[2]:10<(arguments.length<=0?void 0:arguments[0])%100&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10==2?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 11!==(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2<=(arguments.length<=0?void 0:arguments[0])%10&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||20<=(arguments.length<=0?void 0:arguments[0])%100)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:8!==(arguments.length<=0?void 0:arguments[0])&&11!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:3===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]}][i].apply(null,[t].concat(e))},void 0!==l[o]&&(t=l[o][e],null!==a&&"number"==typeof a&&(i=l[o]["mejs.plural-form"],t=n.apply(null,[t,a,i]))),!t&&l.en&&(t=l.en[e],null!==a&&"number"==typeof a&&(i=l.en["mejs.plural-form"],t=n.apply(null,[t,a,i]))),t=t||e,null!==a&&"number"==typeof a&&(t=t.replace("%1",a)),(0,r.escapeHTML)(t)):e}};o.default.i18n=l,"undefined"!=typeof mejsL10n&&o.default.i18n.language(mejsL10n.language,mejsL10n.strings),i.default=l},{15:15,27:27,7:7}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=o(e(3)),T=o(e(2)),B=o(e(7)),E=e(27),I=e(28),A=e(8),$=e(25);function o(e){return e&&e.__esModule?e:{default:e}}function L(e,t,i){var c=this;if(!(this instanceof L))throw new TypeError("Cannot call a class as a function");var l=this,o=(i=Array.isArray(i)?i:null,l.defaults={renderers:[],fakeNodeName:"mediaelementwrapper",pluginPath:"build/",shimScriptAccess:"sameDomain"},t=Object.assign(l.defaults,t),l.mediaElement=T.default.createElement(t.fakeNodeName),e),n=!1;if("string"==typeof e?l.mediaElement.originalNode=T.default.getElementById(e):o=(l.mediaElement.originalNode=e).id,void 0===l.mediaElement.originalNode||null===l.mediaElement.originalNode)return null;function a(t,e){return"https:"===x.default.location.protocol&&0===t.indexOf("http:")&&$.IS_IOS&&-1<B.default.html5media.mediaTypes.indexOf(e)&&((e=new XMLHttpRequest).onreadystatechange=function(){var e;return 4===this.readyState&&200===this.status?(e=(x.default.URL||x.default.webkitURL).createObjectURL(this.response),l.mediaElement.originalNode.setAttribute("src",e),e):t},e.open("GET",t),e.responseType="blob",e.send()),t}l.mediaElement.options=t,o=o||"mejs_"+Math.random().toString().slice(2),l.mediaElement.originalNode.setAttribute("id",o+"_from_mejs");var e=l.mediaElement.originalNode.tagName.toLowerCase(),s=(-1<["video","audio"].indexOf(e)&&!l.mediaElement.originalNode.getAttribute("preload")&&l.mediaElement.originalNode.setAttribute("preload","none"),l.mediaElement.originalNode.parentNode.insertBefore(l.mediaElement,l.mediaElement.originalNode),l.mediaElement.appendChild(l.mediaElement.originalNode),void 0);if(null!==i)s=i;else if(null!==l.mediaElement.originalNode)switch(s=[],l.mediaElement.originalNode.nodeName.toLowerCase()){case"iframe":s.push({type:"",src:l.mediaElement.originalNode.getAttribute("src")});break;case"audio":case"video":var r,d=l.mediaElement.originalNode.children.length,u=l.mediaElement.originalNode.getAttribute("src");u&&(r=l.mediaElement.originalNode,r=(0,I.formatType)(u,r.getAttribute("type")),s.push({type:r,src:a(u,r)}));for(var h=0;h<d;h++){var p,m=l.mediaElement.originalNode.children[h];"source"===m.tagName.toLowerCase()&&(p=m.getAttribute("src"),m=(0,I.formatType)(p,m.getAttribute("type")),s.push({type:m,src:a(p,m)}))}}function f(){return void 0!==l.mediaElement.renderer&&null!==l.mediaElement.renderer?l.mediaElement.renderer.getSrc():null}function g(e){var t=[];if("string"==typeof e)t.push({src:e,type:e?(0,I.getTypeFromFile)(e):""});else if("object"===(void 0===e?"undefined":S(e))&&void 0!==e.src){var i=(0,I.absolutizeUrl)(e.src),o=e.type,o=Object.assign(e,{src:i,type:""!==o&&null!=o||!i?o:(0,I.getTypeFromFile)(i)});t.push(o)}else if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++){var s=(0,I.absolutizeUrl)(e[n].src),r=e[n].type,r=Object.assign(e[n],{src:s,type:""!==r&&null!=r||!s?r:(0,I.getTypeFromFile)(s)});t.push(r)}if(i=A.renderer.select(t,l.mediaElement.options.renderers.length?l.mediaElement.options.renderers:[]),l.mediaElement.paused||null==l.mediaElement.src||""===l.mediaElement.src||(l.mediaElement.pause(),o=(0,E.createEvent)("pause",l.mediaElement),l.mediaElement.dispatchEvent(o)),l.mediaElement.originalNode.src=t[0].src||"",null!==i||!t[0].src)return null!=t[0].src&&""!==t[0].src?l.mediaElement.changeRenderer(i.rendererName,t):null;l.mediaElement.generateError("No renderer found",t)}l.mediaElement.id=o,l.mediaElement.renderers={},l.mediaElement.events={},l.mediaElement.promises=[],l.mediaElement.renderer=null,l.mediaElement.rendererName=null,l.mediaElement.changeRenderer=function(e,t){var i=c,o=2<Object.keys(t[0]).length?t[0]:t[0].src;if(void 0!==i.mediaElement.renderer&&null!==i.mediaElement.renderer&&i.mediaElement.renderer.name===e)return i.mediaElement.renderer.pause(),i.mediaElement.renderer.stop&&i.mediaElement.renderer.stop(),i.mediaElement.renderer.show(),i.mediaElement.renderer.setSrc(o),!0;void 0!==i.mediaElement.renderer&&null!==i.mediaElement.renderer&&(i.mediaElement.renderer.pause(),i.mediaElement.renderer.stop&&i.mediaElement.renderer.stop(),i.mediaElement.renderer.hide());var n=i.mediaElement.renderers[e],a=null;if(null!=n)return n.show(),n.setSrc(o),i.mediaElement.renderer=n,i.mediaElement.rendererName=e,!0;for(var s=i.mediaElement.options.renderers.length?i.mediaElement.options.renderers:A.renderer.order,r=0,l=s.length;r<l;r++){var d=s[r];if(d===e)return a=A.renderer.renderers[d],d=Object.assign(a.options,i.mediaElement.options),(n=a.create(i.mediaElement,d,t)).name=e,i.mediaElement.renderers[a.name]=n,i.mediaElement.renderer=n,i.mediaElement.rendererName=e,n.show(),!0}return!1},l.mediaElement.setSize=function(e,t){void 0!==l.mediaElement.renderer&&null!==l.mediaElement.renderer&&l.mediaElement.renderer.setSize(e,t)},l.mediaElement.generateError=function(e,t){e=e||"",t=Array.isArray(t)?t:[];var i=(0,E.createEvent)("error",l.mediaElement);i.message=e,i.urls=t,l.mediaElement.dispatchEvent(i),n=!0};var v=B.default.html5media.properties,b=B.default.html5media.methods,y=function(t,e,i,o){var n=t[e];Object.defineProperty(t,e,{get:function(){return i.apply(t,[n])},set:function(e){return n=o.apply(t,[e])}})},w=function(e,t){try{var i;"play"!==e||"native_dash"!==l.mediaElement.rendererName&&"native_hls"!==l.mediaElement.rendererName&&"vimeo_iframe"!==l.mediaElement.rendererName?l.mediaElement.renderer[e](t):(i=l.mediaElement.renderer[e](t))&&"function"==typeof i.then&&i.catch(function(){l.mediaElement.paused&&setTimeout(function(){var e=l.mediaElement.renderer.play();void 0!==e&&e.catch(function(){l.mediaElement.renderer.paused||l.mediaElement.renderer.pause()})},150)})}catch(e){l.mediaElement.generateError(e,s)}};y(l.mediaElement,"src",f,g),l.mediaElement.getSrc=f,l.mediaElement.setSrc=g;for(var _=0,k=v.length;_<k;_++)!function(e){var t,i;"src"!==e&&(t=""+e.substring(0,1).toUpperCase()+e.substring(1),y(l.mediaElement,e,e=function(){return void 0!==l.mediaElement.renderer&&null!==l.mediaElement.renderer&&"function"==typeof l.mediaElement.renderer["get"+t]?l.mediaElement.renderer["get"+t]():null},i=function(e){void 0!==l.mediaElement.renderer&&null!==l.mediaElement.renderer&&"function"==typeof l.mediaElement.renderer["set"+t]&&l.mediaElement.renderer["set"+t](e)}),l.mediaElement["get"+t]=e,l.mediaElement["set"+t]=i)}(v[_]);for(var P=0,C=b.length;P<C;P++)!function(o){l.mediaElement[o]=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return void 0!==l.mediaElement.renderer&&null!==l.mediaElement.renderer&&"function"==typeof l.mediaElement.renderer[o]&&(l.mediaElement.promises.length?Promise.all(l.mediaElement.promises).then(function(){w(o,t)}).catch(function(e){l.mediaElement.generateError(e,s)}):w(o,t)),null}}(b[P]);return l.mediaElement.addEventListener=function(e,t){l.mediaElement.events[e]=l.mediaElement.events[e]||[],l.mediaElement.events[e].push(t)},l.mediaElement.removeEventListener=function(e,t){if(!e)return l.mediaElement.events={},!0;var i=l.mediaElement.events[e];if(!i)return!0;if(!t)return l.mediaElement.events[e]=[],!0;for(var o=0;o<i.length;o++)if(i[o]===t)return l.mediaElement.events[e].splice(o,1),!0;return!1},l.mediaElement.dispatchEvent=function(e){var t=l.mediaElement.events[e.type];if(t)for(var i=0;i<t.length;i++)t[i].apply(null,[e])},l.mediaElement.destroy=function(){var e=l.mediaElement.originalNode.cloneNode(!0),t=l.mediaElement.parentElement;e.removeAttribute("id"),e.remove(),l.mediaElement.remove(),t.appendChild(e)},s.length&&(l.mediaElement.src=s),l.mediaElement.promises.length?Promise.all(l.mediaElement.promises).then(function(){l.mediaElement.options.success&&l.mediaElement.options.success(l.mediaElement,l.mediaElement.originalNode)}).catch(function(){n&&l.mediaElement.options.error&&l.mediaElement.options.error(l.mediaElement,l.mediaElement.originalNode)}):(l.mediaElement.options.success&&l.mediaElement.options.success(l.mediaElement,l.mediaElement.originalNode),n&&l.mediaElement.options.error&&l.mediaElement.options.error(l.mediaElement,l.mediaElement.originalNode)),l.mediaElement}x.default.MediaElement=L,B.default.MediaElement=L,i.default=L},{2:2,25:25,27:27,28:28,3:3,7:7,8:8}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=e(3),o={version:"4.2.17",html5media:{properties:["volume","src","currentTime","muted","duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable","currentSrc","preload","bufferedBytes","bufferedTime","initialTime","startOffsetTime","defaultPlaybackRate","playbackRate","played","autoplay","loop","controls"],readOnlyProperties:["duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable"],methods:["load","play","pause","canPlayType"],events:["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","suspend","abort","error","emptied","stalled","play","playing","pause","waiting","seeking","seeked","timeupdate","ended","ratechange","volumechange"],mediaTypes:["audio/mp3","audio/ogg","audio/oga","audio/wav","audio/x-wav","audio/wave","audio/x-pn-wav","audio/mpeg","audio/mp4","video/mp4","video/webm","video/ogg","video/ogv"]}};(e&&e.__esModule?e:{default:e}).default.mejs=o,i.default=o},{3:3}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.renderer=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e},e=e(7),e=e&&e.__esModule?e:{default:e};function a(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n(s,[{key:"add",value:function(e){if(void 0===e.name)throw new TypeError("renderer must contain at least `name` property");this.renderers[e.name]=e,this.order.push(e.name)}},{key:"select",value:function(e){var o,i,t=(n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).length,n=n.length?n:this.order;t||(o=[/^(html5|native)/i,/^flash/i,/iframe$/i],i=function(e){for(var t=0,i=o.length;t<i;t++)if(o[t].test(e))return t;return o.length},n.sort(function(e,t){return i(e)-i(t)}));for(var a=0,s=n.length;a<s;a++){var r=n[a],l=this.renderers[r];if(null!=l)for(var d=0,c=e.length;d<c;d++)if("function"==typeof l.canPlayType&&"string"==typeof e[d].type&&l.canPlayType(e[d].type))return{rendererName:l.name,src:e[d].src}}return null}},{key:"order",set:function(e){if(!Array.isArray(e))throw new TypeError("order must be an array of strings.");this._order=e},get:function(){return this._order}},{key:"renderers",set:function(e){if(null!==e&&"object"!==(void 0===e?"undefined":o(e)))throw new TypeError("renderers must be an array of objects.");this._renderers=e},get:function(){return this._renderers}}]);n=s,i=i.renderer=new n;function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.renderers={},this.order=[]}e.default.Renderers=i},{7:7}],9:[function(e,t,i){"use strict";var d=s(e(3)),c=s(e(2)),n=s(e(5)),o=e(16),a=s(o),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(e(25)),h=e(27),p=e(26),m=e(28);function s(e){return e&&e.__esModule?e:{default:e}}Object.assign(o.config,{usePluginFullScreen:!0,fullscreenText:null,useFakeFullscreen:!1}),Object.assign(a.default.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,isPluginClickThroughCreated:!1,fullscreenMode:"",containerSizeTimeout:null,buildfullscreen:function(t){var i,e,o;t.isVideo&&(t.isInIframe=d.default.location!==d.default.parent.location,t.detectFullscreenMode(),e=(0,h.isString)((i=this).options.fullscreenText)?i.options.fullscreenText:n.default.t("mejs.fullscreen"),(o=c.default.createElement("div")).className=i.options.classPrefix+"button "+i.options.classPrefix+"fullscreen-button",o.innerHTML='<button type="button" aria-controls="'+i.id+'" title="'+e+'" aria-label="'+e+'" tabindex="0"></button>',i.addControlElement(o,"fullscreen"),o.addEventListener("click",function(){u.HAS_TRUE_NATIVE_FULLSCREEN&&u.IS_FULLSCREEN||t.isFullScreen?t.exitFullScreen():t.enterFullScreen()}),t.fullscreenBtn=o,i.options.keyActions.push({keys:[70],action:function(e,t,i,o){o.ctrlKey||void 0!==e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}),i.exitFullscreenCallback=function(e){e=e.which||e.keyCode||0;i.options.enableKeyboard&&27===e&&(u.HAS_TRUE_NATIVE_FULLSCREEN&&u.IS_FULLSCREEN||i.isFullScreen)&&t.exitFullScreen()},i.globalBind("keydown",i.exitFullscreenCallback),i.normalHeight=0,i.normalWidth=0,u.HAS_TRUE_NATIVE_FULLSCREEN&&t.globalBind(u.FULLSCREEN_EVENT_NAME,function(){t.isFullScreen&&(u.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))}))},cleanfullscreen:function(e){e.exitFullScreen(),e.globalUnbind("keydown",e.exitFullscreenCallback)},detectFullscreenMode:function(){var e=null!==this.media.rendererName&&/(native|html5)/i.test(this.media.rendererName),t="";return u.HAS_TRUE_NATIVE_FULLSCREEN&&e?t="native-native":u.HAS_TRUE_NATIVE_FULLSCREEN&&!e?t="plugin-native":this.usePluginFullScreen&&u.SUPPORT_POINTER_EVENTS&&(t="plugin-click"),this.fullscreenMode=t},enterFullScreen:function(){var o=this,e=null!==o.media.rendererName&&/(html5|native)/i.test(o.media.rendererName),t=getComputedStyle(o.getElement(o.container));if(o.isVideo)if(!1===o.options.useFakeFullscreen&&(u.IS_IOS||u.IS_SAFARI)&&u.HAS_IOS_FULLSCREEN&&"function"==typeof o.media.originalNode.webkitEnterFullscreen&&o.media.originalNode.canPlayType((0,m.getTypeFromFile)(o.media.getSrc())))o.media.originalNode.webkitEnterFullscreen();else{if((0,p.addClass)(c.default.documentElement,o.options.classPrefix+"fullscreen"),(0,p.addClass)(o.getElement(o.container),o.options.classPrefix+"container-fullscreen"),o.normalHeight=parseFloat(t.height),o.normalWidth=parseFloat(t.width),"native-native"!==o.fullscreenMode&&"plugin-native"!==o.fullscreenMode||(u.requestFullScreen(o.getElement(o.container)),o.isInIframe&&setTimeout(function e(){var t,i;o.isNativeFullScreen&&(t=d.default.innerWidth||c.default.documentElement.clientWidth||c.default.body.clientWidth,.002*(i=screen.width)<Math.abs(i-t)?o.exitFullScreen():setTimeout(e,500))},1e3)),o.getElement(o.container).style.width="100%",o.getElement(o.container).style.height="100%",o.containerSizeTimeout=setTimeout(function(){o.getElement(o.container).style.width="100%",o.getElement(o.container).style.height="100%",o.setControlsSize()},500),e)o.node.style.width="100%",o.node.style.height="100%";else for(var i=o.getElement(o.container).querySelectorAll("embed, object, video"),n=i.length,a=0;a<n;a++)i[a].style.width="100%",i[a].style.height="100%";o.options.setDimensions&&"function"==typeof o.media.setSize&&o.media.setSize(screen.width,screen.height);for(var s=o.getElement(o.layers).children,r=s.length,l=0;l<r;l++)s[l].style.width="100%",s[l].style.height="100%";o.fullscreenBtn&&((0,p.removeClass)(o.fullscreenBtn,o.options.classPrefix+"fullscreen"),(0,p.addClass)(o.fullscreenBtn,o.options.classPrefix+"unfullscreen")),o.setControlsSize(),o.isFullScreen=!0;t=Math.min(screen.width/o.width,screen.height/o.height),e=o.getElement(o.container).querySelector("."+o.options.classPrefix+"captions-text"),e=(e&&(e.style.fontSize=100*t+"%",e.style.lineHeight="normal",o.getElement(o.container).querySelector("."+o.options.classPrefix+"captions-position").style.bottom=(screen.height-o.normalHeight)/2-o.getElement(o.controls).offsetHeight/2+t+15+"px"),(0,h.createEvent)("enteredfullscreen",o.getElement(o.container)));o.getElement(o.container).dispatchEvent(e)}},exitFullScreen:function(){var e=this,t=null!==e.media.rendererName&&/(native|html5)/i.test(e.media.rendererName);if(e.isVideo){if(clearTimeout(e.containerSizeTimeout),u.HAS_TRUE_NATIVE_FULLSCREEN&&(u.IS_FULLSCREEN||e.isFullScreen)&&u.cancelFullScreen(),(0,p.removeClass)(c.default.documentElement,e.options.classPrefix+"fullscreen"),(0,p.removeClass)(e.getElement(e.container),e.options.classPrefix+"container-fullscreen"),e.options.setDimensions){if(e.getElement(e.container).style.width=e.normalWidth+"px",e.getElement(e.container).style.height=e.normalHeight+"px",t)e.node.style.width=e.normalWidth+"px",e.node.style.height=e.normalHeight+"px";else for(var i=e.getElement(e.container).querySelectorAll("embed, object, video"),o=i.length,n=0;n<o;n++)i[n].style.width=e.normalWidth+"px",i[n].style.height=e.normalHeight+"px";"function"==typeof e.media.setSize&&e.media.setSize(e.normalWidth,e.normalHeight);for(var a=e.getElement(e.layers).children,s=a.length,r=0;r<s;r++)a[r].style.width=e.normalWidth+"px",a[r].style.height=e.normalHeight+"px"}e.fullscreenBtn&&((0,p.removeClass)(e.fullscreenBtn,e.options.classPrefix+"unfullscreen"),(0,p.addClass)(e.fullscreenBtn,e.options.classPrefix+"fullscreen")),e.setControlsSize(),e.isFullScreen=!1;t=e.getElement(e.container).querySelector("."+e.options.classPrefix+"captions-text"),t=(t&&(t.style.fontSize="",t.style.lineHeight="",e.getElement(e.container).querySelector("."+e.options.classPrefix+"captions-position").style.bottom=""),(0,h.createEvent)("exitedfullscreen",e.getElement(e.container)));e.getElement(e.container).dispatchEvent(t)}}})},{16:16,2:2,25:25,26:26,27:27,28:28,3:3,5:5}],10:[function(e,t,i){"use strict";var u=a(e(2)),o=e(16),n=a(o),h=a(e(5)),p=e(27),m=e(26);function a(e){return e&&e.__esModule?e:{default:e}}Object.assign(o.config,{playText:null,pauseText:null}),Object.assign(n.default.prototype,{buildplaypause:function(e,t,i,o){var n=this,a=n.options,s=(0,p.isString)(a.playText)?a.playText:h.default.t("mejs.play"),r=(0,p.isString)(a.pauseText)?a.pauseText:h.default.t("mejs.pause"),l=u.default.createElement("div"),d=(l.className=n.options.classPrefix+"button "+n.options.classPrefix+"playpause-button "+n.options.classPrefix+"play",l.innerHTML='<button type="button" aria-controls="'+n.id+'" title="'+s+'" aria-label="'+r+'" tabindex="0"></button>',l.addEventListener("click",function(){n.paused?n.play():n.pause()}),l.querySelector("button"));function c(e){"play"===e?((0,m.removeClass)(l,n.options.classPrefix+"play"),(0,m.removeClass)(l,n.options.classPrefix+"replay"),(0,m.addClass)(l,n.options.classPrefix+"pause"),d.setAttribute("title",r),d.setAttribute("aria-label",r)):((0,m.removeClass)(l,n.options.classPrefix+"pause"),(0,m.removeClass)(l,n.options.classPrefix+"replay"),(0,m.addClass)(l,n.options.classPrefix+"play"),d.setAttribute("title",s),d.setAttribute("aria-label",s))}n.addControlElement(l,"playpause"),c("pse"),o.addEventListener("loadedmetadata",function(){-1===o.rendererName.indexOf("flash")&&c("pse")}),o.addEventListener("play",function(){c("play")}),o.addEventListener("playing",function(){c("play")}),o.addEventListener("pause",function(){c("pse")}),o.addEventListener("ended",function(){e.options.loop||((0,m.removeClass)(l,n.options.classPrefix+"pause"),(0,m.removeClass)(l,n.options.classPrefix+"play"),(0,m.addClass)(l,n.options.classPrefix+"replay"),d.setAttribute("title",s),d.setAttribute("aria-label",s))})}})},{16:16,2:2,26:26,27:27,5:5}],11:[function(e,t,i){"use strict";var g=a(e(2)),o=e(16),n=a(o),v=a(e(5)),b=e(25),y=e(30),w=e(26);function a(e){return e&&e.__esModule?e:{default:e}}Object.assign(o.config,{enableProgressTooltip:!0,useSmoothHover:!0,forceLive:!1}),Object.assign(n.default.prototype,{buildprogress:function(d,n,e,c){function a(e){var t=getComputedStyle(m.total),i=(0,w.offset)(m.total),o=m.total.offsetWidth,t=void 0!==t.webkitTransform?"webkitTransform":void 0!==t.mozTransform?"mozTransform ":void 0!==t.oTransform?"oTransform":void 0!==t.msTransform?"msTransform":"transform",n="WebKitCSSMatrix"in window?"WebKitCSSMatrix":"MSCSSMatrix"in window?"MSCSSMatrix":"CSSMatrix"in window?"CSSMatrix":void 0,a=0,s=0,r=void 0,r=(e.originalEvent&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.changedTouches?e.changedTouches[0]:e).pageX;m.getDuration()?(r<i.left?r=i.left:r>o+i.left&&(r=o+i.left),e=(s=r-i.left)/o,m.newTime=e*m.getDuration(),l&&null!==m.getCurrentTime()&&m.newTime.toFixed(4)!==m.getCurrentTime().toFixed(4)&&(m.setCurrentRailHandle(m.newTime),m.updateCurrent(m.newTime)),b.IS_IOS||b.IS_ANDROID||(s<0&&(s=0),m.options.useSmoothHover&&null!==n&&void 0!==window[n]&&(i=new window[n](getComputedStyle(m.handle)[t]).m41,e=s/parseFloat(getComputedStyle(m.total).width)-i/parseFloat(getComputedStyle(m.total).width),m.hovered.style.left=i+"px",m.setTransformStyle(m.hovered,"scaleX("+e+")"),m.hovered.setAttribute("pos",s),(0<=e?(0,w.removeClass):(0,w.addClass))(m.hovered,"negative")),m.timefloat&&(n=m.timefloat.offsetWidth/2,t=mejs.Utils.offset(m.getElement(m.container)),i=getComputedStyle(m.timefloat),a=r-t.left<m.timefloat.offsetWidth?n:r-t.left>=m.getElement(m.container).offsetWidth-n?m.total.offsetWidth-n:s,(0,w.hasClass)(m.getElement(m.container),m.options.classPrefix+"long-video")&&(a+=parseFloat(i.marginLeft)/2+m.timefloat.offsetWidth/2),m.timefloat.style.left=a+"px",m.timefloatcurrent.innerHTML=(0,y.secondsToTimeCode)(m.newTime,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat),m.timefloat.style.display="block"))):b.IS_IOS||b.IS_ANDROID||!m.timefloat||(a=m.timefloat.offsetWidth+o>=m.getElement(m.container).offsetWidth?m.timefloat.offsetWidth/2:0,m.timefloat.style.left=a+"px",m.timefloat.style.left=a+"px",m.timefloat.style.display="block")}function u(){1e3<=new Date-h&&m.play()}var h=0,l=!1,p=!1,m=this,t=d.options.autoRewind,i=d.options.enableProgressTooltip?'<span class="'+m.options.classPrefix+'time-float"><span class="'+m.options.classPrefix+'time-float-current">00:00</span><span class="'+m.options.classPrefix+'time-float-corner"></span></span>':"",o=g.default.createElement("div"),s=(o.className=m.options.classPrefix+"time-rail",o.innerHTML='<span class="'+m.options.classPrefix+"time-total "+m.options.classPrefix+'time-slider"><span class="'+m.options.classPrefix+'time-buffering"></span><span class="'+m.options.classPrefix+'time-loaded"></span><span class="'+m.options.classPrefix+'time-current"></span><span class="'+m.options.classPrefix+'time-hovered no-hover"></span><span class="'+m.options.classPrefix+'time-handle"><span class="'+m.options.classPrefix+'time-handle-content"></span></span>'+i+"</span>",m.addControlElement(o,"progress"),m.options.keyActions.push({keys:[37,227],action:function(e){var t,i;!isNaN(e.duration)&&0<e.duration&&(e.isVideo&&(e.showControls(),e.startControlsTimer()),(t=e.getElement(e.container).querySelector("."+m.options.classPrefix+"time-total"))&&t.focus(),i=Math.max(e.currentTime-e.options.defaultSeekBackwardInterval(e),0),e.paused||e.pause(),setTimeout(function(){e.setCurrentTime(i)},0),setTimeout(function(){e.play()},0))}},{keys:[39,228],action:function(e){var t,i;!isNaN(e.duration)&&0<e.duration&&(e.isVideo&&(e.showControls(),e.startControlsTimer()),(t=e.getElement(e.container).querySelector("."+m.options.classPrefix+"time-total"))&&t.focus(),i=Math.min(e.currentTime+e.options.defaultSeekForwardInterval(e),e.duration),e.paused||e.pause(),setTimeout(function(){e.setCurrentTime(i)},0),setTimeout(function(){e.play()},0))}}),m.rail=n.querySelector("."+m.options.classPrefix+"time-rail"),m.total=n.querySelector("."+m.options.classPrefix+"time-total"),m.loaded=n.querySelector("."+m.options.classPrefix+"time-loaded"),m.current=n.querySelector("."+m.options.classPrefix+"time-current"),m.handle=n.querySelector("."+m.options.classPrefix+"time-handle"),m.timefloat=n.querySelector("."+m.options.classPrefix+"time-float"),m.timefloatcurrent=n.querySelector("."+m.options.classPrefix+"time-float-current"),m.slider=n.querySelector("."+m.options.classPrefix+"time-slider"),m.hovered=n.querySelector("."+m.options.classPrefix+"time-hovered"),m.buffer=n.querySelector("."+m.options.classPrefix+"time-buffering"),m.newTime=0,m.forcedHandlePause=!1,m.setTransformStyle=function(e,t){e.style.transform=t,e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t},m.buffer.style.display="none",m.slider.addEventListener("focus",function(){d.options.autoRewind=!1}),m.slider.addEventListener("blur",function(){d.options.autoRewind=t}),m.slider.addEventListener("keydown",function(e){if(1e3<=new Date-h&&(p=m.paused),m.options.enableKeyboard&&m.options.keyActions.length){var t,i,o=e.which||e.keyCode||0,n=m.getDuration(),a=d.options.defaultSeekForwardInterval(c),s=d.options.defaultSeekBackwardInterval(c),r=m.getCurrentTime(),l=m.getElement(m.container).querySelector("."+m.options.classPrefix+"volume-slider");if(38===o||40===o)l&&(l.style.display="block"),m.isVideo&&(m.showControls(),m.startControlsTimer()),i=(t=38===o?Math.min(m.volume+.1,1):Math.max(m.volume-.1,0))<=0,m.setVolume(t),m.setMuted(i);else{switch(l&&(l.style.display="none"),o){case 37:m.getDuration()!==1/0&&(r-=s);break;case 39:m.getDuration()!==1/0&&(r+=a);break;case 36:r=0;break;case 35:r=n;break;case 13:case 32:return void(b.IS_FIREFOX&&(m.paused?m.play():m.pause()));default:return}r=r<0||isNaN(r)?0:n<=r?n:Math.floor(r),h=new Date,p||d.pause(),setTimeout(function(){m.setCurrentTime(r)},0),r<m.getDuration()&&!p&&setTimeout(u,1100),d.showControls(),e.preventDefault(),e.stopPropagation()}}}),["mousedown","touchstart"]);m.slider.addEventListener("dragstart",function(){return!1});for(var r=0,f=s.length;r<f;r++)m.slider.addEventListener(s[r],function(e){if(m.forcedHandlePause=!1,m.getDuration()!==1/0&&(1===e.which||0===e.which)){m.paused||(m.pause(),m.forcedHandlePause=!0),l=!0,a(e);for(var t=["mouseup","touchend"],i=0,o=t.length;i<o;i++)m.getElement(m.container).addEventListener(t[i],function(e){var t=e.target;t!==m.slider&&!t.closest("."+m.options.classPrefix+"time-slider")||a(e)});m.globalBind("mouseup.dur touchend.dur",function(){l&&null!==m.getCurrentTime()&&m.newTime.toFixed(4)!==m.getCurrentTime().toFixed(4)&&(m.setCurrentTime(m.newTime),m.setCurrentRailHandle(m.newTime),m.updateCurrent(m.newTime)),m.forcedHandlePause&&(m.slider.focus(),m.play()),m.forcedHandlePause=!1,l=!1,m.timefloat&&(m.timefloat.style.display="none")})}},!(!b.SUPPORT_PASSIVE_EVENT||"touchstart"!==s[r])&&{passive:!0});m.slider.addEventListener("mouseenter",function(e){e.target===m.slider&&m.getDuration()!==1/0&&(m.getElement(m.container).addEventListener("mousemove",function(e){var t=e.target;t!==m.slider&&!t.closest("."+m.options.classPrefix+"time-slider")||a(e)}),!m.timefloat||b.IS_IOS||b.IS_ANDROID||(m.timefloat.style.display="block"),m.hovered&&!b.IS_IOS&&!b.IS_ANDROID&&m.options.useSmoothHover&&(0,w.removeClass)(m.hovered,"no-hover"))}),m.slider.addEventListener("mouseleave",function(){m.getDuration()===1/0||l||(m.timefloat&&(m.timefloat.style.display="none"),m.hovered&&m.options.useSmoothHover&&(0,w.addClass)(m.hovered,"no-hover"))}),m.broadcastCallback=function(e){var t,i,o=n.querySelector("."+m.options.classPrefix+"broadcast");m.options.forceLive||m.getDuration()===1/0?!o&&m.options.forceLive&&((i=g.default.createElement("span")).className=m.options.classPrefix+"broadcast",i.innerText=v.default.t("mejs.live-broadcast"),m.slider.style.display="none",m.rail.appendChild(i)):(o&&(m.slider.style.display="",o.remove()),d.setProgressRail(e),m.forcedHandlePause||d.setCurrentRail(e),i=m.getCurrentTime(),o=v.default.t("mejs.time-slider"),e=(0,y.secondsToTimeCode)(i,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat),t=m.getDuration(),m.slider.setAttribute("role","slider"),m.slider.tabIndex=0,c.paused?(m.slider.setAttribute("aria-label",o),m.slider.setAttribute("aria-valuemin",0),m.slider.setAttribute("aria-valuemax",isNaN(t)?0:t),m.slider.setAttribute("aria-valuenow",i),m.slider.setAttribute("aria-valuetext",e)):(m.slider.removeAttribute("aria-label"),m.slider.removeAttribute("aria-valuemin"),m.slider.removeAttribute("aria-valuemax"),m.slider.removeAttribute("aria-valuenow"),m.slider.removeAttribute("aria-valuetext")))},c.addEventListener("progress",m.broadcastCallback),c.addEventListener("timeupdate",m.broadcastCallback),c.addEventListener("play",function(){m.buffer.style.display="none"}),c.addEventListener("playing",function(){m.buffer.style.display="none"}),c.addEventListener("seeking",function(){m.buffer.style.display=""}),c.addEventListener("seeked",function(){m.buffer.style.display="none"}),c.addEventListener("pause",function(){m.buffer.style.display="none"}),c.addEventListener("waiting",function(){m.buffer.style.display=""}),c.addEventListener("loadeddata",function(){m.buffer.style.display=""}),c.addEventListener("canplay",function(){m.buffer.style.display="none"}),c.addEventListener("error",function(){m.buffer.style.display="none"}),m.getElement(m.container).addEventListener("controlsresize",function(e){m.getDuration()!==1/0&&(d.setProgressRail(e),m.forcedHandlePause||d.setCurrentRail(e))})},cleanprogress:function(e,t,i,o){o.removeEventListener("progress",e.broadcastCallback),o.removeEventListener("timeupdate",e.broadcastCallback),e.rail&&e.rail.remove()},setProgressRail:function(e){var t=this,i=void 0!==e?e.detail.target||e.target:t.media,o=null;i&&i.buffered&&0<i.buffered.length&&i.buffered.end&&t.getDuration()?o=i.buffered.end(i.buffered.length-1)/t.getDuration():i&&void 0!==i.bytesTotal&&0<i.bytesTotal&&void 0!==i.bufferedBytes?o=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(o=e.loaded/e.total),null!==o&&(o=Math.min(1,Math.max(0,o)),t.loaded&&t.setTransformStyle(t.loaded,"scaleX("+o+")"))},setCurrentRailHandle:function(e){this.setCurrentRailMain(this,e)},setCurrentRail:function(){this.setCurrentRailMain(this)},setCurrentRailMain:function(e,t){var i,o;void 0!==e.getCurrentTime()&&e.getDuration()&&(t=void 0===t?e.getCurrentTime():t,e.total&&e.handle&&(i=parseFloat(getComputedStyle(e.total).width),o=(o=(t=Math.round(i*t/e.getDuration()))-Math.round(e.handle.offsetWidth/2))<0?0:o,e.setTransformStyle(e.current,"scaleX("+t/i+")"),e.setTransformStyle(e.handle,"translateX("+o+"px)"),e.options.useSmoothHover&&!(0,w.hasClass)(e.hovered,"no-hover")&&(t=parseInt(e.hovered.getAttribute("pos"),10),t=(t=isNaN(t)?0:t)/i-o/i,e.hovered.style.left=o+"px",e.setTransformStyle(e.hovered,"scaleX("+t+")"),(0<=t?(0,w.removeClass):(0,w.addClass))(e.hovered,"negative"))))}})},{16:16,2:2,25:25,26:26,30:30,5:5}],12:[function(e,t,i){"use strict";var s=l(e(2)),o=e(16),n=l(o),r=e(30),a=e(26);function l(e){return e&&e.__esModule?e:{default:e}}Object.assign(o.config,{duration:0,timeAndDurationSeparator:"<span> | </span>"}),Object.assign(n.default.prototype,{buildcurrent:function(e,t,i,o){var n=this,a=s.default.createElement("div");a.className=n.options.classPrefix+"time",a.setAttribute("role","timer"),a.setAttribute("aria-live","off"),a.innerHTML='<span class="'+n.options.classPrefix+'currenttime">'+(0,r.secondsToTimeCode)(0,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond,e.options.secondsDecimalLength,e.options.timeFormat)+"</span>",n.addControlElement(a,"current"),e.updateCurrent(),n.updateTimeCallback=function(){n.controlsAreVisible&&e.updateCurrent()},o.addEventListener("timeupdate",n.updateTimeCallback)},cleancurrent:function(e,t,i,o){o.removeEventListener("timeupdate",e.updateTimeCallback)},buildduration:function(e,t,i,o){var n=this;t.lastChild.querySelector("."+n.options.classPrefix+"currenttime")?t.querySelector("."+n.options.classPrefix+"time").innerHTML+=n.options.timeAndDurationSeparator+'<span class="'+n.options.classPrefix+'duration">'+(0,r.secondsToTimeCode)(n.options.duration,n.options.alwaysShowHours,n.options.showTimecodeFrameCount,n.options.framesPerSecond,n.options.secondsDecimalLength,n.options.timeFormat)+"</span>":(t.querySelector("."+n.options.classPrefix+"currenttime")&&(0,a.addClass)(t.querySelector("."+n.options.classPrefix+"currenttime").parentNode,n.options.classPrefix+"currenttime-container"),(t=s.default.createElement("div")).className=n.options.classPrefix+"time "+n.options.classPrefix+"duration-container",t.innerHTML='<span class="'+n.options.classPrefix+'duration">'+(0,r.secondsToTimeCode)(n.options.duration,n.options.alwaysShowHours,n.options.showTimecodeFrameCount,n.options.framesPerSecond,n.options.secondsDecimalLength,n.options.timeFormat)+"</span>",n.addControlElement(t,"duration")),n.updateDurationCallback=function(){n.controlsAreVisible&&e.updateDuration()},o.addEventListener("timeupdate",n.updateDurationCallback)},cleanduration:function(e,t,i,o){o.removeEventListener("timeupdate",e.updateDurationCallback)},updateCurrent:function(){var e=this,t=e.getCurrentTime(),t=(isNaN(t)&&(t=0),(0,r.secondsToTimeCode)(t,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond,e.options.secondsDecimalLength,e.options.timeFormat));(5<t.length?(0,a.addClass):(0,a.removeClass))(e.getElement(e.container),e.options.classPrefix+"long-video"),e.getElement(e.controls).querySelector("."+e.options.classPrefix+"currenttime")&&(e.getElement(e.controls).querySelector("."+e.options.classPrefix+"currenttime").innerText=t)},updateDuration:function(){var e=this,t=e.getDuration(),i=(void 0!==e.media&&(isNaN(t)||t===1/0||t<0)&&(e.media.duration=e.options.duration=t=0),0<e.options.duration&&(t=e.options.duration),(0,r.secondsToTimeCode)(t,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond,e.options.secondsDecimalLength,e.options.timeFormat));(5<i.length?(0,a.addClass):(0,a.removeClass))(e.getElement(e.container),e.options.classPrefix+"long-video"),e.getElement(e.controls).querySelector("."+e.options.classPrefix+"duration")&&0<t&&(e.getElement(e.controls).querySelector("."+e.options.classPrefix+"duration").innerHTML=i)}})},{16:16,2:2,26:26,30:30}],13:[function(e,t,i){"use strict";var A=a(e(2)),l=a(e(7)),$=a(e(5)),o=e(16),n=a(o),h=e(30),L=e(27),M=e(26);function a(e){return e&&e.__esModule?e:{default:e}}Object.assign(o.config,{startLanguage:"",tracksText:null,chaptersText:null,tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),Object.assign(n.default.prototype,{hasChapters:!1,buildtracks:function(i,e,t,o){if(this.findTracks(),i.tracks.length||i.trackFiles&&0!==!i.trackFiles.length){var n=this,a=n.options.tracksAriaLive?' role="log" aria-live="assertive" aria-atomic="false"':"",s=(0,L.isString)(n.options.tracksText)?n.options.tracksText:$.default.t("mejs.captions-subtitles"),r=(0,L.isString)(n.options.chaptersText)?n.options.chaptersText:$.default.t("mejs.captions-chapters"),l=(null===i.trackFiles?i.tracks:i.trackFiles).length;if(n.domNode.textTracks)for(var d=n.domNode.textTracks.length-1;0<=d;d--)n.domNode.textTracks[d].mode="hidden";n.cleartracks(i),i.captions=A.default.createElement("div"),i.captions.className=n.options.classPrefix+"captions-layer "+n.options.classPrefix+"layer",i.captions.innerHTML='<div class="'+n.options.classPrefix+"captions-position "+n.options.classPrefix+'captions-position-hover"'+a+'><span class="'+n.options.classPrefix+'captions-text"></span></div>',i.captions.style.display="none",t.insertBefore(i.captions,t.firstChild),i.captionsText=i.captions.querySelector("."+n.options.classPrefix+"captions-text"),i.captionsButton=A.default.createElement("div"),i.captionsButton.className=n.options.classPrefix+"button "+n.options.classPrefix+"captions-button",i.captionsButton.innerHTML='<button type="button" aria-controls="'+n.id+'" title="'+s+'" aria-label="'+s+'" tabindex="0"></button><div class="'+n.options.classPrefix+"captions-selector "+n.options.classPrefix+'offscreen"><ul class="'+n.options.classPrefix+'captions-selector-list"><li class="'+n.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+n.options.classPrefix+'captions-selector-input" name="'+i.id+'_captions" id="'+i.id+'_captions_none" value="none" checked disabled><label class="'+n.options.classPrefix+"captions-selector-label "+n.options.classPrefix+'captions-selected" for="'+i.id+'_captions_none">'+$.default.t("mejs.none")+"</label></li></ul></div>",n.addControlElement(i.captionsButton,"tracks"),i.captionsButton.querySelector("."+n.options.classPrefix+"captions-selector-input").disabled=!1,i.chaptersButton=A.default.createElement("div"),i.chaptersButton.className=n.options.classPrefix+"button "+n.options.classPrefix+"chapters-button",i.chaptersButton.innerHTML='<button type="button" aria-controls="'+n.id+'" title="'+r+'" aria-label="'+r+'" tabindex="0"></button><div class="'+n.options.classPrefix+"chapters-selector "+n.options.classPrefix+'offscreen"><ul class="'+n.options.classPrefix+'chapters-selector-list"></ul></div>';for(var c=0,u=0;u<l;u++){var h=i.tracks[u].kind;i.tracks[u].src.trim()&&("subtitles"===h||"captions"===h?c++:"chapters"!==h||e.querySelector("."+n.options.classPrefix+"chapter-selector")||i.captionsButton.parentNode.insertBefore(i.chaptersButton,i.captionsButton))}i.trackToLoad=-1,i.selectedTrack=null,i.isLoadingTrack=!1;for(var p=0;p<l;p++){var m=i.tracks[p].kind;!i.tracks[p].src.trim()||"subtitles"!==m&&"captions"!==m||i.addTrackButton(i.tracks[p].trackId,i.tracks[p].srclang,i.tracks[p].label)}i.loadNextTrack();var f=["mouseenter","focusin"],g=["mouseleave","focusout"];if(n.options.toggleCaptionsButtonWhenOnlyOne&&1===c)i.captionsButton.addEventListener("click",function(e){var t="none",e=(null===i.selectedTrack&&(t=i.tracks[0].trackId),e.keyCode||e.which);i.setTrack(t,void 0!==e)});else{for(var v=i.captionsButton.querySelectorAll("."+n.options.classPrefix+"captions-selector-label"),b=i.captionsButton.querySelectorAll("input[type=radio]"),y=0,w=f.length;y<w;y++)i.captionsButton.addEventListener(f[y],function(){(0,M.removeClass)(this.querySelector("."+n.options.classPrefix+"captions-selector"),n.options.classPrefix+"offscreen")});for(var _=0,k=g.length;_<k;_++)i.captionsButton.addEventListener(g[_],function(){(0,M.addClass)(this.querySelector("."+n.options.classPrefix+"captions-selector"),n.options.classPrefix+"offscreen")});for(var P=0,C=b.length;P<C;P++)b[P].addEventListener("click",function(e){e=e.keyCode||e.which;i.setTrack(this.value,void 0!==e)});for(var S=0,x=v.length;S<x;S++)v[S].addEventListener("click",function(e){var t=(0,M.siblings)(this,function(e){return"INPUT"===e.tagName})[0],i=(0,L.createEvent)("click",t);t.dispatchEvent(i),e.preventDefault()});i.captionsButton.addEventListener("keydown",function(e){e.stopPropagation()})}for(var T=0,B=f.length;T<B;T++)i.chaptersButton.addEventListener(f[T],function(){this.querySelector("."+n.options.classPrefix+"chapters-selector-list").children.length&&(0,M.removeClass)(this.querySelector("."+n.options.classPrefix+"chapters-selector"),n.options.classPrefix+"offscreen")});for(var E=0,I=g.length;E<I;E++)i.chaptersButton.addEventListener(g[E],function(){(0,M.addClass)(this.querySelector("."+n.options.classPrefix+"chapters-selector"),n.options.classPrefix+"offscreen")});i.chaptersButton.addEventListener("keydown",function(e){e.stopPropagation()}),i.options.alwaysShowControls?(0,M.addClass)(i.getElement(i.container).querySelector("."+n.options.classPrefix+"captions-position"),n.options.classPrefix+"captions-position-hover"):(i.getElement(i.container).addEventListener("controlsshown",function(){(0,M.addClass)(i.getElement(i.container).querySelector("."+n.options.classPrefix+"captions-position"),n.options.classPrefix+"captions-position-hover")}),i.getElement(i.container).addEventListener("controlshidden",function(){o.paused||(0,M.removeClass)(i.getElement(i.container).querySelector("."+n.options.classPrefix+"captions-position"),n.options.classPrefix+"captions-position-hover")})),o.addEventListener("timeupdate",function(){i.displayCaptions()}),""!==i.options.slidesSelector&&(i.slidesContainer=A.default.querySelectorAll(i.options.slidesSelector),o.addEventListener("timeupdate",function(){i.displaySlides()}))}},cleartracks:function(e){e&&(e.captions&&e.captions.remove(),e.chapters&&e.chapters.remove(),e.captionsText&&e.captionsText.remove(),e.captionsButton&&e.captionsButton.remove(),e.chaptersButton&&e.chaptersButton.remove())},rebuildtracks:function(){var e=this;e.findTracks(),e.buildtracks(e,e.getElement(e.controls),e.getElement(e.layers),e.media)},findTracks:function(){var e=this,t=null===e.trackFiles?e.node.querySelectorAll("track"):e.trackFiles,i=t.length;e.tracks=[];for(var o=0;o<i;o++){var n=t[o],a=n.getAttribute("srclang").toLowerCase()||"",s=e.id+"_track_"+o+"_"+n.getAttribute("kind")+"_"+a;e.tracks.push({trackId:s,srclang:a,src:n.getAttribute("src"),kind:n.getAttribute("kind"),label:n.getAttribute("label")||"",entries:[],isLoaded:!1})}},setTrack:function(e,t){for(var i=this,o=i.captionsButton.querySelectorAll('input[type="radio"]'),n=i.captionsButton.querySelectorAll("."+i.options.classPrefix+"captions-selected"),a=i.captionsButton.querySelector('input[value="'+e+'"]'),s=0,r=o.length;s<r;s++)o[s].checked=!1;for(var l=0,d=n.length;l<d;l++)(0,M.removeClass)(n[l],i.options.classPrefix+"captions-selected");a.checked=!0;for(var c=(0,M.siblings)(a,function(e){return(0,M.hasClass)(e,i.options.classPrefix+"captions-selector-label")}),u=0,h=c.length;u<h;u++)(0,M.addClass)(c[u],i.options.classPrefix+"captions-selected");if("none"===e)(i.selectedTrack=null,M.removeClass)(i.captionsButton,i.options.classPrefix+"captions-enabled");else for(var p=0,m=i.tracks.length;p<m;p++){var f=i.tracks[p];if(f.trackId===e){null===i.selectedTrack&&(0,M.addClass)(i.captionsButton,i.options.classPrefix+"captions-enabled"),i.selectedTrack=f,i.captions.setAttribute("lang",i.selectedTrack.srclang),i.displayCaptions();break}}a=(0,L.createEvent)("captionschange",i.media);a.detail.caption=i.selectedTrack,i.media.dispatchEvent(a),t||setTimeout(function(){i.getElement(i.container).focus()},500)},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(e){var t=this,i=t.tracks[e];void 0===i||void 0===i.src&&""===i.src||(0,M.ajax)(i.src,"text",function(e){i.entries=("string"==typeof e&&/<tt\s+xml/gi.exec(e)?l.default.TrackFormatParser.dfxp:l.default.TrackFormatParser.webvtt).parse(e),i.isLoaded=!0,t.enableTrackButton(i),t.loadNextTrack(),"slides"===i.kind?t.setupSlides(i):"chapters"!==i.kind||t.hasChapters||(t.drawChapters(i),t.hasChapters=!0)},function(){t.removeTrackButton(i.trackId),t.loadNextTrack()})},enableTrackButton:function(e){var t=this,i=e.srclang,o=A.default.getElementById(""+e.trackId);if(o){var n=e.label;""===n&&(n=$.default.t(l.default.language.codes[i])||i);for(var a=(o.disabled=!1,M.siblings)(o,function(e){return(0,M.hasClass)(e,t.options.classPrefix+"captions-selector-label")}),s=0,r=a.length;s<r;s++)a[s].innerHTML=n;t.options.startLanguage===i&&(o.checked=!0,e=(0,L.createEvent)("click",o),o.dispatchEvent(e))}},removeTrackButton:function(e){var e=A.default.getElementById(""+e);e&&(e=e.closest("li"))&&e.remove()},addTrackButton:function(e,t,i){var o=this;""===i&&(i=$.default.t(l.default.language.codes[t])||t),o.captionsButton.querySelector("ul").innerHTML+='<li class="'+o.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+o.options.classPrefix+'captions-selector-input" name="'+o.id+'_captions" id="'+e+'" value="'+e+'" disabled><label class="'+o.options.classPrefix+'captions-selector-label"for="'+e+'">'+i+" (loading)</label></li>"},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(var i=0,o=e.tracks.length;i<o;i++){var n=e.tracks[i].kind;if(("subtitles"===n||"captions"===n)&&e.tracks[i].isLoaded){t=!0;break}}e.captionsButton.style.display=t?"":"none",e.setControlsSize()}},displayCaptions:function(){var e,t,i,o;void 0!==this.tracks&&(null!==(t=(e=this).selectedTrack)&&t.isLoaded&&-1<(i=e.searchTrackPosition(t.entries,e.media.currentTime))?(o=t.entries[i].text,"function"==typeof e.options.captionTextPreprocessor&&(o=e.options.captionTextPreprocessor(o)),e.captionsText.innerHTML=function(e){var t=A.default.createElement("div");t.innerHTML=e;for(var i=t.getElementsByTagName("script"),o=i.length;o--;)i[o].remove();for(var n=t.getElementsByTagName("*"),a=0,s=n.length;a<s;a++)for(var r=n[a].attributes,l=Array.prototype.slice.call(r),d=0,c=l.length;d<c;d++)l[d].name.startsWith("on")||l[d].value.startsWith("javascript")?n[a].remove():"style"===l[d].name&&n[a].removeAttribute(l[d].name);return t.innerHTML}(o),e.captionsText.className=e.options.classPrefix+"captions-text "+(t.entries[i].identifier||""),e.captions.style.display="",e.captions.style.height="0px"):e.captions.style.display="none")},setupSlides:function(e){this.slides=e,this.slides.entries.imgs=[this.slides.entries.length],this.showSlide(0)},showSlide:function(e){var n=this,a=this;if(void 0!==a.tracks&&void 0!==a.slidesContainer){var t=a.slides.entries[e].text,i=a.slides.entries[e].imgs;if(void 0===i||void 0===i.fadeIn){var s=A.default.createElement("img");s.src=t,s.addEventListener("load",function(){var e=n,t=(0,M.siblings)(e,function(e){return t(e)});e.style.display="none",a.slidesContainer.innerHTML+=e.innerHTML,(0,M.fadeIn)(a.slidesContainer.querySelector(s));for(var i=0,o=t.length;i<o;i++)(0,M.fadeOut)(t[i],400)}),a.slides.entries[e].imgs=i=s}else if(!(0,M.visible)(i)){var o=(0,M.siblings)(self,function(e){return o(e)});(0,M.fadeIn)(a.slidesContainer.querySelector(i));for(var r=0,l=o.length;r<l;r++)(0,M.fadeOut)(o[r])}}},displaySlides:function(){var e;void 0!==this.slides&&(e=this.slides,-1<(e=this.searchTrackPosition(e.entries,this.media.currentTime))&&this.showSlide(e))},drawChapters:function(e){var a=this,t=e.entries.length;if(t){a.chaptersButton.querySelector("ul").innerHTML="";for(var i=0;i<t;i++)a.chaptersButton.querySelector("ul").innerHTML+='<li class="'+a.options.classPrefix+'chapters-selector-list-item" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false"><input type="radio" class="'+a.options.classPrefix+'captions-selector-input" name="'+a.id+'_chapters" id="'+a.id+"_chapters_"+i+'" value="'+e.entries[i].start+'" disabled><label class="'+a.options.classPrefix+'chapters-selector-label"for="'+a.id+"_chapters_"+i+'">'+e.entries[i].text+"</label></li>";for(var o=a.chaptersButton.querySelectorAll('input[type="radio"]'),n=a.chaptersButton.querySelectorAll("."+a.options.classPrefix+"chapters-selector-label"),s=0,r=o.length;s<r;s++)o[s].disabled=!1,o[s].checked=!1,o[s].addEventListener("click",function(e){var t=a.chaptersButton.querySelectorAll("li"),i=(0,M.siblings)(this,function(e){return(0,M.hasClass)(e,a.options.classPrefix+"chapters-selector-label")})[0];this.checked=!0,this.parentNode.setAttribute("aria-checked",!0),(0,M.addClass)(i,a.options.classPrefix+"chapters-selected"),(0,M.removeClass)(a.chaptersButton.querySelector("."+a.options.classPrefix+"chapters-selected"),a.options.classPrefix+"chapters-selected");for(var o=0,n=t.length;o<n;o++)t[o].setAttribute("aria-checked",!1);void 0===(e.keyCode||e.which)&&setTimeout(function(){a.getElement(a.container).focus()},500),a.media.setCurrentTime(parseFloat(this.value)),a.media.paused&&a.media.play()});for(var l=0,d=n.length;l<d;l++)n[l].addEventListener("click",function(e){var t=(0,M.siblings)(this,function(e){return"INPUT"===e.tagName})[0],i=(0,L.createEvent)("click",t);t.dispatchEvent(i),e.preventDefault()})}},searchTrackPosition:function(e,t){for(var i,o,n,a=0,s=e.length-1;a<=s;){if(o=e[i=a+s>>1].start,n=e[i].stop,o<=t&&t<n)return i;o<t?a=1+i:t<o&&(s=i-1)}return-1}}),l.default.language={codes:{af:"mejs.afrikaans",sq:"mejs.albanian",ar:"mejs.arabic",be:"mejs.belarusian",bg:"mejs.bulgarian",ca:"mejs.catalan",zh:"mejs.chinese","zh-cn":"mejs.chinese-simplified","zh-tw":"mejs.chines-traditional",hr:"mejs.croatian",cs:"mejs.czech",da:"mejs.danish",nl:"mejs.dutch",en:"mejs.english",et:"mejs.estonian",fl:"mejs.filipino",fi:"mejs.finnish",fr:"mejs.french",gl:"mejs.galician",de:"mejs.german",el:"mejs.greek",ht:"mejs.haitian-creole",iw:"mejs.hebrew",hi:"mejs.hindi",hu:"mejs.hungarian",is:"mejs.icelandic",id:"mejs.indonesian",ga:"mejs.irish",it:"mejs.italian",ja:"mejs.japanese",ko:"mejs.korean",lv:"mejs.latvian",lt:"mejs.lithuanian",mk:"mejs.macedonian",ms:"mejs.malay",mt:"mejs.maltese",no:"mejs.norwegian",fa:"mejs.persian",pl:"mejs.polish",pt:"mejs.portuguese",ro:"mejs.romanian",ru:"mejs.russian",sr:"mejs.serbian",sk:"mejs.slovak",sl:"mejs.slovenian",es:"mejs.spanish",sw:"mejs.swahili",sv:"mejs.swedish",tl:"mejs.tagalog",th:"mejs.thai",tr:"mejs.turkish",uk:"mejs.ukrainian",vi:"mejs.vietnamese",cy:"mejs.welsh",yi:"mejs.yiddish"}},l.default.TrackFormatParser={webvtt:{pattern:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(e){for(var t,i=e.split(/\r?\n/),o=[],n=void 0,a=void 0,s=0,r=i.length;s<r;s++){if((t=this.pattern.exec(i[s]))&&s<i.length){for(0<=s-1&&""!==i[s-1]&&(a=i[s-1]),n=i[++s],s++;""!==i[s]&&s<i.length;)n=n+"\n"+i[s],s++;n=null===n?"":n.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),o.push({identifier:a,start:0===(0,h.convertSMPTEtoSeconds)(t[1])?.2:(0,h.convertSMPTEtoSeconds)(t[1]),stop:(0,h.convertSMPTEtoSeconds)(t[3]),text:n,settings:t[5]})}a=""}return o}},dfxp:{parse:function(e){var e=A.default.adoptNode((new DOMParser).parseFromString(e,"application/xml").documentElement).querySelector("div"),t=e.querySelectorAll("p"),e=A.default.getElementById(e.getAttribute("style")),i=[],o=void 0;if(e){e.removeAttribute("id");var n=e.attributes;if(n.length)for(var o={},a=0,s=n.length;a<s;a++)o[n[a].name.split(":")[1]]=n[a].value}for(var r=0,l=t.length;r<l;r++){var d=void 0,c={start:null,stop:null,style:null,text:null};if(t[r].getAttribute("begin")&&(c.start=(0,h.convertSMPTEtoSeconds)(t[r].getAttribute("begin"))),!c.start&&t[r-1].getAttribute("end")&&(c.start=(0,h.convertSMPTEtoSeconds)(t[r-1].getAttribute("end"))),t[r].getAttribute("end")&&(c.stop=(0,h.convertSMPTEtoSeconds)(t[r].getAttribute("end"))),!c.stop&&t[r+1].getAttribute("begin")&&(c.stop=(0,h.convertSMPTEtoSeconds)(t[r+1].getAttribute("begin"))),o)for(var u in d="",o)d+=u+": "+o[u]+";";d&&(c.style=d),0===c.start&&(c.start=.2),c.text=t[r].innerHTML.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_| !:, .; ]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),i.push(c)}return i}}}},{16:16,2:2,26:26,27:27,30:30,5:5,7:7}],14:[function(e,t,i){"use strict";var k=a(e(2)),o=e(16),n=a(o),P=a(e(5)),C=e(25),S=e(27),x=e(26);function a(e){return e&&e.__esModule?e:{default:e}}Object.assign(o.config,{muteText:null,unmuteText:null,allyVolumeControlText:null,hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical",startVolume:.8}),Object.assign(n.default.prototype,{buildvolume:function(e,t,i,o){var a,s,n,r,l,d,c,u,h,p,m,f,g,v,b,y,w,_;(C.IS_ANDROID||C.IS_IOS)&&this.options.hideVolumeOnTouchDevices||(s=(a=this).isVideo?a.options.videoVolume:a.options.audioVolume,n=(0,S.isString)(a.options.muteText)?a.options.muteText:P.default.t("mejs.mute"),r=(0,S.isString)(a.options.unmuteText)?a.options.unmuteText:P.default.t("mejs.unmute"),l=(0,S.isString)(a.options.allyVolumeControlText)?a.options.allyVolumeControlText:P.default.t("mejs.volume-help-text"),(d=k.default.createElement("div")).className=a.options.classPrefix+"button "+a.options.classPrefix+"volume-button "+a.options.classPrefix+"mute",d.innerHTML="horizontal"===s?'<button type="button" aria-controls="'+a.id+'" title="'+n+'" aria-label="'+n+'" tabindex="0"></button>':'<button type="button" aria-controls="'+a.id+'" title="'+n+'" aria-label="'+n+'" tabindex="0"></button><a href="javascript:void(0);" class="'+a.options.classPrefix+'volume-slider" aria-label="'+P.default.t("mejs.volume-slider")+'" aria-valuemin="0" aria-valuemax="100" role="slider" aria-orientation="vertical"><span class="'+a.options.classPrefix+'offscreen">'+l+'</span><div class="'+a.options.classPrefix+'volume-total"><div class="'+a.options.classPrefix+'volume-current"></div><div class="'+a.options.classPrefix+'volume-handle"></div></div></a>',a.addControlElement(d,"volume"),a.options.keyActions.push({keys:[38],action:function(e){var t=e.getElement(e.container).querySelector("."+a.options.classPrefix+"volume-slider"),t=(t&&t.matches(":focus")&&(t.style.display="block"),e.isVideo&&(e.showControls(),e.startControlsTimer()),Math.min(e.volume+.1,1));e.setVolume(t),0<t&&e.setMuted(!1)}},{keys:[40],action:function(e){var t=e.getElement(e.container).querySelector("."+a.options.classPrefix+"volume-slider"),t=(t&&(t.style.display="block"),e.isVideo&&(e.showControls(),e.startControlsTimer()),Math.max(e.volume-.1,0));e.setVolume(t),t<=.1&&e.setMuted(!0)}},{keys:[77],action:function(e){var t=e.getElement(e.container).querySelector("."+a.options.classPrefix+"volume-slider");t&&(t.style.display="block"),e.isVideo&&(e.showControls(),e.startControlsTimer()),e.media.muted?e.setMuted(!1):e.setMuted(!0)}}),"horizontal"===s&&((c=k.default.createElement("a")).className=a.options.classPrefix+"horizontal-volume-slider",c.href="javascript:void(0);",c.setAttribute("aria-label",P.default.t("mejs.volume-slider")),c.setAttribute("aria-valuemin",0),c.setAttribute("aria-valuemax",100),c.setAttribute("aria-valuenow",100),c.setAttribute("role","slider"),c.innerHTML+='<span class="'+a.options.classPrefix+'offscreen">'+l+'</span><div class="'+a.options.classPrefix+'horizontal-volume-total"><div class="'+a.options.classPrefix+'horizontal-volume-current"></div><div class="'+a.options.classPrefix+'horizontal-volume-handle"></div></div>',d.parentNode.insertBefore(c,d.nextSibling)),p=h=u=!1,m="vertical"===s?a.getElement(a.container).querySelector("."+a.options.classPrefix+"volume-slider"):a.getElement(a.container).querySelector("."+a.options.classPrefix+"horizontal-volume-slider"),f="vertical"===s?a.getElement(a.container).querySelector("."+a.options.classPrefix+"volume-total"):a.getElement(a.container).querySelector("."+a.options.classPrefix+"horizontal-volume-total"),g="vertical"===s?a.getElement(a.container).querySelector("."+a.options.classPrefix+"volume-current"):a.getElement(a.container).querySelector("."+a.options.classPrefix+"horizontal-volume-current"),v="vertical"===s?a.getElement(a.container).querySelector("."+a.options.classPrefix+"volume-handle"):a.getElement(a.container).querySelector("."+a.options.classPrefix+"horizontal-volume-handle"),b=function(e){var t;null===e||isNaN(e)||void 0===e||(e=Math.max(0,e),0===(e=Math.min(e,1))?((0,x.removeClass)(d,a.options.classPrefix+"mute"),(0,x.addClass)(d,a.options.classPrefix+"unmute"),(t=d.firstElementChild).setAttribute("title",r),t.setAttribute("aria-label",r)):((0,x.removeClass)(d,a.options.classPrefix+"unmute"),(0,x.addClass)(d,a.options.classPrefix+"mute"),(t=d.firstElementChild).setAttribute("title",n),t.setAttribute("aria-label",n)),t=100*e+"%",e=getComputedStyle(v),"vertical"===s?(g.style.bottom=0,g.style.height=t,v.style.bottom=t,v.style.marginBottom=-parseFloat(e.height)/2+"px"):(g.style.left=0,g.style.width=t,v.style.left=t,v.style.marginLeft=-parseFloat(e.width)/2+"px"))},y=function(e){var t=(0,x.offset)(f),i=getComputedStyle(f),o=(p=!0,null);if("vertical"===s){var n=parseFloat(i.height),o=(n-(e.pageY-t.top))/n;if(0===t.top||0===t.left)return}else{n=parseFloat(i.width);o=(e.pageX-t.left)/n}o=Math.max(0,o),o=Math.min(o,1),b(o),a.setMuted(0===o),a.setVolume(o),e.preventDefault(),e.stopPropagation()},w=function(){a.muted?(b(0),(0,x.removeClass)(d,a.options.classPrefix+"mute"),(0,x.addClass)(d,a.options.classPrefix+"unmute")):(b(o.volume),(0,x.removeClass)(d,a.options.classPrefix+"unmute"),(0,x.addClass)(d,a.options.classPrefix+"mute"))},e.getElement(e.container).addEventListener("keydown",function(e){e.target.closest("."+a.options.classPrefix+"container")||"vertical"!==s||(m.style.display="none")}),d.addEventListener("mouseenter",function(e){e.target===d&&(m.style.display="block",h=!0,e.preventDefault(),e.stopPropagation())}),d.addEventListener("focusin",function(){m.style.display="block",h=!0}),d.addEventListener("focusout",function(e){e.relatedTarget&&(!e.relatedTarget||e.relatedTarget.matches("."+a.options.classPrefix+"volume-slider"))||"vertical"!==s||(m.style.display="none")}),d.addEventListener("mouseleave",function(){h=!1,u||"vertical"!==s||(m.style.display="none")}),d.addEventListener("focusout",function(){h=!1}),d.addEventListener("keydown",function(e){if(a.options.enableKeyboard&&a.options.keyActions.length){var t=e.which||e.keyCode||0,i=o.volume;switch(t){case 38:i=Math.min(i+.1,1);break;case 40:i=Math.max(0,i-.1);break;default:return!0}u=!1,b(i),o.setVolume(i),e.preventDefault(),e.stopPropagation()}}),d.querySelector("button").addEventListener("click",function(){o.setMuted(!o.muted);var e=(0,S.createEvent)("volumechange",o);o.dispatchEvent(e)}),m.addEventListener("dragstart",function(){return!1}),m.addEventListener("mouseover",function(){h=!0}),m.addEventListener("focusin",function(){m.style.display="block",h=!0}),m.addEventListener("focusout",function(){h=!1,u||"vertical"!==s||(m.style.display="none")}),m.addEventListener("mousedown",function(e){y(e),a.globalBind("mousemove.vol",function(e){var t=e.target;u&&(t===m||t.closest("vertical"===s?"."+a.options.classPrefix+"volume-slider":"."+a.options.classPrefix+"horizontal-volume-slider"))&&y(e)}),a.globalBind("mouseup.vol",function(){u=!1,h||"vertical"!==s||(m.style.display="none")}),u=!0,e.preventDefault(),e.stopPropagation()}),o.addEventListener("volumechange",function(e){var t;u||w(),t=Math.floor(100*o.volume),m.setAttribute("aria-valuenow",t),m.setAttribute("aria-valuetext",t+"%")}),_=!1,o.addEventListener("rendererready",function(){p||setTimeout(function(){_=!0,0!==e.options.startVolume&&!o.originalNode.muted||o.setMuted(!0),o.setVolume(e.options.startVolume),a.setControlsSize()},250)}),o.addEventListener("loadedmetadata",function(){setTimeout(function(){p||_||(0!==e.options.startVolume&&!o.originalNode.muted||o.setMuted(!0),0===e.options.startVolume&&(e.options.startVolume=0),o.setVolume(e.options.startVolume),a.setControlsSize()),_=!1},250)}),0!==e.options.startVolume&&!o.originalNode.muted||(o.setMuted(!0),0===e.options.startVolume&&(e.options.startVolume=0),w()),a.getElement(a.container).addEventListener("controlsresize",function(){w()}))}})},{16:16,2:2,25:25,26:26,27:27,5:5}],15:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.EN={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.install-flash":"You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/","mejs.fullscreen":"Fullscreen","mejs.play":"Play","mejs.pause":"Pause","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.live-broadcast":"Live Broadcast","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.captions-subtitles":"Captions/Subtitles","mejs.captions-chapters":"Chapters","mejs.none":"None","mejs.afrikaans":"Afrikaans","mejs.albanian":"Albanian","mejs.arabic":"Arabic","mejs.belarusian":"Belarusian","mejs.bulgarian":"Bulgarian","mejs.catalan":"Catalan","mejs.chinese":"Chinese","mejs.chinese-simplified":"Chinese (Simplified)","mejs.chinese-traditional":"Chinese (Traditional)","mejs.croatian":"Croatian","mejs.czech":"Czech","mejs.danish":"Danish","mejs.dutch":"Dutch","mejs.english":"English","mejs.estonian":"Estonian","mejs.filipino":"Filipino","mejs.finnish":"Finnish","mejs.french":"French","mejs.galician":"Galician","mejs.german":"German","mejs.greek":"Greek","mejs.haitian-creole":"Haitian Creole","mejs.hebrew":"Hebrew","mejs.hindi":"Hindi","mejs.hungarian":"Hungarian","mejs.icelandic":"Icelandic","mejs.indonesian":"Indonesian","mejs.irish":"Irish","mejs.italian":"Italian","mejs.japanese":"Japanese","mejs.korean":"Korean","mejs.latvian":"Latvian","mejs.lithuanian":"Lithuanian","mejs.macedonian":"Macedonian","mejs.malay":"Malay","mejs.maltese":"Maltese","mejs.norwegian":"Norwegian","mejs.persian":"Persian","mejs.polish":"Polish","mejs.portuguese":"Portuguese","mejs.romanian":"Romanian","mejs.russian":"Russian","mejs.serbian":"Serbian","mejs.slovak":"Slovak","mejs.slovenian":"Slovenian","mejs.spanish":"Spanish","mejs.swahili":"Swahili","mejs.swedish":"Swedish","mejs.tagalog":"Tagalog","mejs.thai":"Thai","mejs.turkish":"Turkish","mejs.ukrainian":"Ukrainian","mejs.vietnamese":"Vietnamese","mejs.welsh":"Welsh","mejs.yiddish":"Yiddish"}},{}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.config=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e},m=l(e(3)),f=l(e(2)),g=l(e(7)),n=l(e(6)),a=l(e(17)),d=l(e(5)),v=e(25),u=e(27),r=e(30),b=e(28),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(e(26));function s(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return e&&e.__esModule?e:{default:e}}g.default.mepIndex=0,g.default.players={};var c=i.config={poster:"",showPosterWhenEnded:!1,showPosterWhenPaused:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:40,defaultSeekBackwardInterval:function(e){return.05*e.getDuration()},defaultSeekForwardInterval:function(e){return.05*e.getDuration()},setDimensions:!0,audioWidth:-1,audioHeight:-1,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,hideVideoControlsOnPause:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],useDefaultControls:!1,isVideo:!0,stretching:"auto",classPrefix:"mejs__",enableKeyboard:!0,pauseOtherPlayers:!0,secondsDecimalLength:0,customError:null,keyActions:[{keys:[32,179],action:function(e){v.IS_FIREFOX||(e.paused||e.ended?e.play():e.pause())}}]},e=(g.default.MepDefaults=c,o(h,[{key:"getElement",value:function(e){return e}},{key:"init",value:function(){var e,i=this,t=Object.assign({},i.options,{success:function(e,t){i._meReady(e,t)},error:function(e){i._handleError(e)}}),o=i.node.tagName.toLowerCase();i.isDynamic="audio"!==o&&"video"!==o&&"iframe"!==o,i.isVideo=(i.isDynamic||"audio"!==o)&&i.options.isVideo,i.mediaFiles=null,i.trackFiles=null,v.IS_IPAD&&i.options.iPadUseNativeControls||v.IS_IPHONE&&i.options.iPhoneUseNativeControls?(i.node.setAttribute("controls",!0),v.IS_IPAD&&i.node.getAttribute("autoplay")&&i.play()):!i.isVideo&&(i.isVideo||!i.options.features.length&&!i.options.useDefaultControls)||v.IS_ANDROID&&i.options.AndroidUseNativeControls?i.isVideo||i.options.features.length||i.options.useDefaultControls||(i.node.style.display="none"):(i.node.removeAttribute("controls"),o=i.isVideo?d.default.t("mejs.video-player"):d.default.t("mejs.audio-player"),(e=f.default.createElement("span")).className=i.options.classPrefix+"offscreen",e.innerText=o,i.media.parentNode.insertBefore(e,i.media),i.container=f.default.createElement("div"),i.getElement(i.container).id=i.id,i.getElement(i.container).className=i.options.classPrefix+"container "+i.options.classPrefix+"container-keyboard-inactive "+i.media.className,i.getElement(i.container).tabIndex=0,i.getElement(i.container).setAttribute("role","application"),i.getElement(i.container).setAttribute("aria-label",o),i.getElement(i.container).innerHTML='<div class="'+i.options.classPrefix+'inner"><div class="'+i.options.classPrefix+'mediaelement"></div><div class="'+i.options.classPrefix+'layers"></div><div class="'+i.options.classPrefix+'controls"></div></div>',i.getElement(i.container).addEventListener("focus",function(e){i.controlsAreVisible||i.hasFocus||!i.controlsEnabled||(i.showControls(!0),e=(0,u.isNodeAfter)(e.relatedTarget,i.getElement(i.container))?"."+i.options.classPrefix+"controls ."+i.options.classPrefix+"button:last-child > button":"."+i.options.classPrefix+"playpause-button > button",i.getElement(i.container).querySelector(e).focus())}),i.node.parentNode.insertBefore(i.getElement(i.container),i.node),i.options.features.length||i.options.useDefaultControls||(i.getElement(i.container).style.background="transparent",i.getElement(i.container).querySelector("."+i.options.classPrefix+"controls").style.display="none"),i.isVideo&&"fill"===i.options.stretching&&!y.hasClass(i.getElement(i.container).parentNode,i.options.classPrefix+"fill-container")&&(i.outerContainer=i.media.parentNode,(e=f.default.createElement("div")).className=i.options.classPrefix+"fill-container",i.getElement(i.container).parentNode.insertBefore(e,i.getElement(i.container)),e.appendChild(i.getElement(i.container))),v.IS_ANDROID&&y.addClass(i.getElement(i.container),i.options.classPrefix+"android"),v.IS_IOS&&y.addClass(i.getElement(i.container),i.options.classPrefix+"ios"),v.IS_IPAD&&y.addClass(i.getElement(i.container),i.options.classPrefix+"ipad"),v.IS_IPHONE&&y.addClass(i.getElement(i.container),i.options.classPrefix+"iphone"),y.addClass(i.getElement(i.container),i.isVideo?i.options.classPrefix+"video":i.options.classPrefix+"audio"),i.getElement(i.container).querySelector("."+i.options.classPrefix+"mediaelement").appendChild(i.node),(i.media.player=i).controls=i.getElement(i.container).querySelector("."+i.options.classPrefix+"controls"),i.layers=i.getElement(i.container).querySelector("."+i.options.classPrefix+"layers"),e=(o=i.isVideo?"video":"audio").substring(0,1).toUpperCase()+o.substring(1),0<i.options[o+"Width"]||-1<i.options[o+"Width"].toString().indexOf("%")?i.width=i.options[o+"Width"]:""!==i.node.style.width&&null!==i.node.style.width?i.width=i.node.style.width:i.node.getAttribute("width")?i.width=i.node.getAttribute("width"):i.width=i.options["default"+e+"Width"],0<i.options[o+"Height"]||-1<i.options[o+"Height"].toString().indexOf("%")?i.height=i.options[o+"Height"]:""!==i.node.style.height&&null!==i.node.style.height?i.height=i.node.style.height:i.node.getAttribute("height")?i.height=i.node.getAttribute("height"):i.height=i.options["default"+e+"Height"],i.initialAspectRatio=i.height>=i.width?i.width/i.height:i.height/i.width,i.setPlayerSize(i.width,i.height),t.pluginWidth=i.width,t.pluginHeight=i.height),g.default.MepDefaults=t,new n.default(i.media,t,i.mediaFiles),void 0!==i.getElement(i.container)&&i.options.features.length&&i.controlsAreVisible&&!i.options.hideVideoControlsOnLoad&&(o=(0,u.createEvent)("controlsshown",i.getElement(i.container)),i.getElement(i.container).dispatchEvent(o))}},{key:"showControls",value:function(e){var t=this;if(e=void 0===e||e,!t.controlsAreVisible&&t.isVideo){if(e){y.fadeIn(t.getElement(t.controls),200,function(){y.removeClass(t.getElement(t.controls),t.options.classPrefix+"offscreen");var e=(0,u.createEvent)("controlsshown",t.getElement(t.container));t.getElement(t.container).dispatchEvent(e)});for(var i=t.getElement(t.container).querySelectorAll("."+t.options.classPrefix+"control"),o=0,n=i.length;o<n;o++)!function(e){y.fadeIn(i[e],200,function(){y.removeClass(i[e],t.options.classPrefix+"offscreen")})}(o)}else{y.removeClass(t.getElement(t.controls),t.options.classPrefix+"offscreen"),t.getElement(t.controls).style.display="",t.getElement(t.controls).style.opacity=1;for(var a=t.getElement(t.container).querySelectorAll("."+t.options.classPrefix+"control"),s=0,r=a.length;s<r;s++)y.removeClass(a[s],t.options.classPrefix+"offscreen"),a[s].style.display="";e=(0,u.createEvent)("controlsshown",t.getElement(t.container));t.getElement(t.container).dispatchEvent(e)}t.controlsAreVisible=!0,t.setControlsSize()}}},{key:"hideControls",value:function(e,t){var i=this;if(e=void 0===e||e,!0===t||!(!i.controlsAreVisible||i.options.alwaysShowControls||i.paused&&4===i.readyState&&(!i.options.hideVideoControlsOnLoad&&i.currentTime<=0||!i.options.hideVideoControlsOnPause&&0<i.currentTime)||i.isVideo&&!i.options.hideVideoControlsOnLoad&&!i.readyState||i.ended)){if(e){y.fadeOut(i.getElement(i.controls),200,function(){y.addClass(i.getElement(i.controls),i.options.classPrefix+"offscreen");var e=(i.getElement(i.controls).style.display="",u.createEvent)("controlshidden",i.getElement(i.container));i.getElement(i.container).dispatchEvent(e)});for(var o=i.getElement(i.container).querySelectorAll("."+i.options.classPrefix+"control"),n=0,a=o.length;n<a;n++)!function(e){y.fadeOut(o[e],200,function(){y.addClass(o[e],i.options.classPrefix+"offscreen"),o[e].style.display=""})}(n)}else{y.addClass(i.getElement(i.controls),i.options.classPrefix+"offscreen"),i.getElement(i.controls).style.display="",i.getElement(i.controls).style.opacity=0;for(var s=i.getElement(i.container).querySelectorAll("."+i.options.classPrefix+"control"),r=0,l=s.length;r<l;r++)y.addClass(s[r],i.options.classPrefix+"offscreen"),s[r].style.display="";t=(0,u.createEvent)("controlshidden",i.getElement(i.container));i.getElement(i.container).dispatchEvent(t)}i.controlsAreVisible=!1}}},{key:"startControlsTimer",value:function(e){var t=this;e=void 0!==e?e:t.options.controlsTimeoutDefault,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)}},{key:"killControlsTimer",value:function(){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)}},{key:"disableControls",value:function(){this.killControlsTimer(),this.controlsEnabled=!1,this.hideControls(!1,!0)}},{key:"enableControls",value:function(){this.controlsEnabled=!0,this.showControls(!1)}},{key:"_setDefaultPlayer",value:function(){var e=this;e.proxy&&e.proxy.pause(),e.proxy=new a.default(e),e.media.addEventListener("loadedmetadata",function(){0<e.getCurrentTime()&&0<e.currentMediaTime&&(e.setCurrentTime(e.currentMediaTime),v.IS_IOS||v.IS_ANDROID||e.play())})}},{key:"_meReady",value:function(e,t){var i=this,o=t.getAttribute("autoplay"),o=!(null==o||"false"===o),n=null!==e.rendererName&&/(native|html5)/i.test(e.rendererName);if(i.getElement(i.controls)&&i.enableControls(),i.getElement(i.container)&&i.getElement(i.container).querySelector("."+i.options.classPrefix+"overlay-play")&&(i.getElement(i.container).querySelector("."+i.options.classPrefix+"overlay-play").style.display=""),!i.created){if(i.created=!0,i.media=e,i.domNode=t,!(v.IS_ANDROID&&i.options.AndroidUseNativeControls||v.IS_IPAD&&i.options.iPadUseNativeControls||v.IS_IPHONE&&i.options.iPhoneUseNativeControls)){if(!i.isVideo&&!i.options.features.length&&!i.options.useDefaultControls)return o&&n&&i.play(),void(i.options.success&&("string"==typeof i.options.success?m.default[i.options.success](i.media,i.domNode,i):i.options.success(i.media,i.domNode,i)));i.featurePosition={},i._setDefaultPlayer(),i.buildposter(i,i.getElement(i.controls),i.getElement(i.layers),i.media),i.buildkeyboard(i,i.getElement(i.controls),i.getElement(i.layers),i.media),i.buildoverlays(i,i.getElement(i.controls),i.getElement(i.layers),i.media),i.options.useDefaultControls&&(a=["playpause","current","progress","duration","tracks","volume","fullscreen"],i.options.features=a.concat(i.options.features.filter(function(e){return-1===a.indexOf(e)}))),i.buildfeatures(i,i.getElement(i.controls),i.getElement(i.layers),i.media);var a,e=(0,u.createEvent)("controlsready",i.getElement(i.container)),s=(i.getElement(i.container).dispatchEvent(e),i.setPlayerSize(i.width,i.height),i.setControlsSize(),i.isVideo&&(i.clickToPlayPauseCallback=function(){var e,t;i.options.clickToPlayPause&&(t=(e=i.getElement(i.container).querySelector("."+i.options.classPrefix+"overlay-button")).getAttribute("aria-pressed"),(!i.paused||!t)&&i.paused?i.play():i.pause(),e.setAttribute("aria-pressed",!t),i.getElement(i.container).focus())},i.createIframeLayer(),i.media.addEventListener("click",i.clickToPlayPauseCallback),!v.IS_ANDROID&&!v.IS_IOS||i.options.alwaysShowControls?(i.getElement(i.container).addEventListener("mouseenter",function(){!i.controlsEnabled||i.options.alwaysShowControls||(i.killControlsTimer("enter"),i.showControls(),i.startControlsTimer(i.options.controlsTimeoutMouseEnter))}),i.getElement(i.container).addEventListener("mousemove",function(){i.controlsEnabled&&(i.controlsAreVisible||i.showControls(),i.options.alwaysShowControls||i.startControlsTimer(i.options.controlsTimeoutMouseEnter))}),i.getElement(i.container).addEventListener("mouseleave",function(){!i.controlsEnabled||i.paused||i.options.alwaysShowControls||i.startControlsTimer(i.options.controlsTimeoutMouseLeave)})):i.node.addEventListener("touchstart",function(){i.controlsAreVisible?i.hideControls(!1):i.controlsEnabled&&i.showControls(!1)},!!v.SUPPORT_PASSIVE_EVENT&&{passive:!0}),i.options.hideVideoControlsOnLoad&&i.hideControls(!1),i.options.enableAutosize&&i.media.addEventListener("loadedmetadata",function(e){e=void 0!==e?e.detail.target||e.target:i.media;i.options.videoHeight<=0&&!i.domNode.getAttribute("height")&&!i.domNode.style.height&&null!==e&&!isNaN(e.videoHeight)&&(i.setPlayerSize(e.videoWidth,e.videoHeight),i.setControlsSize(),i.media.setSize(e.videoWidth,e.videoHeight))})),i.media.addEventListener("play",function(){for(var e in i.hasFocus=!0,g.default.players)!g.default.players.hasOwnProperty(e)||(e=g.default.players[e]).id===i.id||!i.options.pauseOtherPlayers||e.paused||e.ended||!0===e.options.ignorePauseOtherPlayersOption||(e.pause(),e.hasFocus=!1);v.IS_ANDROID||v.IS_IOS||i.options.alwaysShowControls||!i.isVideo||i.hideControls()}),i.media.addEventListener("ended",function(){if(i.options.autoRewind)try{i.setCurrentTime(0),setTimeout(function(){var e=i.getElement(i.container).querySelector("."+i.options.classPrefix+"overlay-loading");e&&e.parentNode&&(e.parentNode.style.display="none")},20)}catch(e){}"function"==typeof i.media.renderer.stop?i.media.renderer.stop():i.pause(),i.setProgressRail&&i.setProgressRail(),i.setCurrentRail&&i.setCurrentRail(),i.options.loop?i.play():!i.options.alwaysShowControls&&i.controlsEnabled&&i.showControls()}),i.media.addEventListener("loadedmetadata",function(){(0,r.calculateTimeFormat)(i.getDuration(),i.options,i.options.framesPerSecond||25),i.updateDuration&&i.updateDuration(),i.updateCurrent&&i.updateCurrent(),i.isFullScreen||(i.setPlayerSize(i.width,i.height),i.setControlsSize())}),null);i.media.addEventListener("timeupdate",function(){isNaN(i.getDuration())||s===i.getDuration()||(s=i.getDuration(),(0,r.calculateTimeFormat)(s,i.options,i.options.framesPerSecond||25),i.updateDuration&&i.updateDuration(),i.updateCurrent&&i.updateCurrent(),i.setControlsSize())}),i.getElement(i.container).addEventListener("click",function(e){y.addClass(e.currentTarget,i.options.classPrefix+"container-keyboard-inactive")}),i.getElement(i.container).addEventListener("focusin",function(e){y.removeClass(e.currentTarget,i.options.classPrefix+"container-keyboard-inactive"),!i.isVideo||v.IS_ANDROID||v.IS_IOS||!i.controlsEnabled||i.options.alwaysShowControls||(i.killControlsTimer("enter"),i.showControls(),i.startControlsTimer(i.options.controlsTimeoutMouseEnter))}),i.getElement(i.container).addEventListener("focusout",function(e){setTimeout(function(){e.relatedTarget&&i.keyboardAction&&!e.relatedTarget.closest("."+i.options.classPrefix+"container")&&(i.keyboardAction=!1,!i.isVideo||i.options.alwaysShowControls||i.paused||i.startControlsTimer(i.options.controlsTimeoutMouseLeave))},0)}),setTimeout(function(){i.setPlayerSize(i.width,i.height),i.setControlsSize()},0),i.globalResizeCallback=function(){i.isFullScreen||v.HAS_TRUE_NATIVE_FULLSCREEN&&f.default.webkitIsFullScreen||i.setPlayerSize(i.width,i.height),i.setControlsSize()},i.globalBind("resize",i.globalResizeCallback)}o&&n&&i.play(),i.options.success&&("string"==typeof i.options.success?m.default[i.options.success](i.media,i.domNode,i):i.options.success(i.media,i.domNode,i))}}},{key:"_handleError",value:function(e,t,i){var o=this,n=o.getElement(o.layers).querySelector("."+o.options.classPrefix+"overlay-play"),n=(n&&(n.style.display="none"),o.options.error&&o.options.error(e,t,i),o.getElement(o.container).querySelector("."+o.options.classPrefix+"cannotplay")&&o.getElement(o.container).querySelector("."+o.options.classPrefix+"cannotplay").remove(),f.default.createElement("div")),a=(n.className=o.options.classPrefix+"cannotplay",n.style.width="100%",n.style.height="100%","function"==typeof o.options.customError?o.options.customError(o.media,o.media.originalNode):o.options.customError),t="";if(!a){i=o.media.originalNode.getAttribute("poster");if(i&&(t='<img src="'+i+'" alt="'+g.default.i18n.t("mejs.download-file")+'">'),e.message&&(a="<p>"+e.message+"</p>"),e.urls)for(var s=0,r=e.urls.length;s<r;s++){var l=e.urls[s];a+='<a href="'+l.src+'" data-type="'+l.type+'"><span>'+g.default.i18n.t("mejs.download-file")+": "+l.src+"</span></a>"}}a&&o.getElement(o.layers).querySelector("."+o.options.classPrefix+"overlay-error")&&(n.innerHTML=a,o.getElement(o.layers).querySelector("."+o.options.classPrefix+"overlay-error").innerHTML=""+t+n.outerHTML,o.getElement(o.layers).querySelector("."+o.options.classPrefix+"overlay-error").parentNode.style.display="block"),o.controlsEnabled&&o.disableControls()}},{key:"setPlayerSize",value:function(e,t){var i=this;if(!i.options.setDimensions)return!1;switch(void 0!==e&&(i.width=e),void 0!==t&&(i.height=t),i.options.stretching){case"fill":i.isVideo?i.setFillMode():i.setDimensions(i.width,i.height);break;case"responsive":i.setResponsiveMode();break;case"none":i.setDimensions(i.width,i.height);break;default:!0===i.hasFluidMode()?i.setResponsiveMode():i.setDimensions(i.width,i.height)}}},{key:"hasFluidMode",value:function(){var e=this;return-1!==e.height.toString().indexOf("%")||e.node&&e.node.style.maxWidth&&"none"!==e.node.style.maxWidth&&e.node.style.maxWidth!==e.width||e.node&&e.node.currentStyle&&"100%"===e.node.currentStyle.maxWidth}},{key:"setResponsiveMode",value:function(){var e=this,t=function(){for(var t=void 0,i=e.getElement(e.container);i;){try{if(v.IS_FIREFOX&&"html"===i.tagName.toLowerCase()&&m.default.self!==m.default.top&&null!==m.default.frameElement)return m.default.frameElement;t=i.parentElement}catch(e){t=i.parentElement}if(t&&y.visible(t))return t;i=t}return null}(),t=t?getComputedStyle(t,null):getComputedStyle(f.default.body,null),i=e.isVideo?e.node.videoWidth&&0<e.node.videoWidth?e.node.videoWidth:e.node.getAttribute("width")?e.node.getAttribute("width"):e.options.defaultVideoWidth:e.options.defaultAudioWidth,o=e.isVideo?e.node.videoHeight&&0<e.node.videoHeight?e.node.videoHeight:e.node.getAttribute("height")?e.node.getAttribute("height"):e.options.defaultVideoHeight:e.options.defaultAudioHeight,n=e.options.enableAutosize?(n=1,e.isVideo&&(n=e.node.videoWidth&&0<e.node.videoWidth&&e.node.videoHeight&&0<e.node.videoHeight?e.height>=e.width?e.node.videoWidth/e.node.videoHeight:e.node.videoHeight/e.node.videoWidth:e.initialAspectRatio,(isNaN(n)||n<.01||100<n)&&(n=1)),n):e.initialAspectRatio,a=parseFloat(t.height),s=void 0,t=parseFloat(t.width),s=e.isVideo?"100%"===e.height?parseFloat(t*o/i,10):e.height>=e.width?parseFloat(t/n,10):parseFloat(t*n,10):o;if(isNaN(s)&&(s=a),0<e.getElement(e.container).parentNode.length&&"body"===e.getElement(e.container).parentNode.tagName.toLowerCase()&&(t=m.default.innerWidth||f.default.documentElement.clientWidth||f.default.body.clientWidth,s=m.default.innerHeight||f.default.documentElement.clientHeight||f.default.body.clientHeight),s&&t){e.getElement(e.container).style.width=t+"px",e.getElement(e.container).style.height=s+"px",e.node.style.width="100%",e.node.style.height="100%",e.isVideo&&e.media.setSize&&e.media.setSize(t,s);for(var r=e.getElement(e.layers).children,l=0,d=r.length;l<d;l++)r[l].style.width="100%",r[l].style.height="100%"}}},{key:"setFillMode",value:function(){var e=this,t=m.default.self!==m.default.top&&null!==m.default.frameElement,i=function(){for(var t=void 0,i=e.getElement(e.container);i;){try{if(v.IS_FIREFOX&&"html"===i.tagName.toLowerCase()&&m.default.self!==m.default.top&&null!==m.default.frameElement)return m.default.frameElement;t=i.parentElement}catch(e){t=i.parentElement}if(t&&y.visible(t))return t;i=t}return null}(),o=i?getComputedStyle(i,null):getComputedStyle(f.default.body,null),n=("none"!==e.node.style.height&&e.node.style.height!==e.height&&(e.node.style.height="auto"),"none"!==e.node.style.maxWidth&&e.node.style.maxWidth!==e.width&&(e.node.style.maxWidth="none"),"none"!==e.node.style.maxHeight&&e.node.style.maxHeight!==e.height&&(e.node.style.maxHeight="none"),e.node.currentStyle&&("100%"===e.node.currentStyle.height&&(e.node.currentStyle.height="auto"),"100%"===e.node.currentStyle.maxWidth&&(e.node.currentStyle.maxWidth="none"),"100%"===e.node.currentStyle.maxHeight&&(e.node.currentStyle.maxHeight="none")),t||parseFloat(o.width)||(i.style.width=e.media.offsetWidth+"px"),t||parseFloat(o.height)||(i.style.height=e.media.offsetHeight+"px"),o=getComputedStyle(i),parseFloat(o.width)),t=parseFloat(o.height),i=(e.setDimensions("100%","100%"),e.getElement(e.container).querySelector("."+e.options.classPrefix+"poster>img"));i&&(i.style.display="");for(var a=e.getElement(e.container).querySelectorAll("object, embed, iframe, video"),o=e.height,i=e.width,s=o*n/i,i=i*t/o,o=t,r=n<i==0,l=r?Math.floor(n):Math.floor(i),i=r?Math.floor(s):Math.floor(o),d=r?n+"px":l+"px",c=r?i+"px":t+"px",u=0,h=a.length;u<h;u++)a[u].style.height=c,a[u].style.width=d,e.media.setSize&&e.media.setSize(d,c),a[u].style.marginLeft=Math.floor((n-l)/2)+"px",a[u].style.marginTop=0}},{key:"setDimensions",value:function(e,t){var i=this;e=(0,u.isString)(e)&&-1<e.indexOf("%")?e:parseFloat(e)+"px",t=(0,u.isString)(t)&&-1<t.indexOf("%")?t:parseFloat(t)+"px",i.getElement(i.container).style.width=e,i.getElement(i.container).style.height=t;for(var o=i.getElement(i.layers).children,n=0,a=o.length;n<a;n++)o[n].style.width=e,o[n].style.height=t}},{key:"setControlsSize",value:function(){var t=this;if(y.visible(t.getElement(t.container)))if(t.rail&&y.visible(t.rail)){for(var e=t.total?getComputedStyle(t.total,null):null,e=e?parseFloat(e.marginLeft)+parseFloat(e.marginRight):0,i=getComputedStyle(t.rail),i=parseFloat(i.marginLeft)+parseFloat(i.marginRight),o=0,n=y.siblings(t.rail,function(e){return e!==t.rail}),a=n.length,s=0;s<a;s++)o+=n[s].offsetWidth;o+=e+(0===e?2*i:i)+1,t.getElement(t.container).style.minWidth=o+"px";e=(0,u.createEvent)("controlsresize",t.getElement(t.container));t.getElement(t.container).dispatchEvent(e)}else{for(var r=t.getElement(t.controls).children,l=0,d=0,c=r.length;d<c;d++)l+=r[d].offsetWidth;t.getElement(t.container).style.minWidth=l+"px"}}},{key:"addControlElement",value:function(e,t){var i=this;if(void 0!==i.featurePosition[t]){var o=i.getElement(i.controls).children[i.featurePosition[t]-1];o.parentNode.insertBefore(e,o.nextSibling)}else{i.getElement(i.controls).appendChild(e);for(var n=i.getElement(i.controls).children,a=0,s=n.length;a<s;a++)if(e===n[a]){i.featurePosition[t]=a;break}}}},{key:"createIframeLayer",value:function(){var e,t,i=this;i.isVideo&&null!==i.media.rendererName&&-1<i.media.rendererName.indexOf("iframe")&&!f.default.getElementById(i.media.id+"-iframe-overlay")&&(e=f.default.createElement("div"),t=f.default.getElementById(i.media.id+"_"+i.media.rendererName),e.id=i.media.id+"-iframe-overlay",e.className=i.options.classPrefix+"iframe-overlay",e.addEventListener("click",function(e){i.options.clickToPlayPause&&(i.paused?i.play():i.pause(),e.preventDefault(),e.stopPropagation())}),t.parentNode.insertBefore(e,t))}},{key:"resetSize",value:function(){var e=this;setTimeout(function(){e.setPlayerSize(e.width,e.height),e.setControlsSize()},50)}},{key:"setPoster",value:function(e){var t,i,o=this;o.getElement(o.container)?((t=o.getElement(o.container).querySelector("."+o.options.classPrefix+"poster"))||((t=f.default.createElement("div")).className=o.options.classPrefix+"poster "+o.options.classPrefix+"layer",o.getElement(o.layers).appendChild(t)),!(i=t.querySelector("img"))&&e&&((i=f.default.createElement("img")).className=o.options.classPrefix+"poster-img",i.width="100%",i.height="100%",t.style.display="",t.appendChild(i)),e?(i.setAttribute("src",e),t.style.backgroundImage='url("'+e+'")',t.style.display=""):i?(t.style.backgroundImage="none",t.style.display="none",i.remove()):t.style.display="none"):(v.IS_IPAD&&o.options.iPadUseNativeControls||v.IS_IPHONE&&o.options.iPhoneUseNativeControls||v.IS_ANDROID&&o.options.AndroidUseNativeControls)&&(o.media.originalNode.poster=e)}},{key:"changeSkin",value:function(e){var t=this;t.getElement(t.container).className=t.options.classPrefix+"container "+e,t.setPlayerSize(t.width,t.height),t.setControlsSize()}},{key:"globalBind",value:function(e,i){var o=this.node?this.node.ownerDocument:f.default;if((e=(0,u.splitEvents)(e,this.id)).d)for(var t=e.d.split(" "),n=0,a=t.length;n<a;n++)t[n].split(".").reduce(function(e,t){return o.addEventListener(t,i,!1),t},"");if(e.w)for(var s=e.w.split(" "),r=0,l=s.length;r<l;r++)s[r].split(".").reduce(function(e,t){return m.default.addEventListener(t,i,!1),t},"")}},{key:"globalUnbind",value:function(e,i){var o=this.node?this.node.ownerDocument:f.default;if((e=(0,u.splitEvents)(e,this.id)).d)for(var t=e.d.split(" "),n=0,a=t.length;n<a;n++)t[n].split(".").reduce(function(e,t){return o.removeEventListener(t,i,!1),t},"");if(e.w)for(var s=e.w.split(" "),r=0,l=s.length;r<l;r++)s[r].split(".").reduce(function(e,t){return m.default.removeEventListener(t,i,!1),t},"")}},{key:"buildfeatures",value:function(e,t,i,o){for(var n=0,a=this.options.features.length;n<a;n++){var s=this.options.features[n];if(this["build"+s])try{this["build"+s](e,t,i,o)}catch(e){console.error("error building "+s,e)}}}},{key:"buildposter",value:function(e,t,i,o){var n=this,a=f.default.createElement("div"),i=(a.className=n.options.classPrefix+"poster "+n.options.classPrefix+"layer",i.appendChild(a),o.originalNode.getAttribute("poster"));""!==e.options.poster&&(i&&v.IS_IOS&&o.originalNode.removeAttribute("poster"),i=e.options.poster),i?n.setPoster(i):null!==n.media.renderer&&"function"==typeof n.media.renderer.getPosterUrl?n.setPoster(n.media.renderer.getPosterUrl()):a.style.display="none",o.addEventListener("play",function(){a.style.display="none"}),o.addEventListener("playing",function(){a.style.display="none"}),e.options.showPosterWhenEnded&&e.options.autoRewind&&o.addEventListener("ended",function(){a.style.display=""}),o.addEventListener("error",function(){a.style.display="none"}),e.options.showPosterWhenPaused&&o.addEventListener("pause",function(){e.ended||(a.style.display="")})}},{key:"buildoverlays",value:function(t,e,i,o){var n,a,s,r,l;t.isVideo&&(n=this,a=f.default.createElement("div"),s=f.default.createElement("div"),r=f.default.createElement("div"),a.style.display="none",a.className=n.options.classPrefix+"overlay "+n.options.classPrefix+"layer",a.innerHTML='<div class="'+n.options.classPrefix+'overlay-loading"><span class="'+n.options.classPrefix+'overlay-loading-bg-img"></span></div>',i.appendChild(a),s.style.display="none",s.className=n.options.classPrefix+"overlay "+n.options.classPrefix+"layer",s.innerHTML='<div class="'+n.options.classPrefix+'overlay-error"></div>',i.appendChild(s),r.className=n.options.classPrefix+"overlay "+n.options.classPrefix+"layer "+n.options.classPrefix+"overlay-play",r.innerHTML='<div class="'+n.options.classPrefix+'overlay-button" role="button" tabindex="0" aria-label="'+d.default.t("mejs.play")+'" aria-pressed="false"></div>',r.addEventListener("click",function(){var e,t;n.options.clickToPlayPause&&(t=(e=n.getElement(n.container).querySelector("."+n.options.classPrefix+"overlay-button")).getAttribute("aria-pressed"),n.paused?n.play():n.pause(),e.setAttribute("aria-pressed",!!t),n.getElement(n.container).focus())}),r.addEventListener("keydown",function(e){var e=e.keyCode||e.which||0;if(13===e||v.IS_FIREFOX&&32===e)return e=(0,u.createEvent)("click",r),r.dispatchEvent(e),!1}),i.appendChild(r),null!==n.media.rendererName&&(/(youtube|facebook)/i.test(n.media.rendererName)&&!(n.media.originalNode.getAttribute("poster")||t.options.poster||"function"==typeof n.media.renderer.getPosterUrl&&n.media.renderer.getPosterUrl())||v.IS_STOCK_ANDROID||n.media.originalNode.getAttribute("autoplay"))&&(r.style.display="none"),l=!1,o.addEventListener("play",function(){r.style.display="none",a.style.display="none",s.style.display="none",l=!1}),o.addEventListener("playing",function(){r.style.display="none",a.style.display="none",s.style.display="none",l=!1}),o.addEventListener("seeking",function(){r.style.display="none",a.style.display="",l=!1}),o.addEventListener("seeked",function(){r.style.display=n.paused&&!v.IS_STOCK_ANDROID?"":"none",a.style.display="none",l=!1}),o.addEventListener("pause",function(){a.style.display="none",v.IS_STOCK_ANDROID||l||(r.style.display=""),l=!1}),o.addEventListener("waiting",function(){a.style.display="",l=!1}),o.addEventListener("loadeddata",function(){a.style.display="",v.IS_ANDROID&&(o.canplayTimeout=setTimeout(function(){var e;if(f.default.createEvent)return(e=f.default.createEvent("HTMLEvents")).initEvent("canplay",!0,!0),o.dispatchEvent(e)},300)),l=!1}),o.addEventListener("canplay",function(){a.style.display="none",clearTimeout(o.canplayTimeout),l=!1}),o.addEventListener("error",function(e){n._handleError(e,n.media,n.node),a.style.display="none",r.style.display="none",l=!0}),o.addEventListener("loadedmetadata",function(){n.controlsEnabled||n.enableControls()}),o.addEventListener("keydown",function(e){n.onkeydown(t,o,e),l=!1}))}},{key:"buildkeyboard",value:function(o,e,t,n){var a=this;a.getElement(a.container).addEventListener("keydown",function(){a.keyboardAction=!0}),a.globalKeydownCallback=function(e){var t=f.default.activeElement.closest("."+a.options.classPrefix+"container"),i=a.media.closest("."+a.options.classPrefix+"container");return a.hasFocus=!(!t||!i||t.id!==i.id),a.onkeydown(o,n,e)},a.globalClickCallback=function(e){a.hasFocus=!!e.target.closest("."+a.options.classPrefix+"container")},a.globalBind("keydown",a.globalKeydownCallback),a.globalBind("click",a.globalClickCallback)}},{key:"onkeydown",value:function(e,t,i){if(e.hasFocus&&e.options.enableKeyboard)for(var o=0,n=e.options.keyActions.length;o<n;o++)for(var a=e.options.keyActions[o],s=0,r=a.keys.length;s<r;s++)if(i.keyCode===a.keys[s])return a.action(e,t,i.keyCode,i),i.preventDefault(),void i.stopPropagation();return!0}},{key:"play",value:function(){this.proxy.play()}},{key:"pause",value:function(){this.proxy.pause()}},{key:"load",value:function(){this.proxy.load()}},{key:"setCurrentTime",value:function(e){this.proxy.setCurrentTime(e)}},{key:"getCurrentTime",value:function(){return this.proxy.currentTime}},{key:"getDuration",value:function(){return this.proxy.duration}},{key:"setVolume",value:function(e){this.proxy.volume=e}},{key:"getVolume",value:function(){return this.proxy.getVolume()}},{key:"setMuted",value:function(e){this.proxy.setMuted(e)}},{key:"setSrc",value:function(e){this.controlsEnabled||this.enableControls(),this.proxy.setSrc(e)}},{key:"getSrc",value:function(){return this.proxy.getSrc()}},{key:"canPlayType",value:function(e){return this.proxy.canPlayType(e)}},{key:"remove",value:function(){var e,o=this,t=o.media.rendererName,i=o.media.originalNode.src;for(e in o.options.features){var n=o.options.features[e];if(o["clean"+n])try{o["clean"+n](o,o.getElement(o.layers),o.getElement(o.controls),o.media)}catch(e){console.error("error cleaning "+n,e)}}var a=o.node.getAttribute("width"),s=o.node.getAttribute("height");if(a?-1===a.indexOf("%")&&(a+="px"):a="auto",s?-1===s.indexOf("%")&&(s+="px"):s="auto",o.node.style.width=a,o.node.style.height=s,o.setPlayerSize(0,0),o.isDynamic)o.getElement(o.container).parentNode.insertBefore(o.node,o.getElement(o.container));else{o.node.setAttribute("controls",!0),o.node.setAttribute("id",o.node.getAttribute("id").replace("_"+t,"").replace("_from_mejs",""));var a=o.getElement(o.container).querySelector("."+o.options.classPrefix+"poster>img"),r=(a&&o.node.setAttribute("poster",a.src),delete o.node.autoplay,o.node.setAttribute("src",""),""!==o.media.canPlayType((0,b.getTypeFromFile)(i))&&o.node.setAttribute("src",i),t&&-1<t.indexOf("iframe")&&f.default.getElementById(o.media.id+"-iframe-overlay").remove(),o.node.cloneNode());if(r.style.display="",o.getElement(o.container).parentNode.insertBefore(r,o.getElement(o.container)),o.node.remove(),o.mediaFiles)for(var l=0,d=o.mediaFiles.length;l<d;l++){var c=f.default.createElement("source");c.setAttribute("src",o.mediaFiles[l].src),c.setAttribute("type",o.mediaFiles[l].type),r.appendChild(c)}if(o.trackFiles)for(var u=0,h=o.trackFiles.length;u<h;u++)!function(e){var t=o.trackFiles[e],i=f.default.createElement("track");i.kind=t.kind,i.label=t.label,i.srclang=t.srclang,i.src=t.src,r.appendChild(i),i.addEventListener("load",function(){this.mode="showing",r.textTracks[e].mode="showing"})}(u);delete o.node,delete o.mediaFiles,delete o.trackFiles}o.media.renderer&&"function"==typeof o.media.renderer.destroy&&o.media.renderer.destroy(),delete g.default.players[o.id],"object"===p(o.getElement(o.container))&&((s=o.getElement(o.container).parentNode.querySelector("."+o.options.classPrefix+"offscreen"))&&s.remove(),o.getElement(o.container).remove()),o.globalUnbind("resize",o.globalResizeCallback),o.globalUnbind("keydown",o.globalKeydownCallback),o.globalUnbind("click",o.globalClickCallback),delete o.media.player}},{key:"paused",get:function(){return this.proxy.paused}},{key:"muted",get:function(){return this.proxy.muted},set:function(e){this.setMuted(e)}},{key:"ended",get:function(){return this.proxy.ended}},{key:"readyState",get:function(){return this.proxy.readyState}},{key:"currentTime",set:function(e){this.setCurrentTime(e)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"volume",set:function(e){this.setVolume(e)},get:function(){return this.getVolume()}},{key:"src",set:function(e){this.setSrc(e)},get:function(){return this.getSrc()}}]),h);function h(e,t){var i,o;if(this instanceof h)return i=this,e="string"==typeof e?f.default.getElementById(e):e,i instanceof h?(i.node=i.media=e,i.node?i.media.player||(i.hasFocus=!1,i.controlsAreVisible=!0,i.controlsEnabled=!0,i.controlsTimer=null,i.currentMediaTime=0,i.proxy=null,void 0===t&&(t=(o=i.node.getAttribute("data-mejsoptions"))?JSON.parse(o):{}),i.options=Object.assign({},c,t),i.options.loop&&!i.media.getAttribute("loop")?(i.media.loop=!0,i.node.loop=!0):i.media.loop&&(i.options.loop=!0),i.options.timeFormat||(i.options.timeFormat="mm:ss",i.options.alwaysShowHours&&(i.options.timeFormat="hh:mm:ss"),i.options.showTimecodeFrameCount&&(i.options.timeFormat+=":ff")),(0,r.calculateTimeFormat)(0,i.options,i.options.framesPerSecond||25),i.id="mep_"+g.default.mepIndex++,(g.default.players[i.id]=i).init(),i):void 0):new h(e,t);throw new TypeError("Cannot call a class as a function")}m.default.MediaElementPlayer=e,g.default.MediaElementPlayer=e,i.default=e},{17:17,2:2,25:25,26:26,27:27,28:28,3:3,30:30,5:5,6:6,7:7}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e},e=e(3),e=e&&e.__esModule?e:{default:e};function n(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}o(a,[{key:"play",value:function(){this.media.play()}},{key:"pause",value:function(){this.media.pause()}},{key:"load",value:function(){this.isLoaded||this.media.load(),this.isLoaded=!0}},{key:"setCurrentTime",value:function(e){this.media.setCurrentTime(e)}},{key:"getCurrentTime",value:function(){return this.media.currentTime}},{key:"getDuration",value:function(){var e=this.media.getDuration();return e=e===1/0&&this.media.seekable&&this.media.seekable.length?this.media.seekable.end(0):e}},{key:"setVolume",value:function(e){this.media.setVolume(e)}},{key:"getVolume",value:function(){return this.media.getVolume()}},{key:"setMuted",value:function(e){this.media.setMuted(e)}},{key:"setSrc",value:function(e){var t=this,i=document.getElementById(t.media.id+"-iframe-overlay");i&&i.remove(),t.media.setSrc(e),t.createIframeLayer(),null!==t.media.renderer&&"function"==typeof t.media.renderer.getPosterUrl&&t.setPoster(t.media.renderer.getPosterUrl())}},{key:"getSrc",value:function(){return this.media.getSrc()}},{key:"canPlayType",value:function(e){return this.media.canPlayType(e)}},{key:"paused",get:function(){return this.media.paused}},{key:"muted",set:function(e){this.setMuted(e)},get:function(){return this.media.muted}},{key:"ended",get:function(){return this.media.ended}},{key:"readyState",get:function(){return this.media.readyState}},{key:"currentTime",set:function(e){this.setCurrentTime(e)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"remainingTime",get:function(){return this.getDuration()-this.currentTime()}},{key:"volume",set:function(e){this.setVolume(e)},get:function(){return this.getVolume()}},{key:"src",set:function(e){this.setSrc(e)},get:function(){return this.getSrc()}}]);o=a;function a(t){if(this instanceof a)return this.media=t.media,this.isVideo=t.isVideo,this.classPrefix=t.options.classPrefix,this.createIframeLayer=function(){return t.createIframeLayer()},this.setPoster=function(e){return t.setPoster(e)},this;throw new TypeError("Cannot call a class as a function")}i.default=o,e.default.DefaultPlayer=o},{3:3}],18:[function(e,t,i){"use strict";s(e(3));var o,n=s(e(7)),a=s(e(16));function s(e){return e&&e.__esModule?e:{default:e}}"undefined"!=typeof jQuery?n.default.$=jQuery:"undefined"!=typeof Zepto?n.default.$=Zepto:"undefined"!=typeof ender&&(n.default.$=ender),void 0!==(o=n.default.$)&&(o.fn.mediaelementplayer=function(e){return!1===e?this.each(function(){var e=o(this).data("mediaelementplayer");e&&e.remove(),o(this).removeData("mediaelementplayer")}):this.each(function(){o(this).data("mediaelementplayer",new a.default(this,e))}),this},o(document).ready(function(){o("."+n.default.MepDefaults.classPrefix+"player").mediaelementplayer()}))},{16:16,3:3,7:7}],19:[function(e,t,i){"use strict";var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=s(e(3)),w=s(e(7)),_=e(8),k=e(27),o=e(28),n=e(25),a=e(26);function s(e){return e&&e.__esModule?e:{default:e}}var P={promise:null,load:function(e){return"undefined"!=typeof dashjs?P.promise=new Promise(function(e){e()}).then(function(){P._createPlayer(e)}):(e.options.path="string"==typeof e.options.path?e.options.path:"https://cdn.dashjs.org/latest/dash.all.min.js",P.promise=P.promise||(0,a.loadScript)(e.options.path),P.promise.then(function(){P._createPlayer(e)})),P.promise},_createPlayer:function(e){var t=dashjs.MediaPlayer().create();return y.default["__ready__"+e.id](t),t}},e={name:"native_dash",options:{prefix:"native_dash",dash:{path:"https://cdn.dashjs.org/latest/dash.all.min.js",debug:!1,drm:{},robustnessLevel:""}},canPlayType:function(e){return n.HAS_MSE&&-1<["application/dash+xml"].indexOf(e.toLowerCase())},create:function(s,r,e){var t=s.originalNode,a=s.id+"_"+r.prefix,l=t.autoplay,i=t.children,d=null,c=null;t.removeAttribute("type");for(var o=0,n=i.length;o<n;o++)i[o].removeAttribute("type");d=t.cloneNode(!0),r=Object.assign(r,s.options);for(var u=w.default.html5media.properties,h=w.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(e){return"error"!==e}),p=function(e){e=(0,k.createEvent)(e.type,s);s.dispatchEvent(e)},m=0,f=u.length;m<f;m++)!function(n){var e=""+n.substring(0,1).toUpperCase()+n.substring(1);d["get"+e]=function(){return null!==c?d[n]:null},d["set"+e]=function(e){if(-1===w.default.html5media.readOnlyProperties.indexOf(n))if("src"===n){var t="object"===(void 0===e?"undefined":b(e))&&e.src?e.src:e;if(d[n]=t,null!==c){c.reset();for(var i=0,o=h.length;i<o;i++)d.removeEventListener(h[i],p);c=P._createPlayer({options:r.dash,id:a}),e&&"object"===(void 0===e?"undefined":b(e))&&"object"===b(e.drm)&&(c.setProtectionData(e.drm),(0,k.isString)(r.dash.robustnessLevel)&&r.dash.robustnessLevel&&c.getProtectionController().setRobustnessLevel(r.dash.robustnessLevel)),c.attachSource(t),l&&c.play()}}else d[n]=e}}(u[m]);if(y.default["__ready__"+a]=function(e){s.dashPlayer=c=e;for(var t,i=dashjs.MediaPlayer.events,o=0,n=h.length;o<n;o++)"loadedmetadata"===(t=h[o])&&(c.initialize(),c.attachView(d),c.setAutoPlay(!1),"object"!==b(r.dash.drm)||w.default.Utils.isObjectEmpty(r.dash.drm)||(c.setProtectionData(r.dash.drm),(0,k.isString)(r.dash.robustnessLevel)&&r.dash.robustnessLevel&&c.getProtectionController().setRobustnessLevel(r.dash.robustnessLevel)),c.attachSource(d.getSrc())),d.addEventListener(t,p);for(var a in i)i.hasOwnProperty(a)&&c.on(i[a],function(e){var t;"error"===(e=e).type.toLowerCase()?(s.generateError(e.message,d.src),console.error(e)):((t=(0,k.createEvent)(e.type,s)).data=e,s.dispatchEvent(t))})},e&&0<e.length)for(var g=0,v=e.length;g<v;g++)if(_.renderer.renderers[r.prefix].canPlayType(e[g].type)){d.setAttribute("src",e[g].src),void 0!==e[g].drm&&(r.dash.drm=e[g].drm);break}d.setAttribute("id",a),t.parentNode.insertBefore(d,t),t.autoplay=!1,t.style.display="none",d.setSize=function(e,t){return d.style.width=e+"px",d.style.height=t+"px",d},d.hide=function(){return d.pause(),d.style.display="none",d},d.show=function(){return d.style.display="",d},d.destroy=function(){null!==c&&c.reset()};t=(0,k.createEvent)("rendererready",d);return s.dispatchEvent(t),s.promises.push(P.load({options:r.dash,id:a})),d}};o.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".mpd")?"application/dash+xml":null}),_.renderer.add(e)},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],20:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PluginDetector=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=o(e(3)),C=o(e(2)),S=o(e(7)),x=o(e(5)),T=e(8),B=e(27),E=e(25),I=e(28);function o(e){return e&&e.__esModule?e:{default:e}}var a=i.PluginDetector={plugins:[],hasPluginVersion:function(e,t){e=a.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,e[0]>t[0]||e[0]===t[0]&&e[1]>t[1]||e[0]===t[0]&&e[1]===t[1]&&e[2]>=t[2]},addPlugin:function(e,t,i,o,n){a.plugins[e]=a.detectPlugin(t,i,o,n)},detectPlugin:function(e,t,i,o){var n,a=[0,0,0],s=void 0;if(null!==E.NAV.plugins&&void 0!==E.NAV.plugins&&"object"===d(E.NAV.plugins[e])){if((s=E.NAV.plugins[e].description)&&(void 0===E.NAV.mimeTypes||!E.NAV.mimeTypes[t]||E.NAV.mimeTypes[t].enabledPlugin))for(var r=0,l=(a=s.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".")).length;r<l;r++)a[r]=parseInt(a[r].match(/\d+/),10)}else if(void 0!==P.default.ActiveXObject)try{(n=new ActiveXObject(i))&&(a=o(n))}catch(e){}return a}},e=(a.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],e=e.GetVariable("$version");return e&&(e=e.split(" ")[1].split(","),t=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]),t}),{create:function(e,t,i){var n={},o=!1;n.options=t,n.id=e.id+"_"+n.options.prefix,n.mediaElement=e,n.flashState={},n.flashApi=null,n.flashApiStack=[];for(var a=S.default.html5media.properties,s=0,r=a.length;s<r;s++)!function(t){n.flashState[t]=null;var e=""+t.substring(0,1).toUpperCase()+t.substring(1);n["get"+e]=function(){var e;return null!==n.flashApi&&"function"==typeof n.flashApi["get_"+t]?(e=n.flashApi["get_"+t](),"buffered"===t?{start:function(){return 0},end:function(){return e},length:1}:e):null},n["set"+e]=function(e){if("src"===t&&(e=(0,I.absolutizeUrl)(e)),null!==n.flashApi&&void 0!==n.flashApi["set_"+t])try{n.flashApi["set_"+t](e)}catch(e){}else n.flashApiStack.push({type:"set",propName:t,value:e})}}(a[s]);var l=S.default.html5media.methods;l.push("stop");for(var d=0,c=l.length;d<c;d++)!function(e){n[e]=function(){if(o)if(null!==n.flashApi){if(n.flashApi["fire_"+e])try{n.flashApi["fire_"+e]()}catch(e){}}else n.flashApiStack.push({type:"call",methodName:e})}}(l[d]);for(var u=["rendererready"],h=0,p=u.length;h<p;h++){var m=(0,B.createEvent)(u[h],n);e.dispatchEvent(m)}P.default["__ready__"+n.id]=function(){if(n.flashReady=!0,n.flashApi=C.default.getElementById("__"+n.id),n.flashApiStack.length)for(var e=0,t=n.flashApiStack.length;e<t;e++){var i,o=n.flashApiStack[e];"set"===o.type?(i=""+(i=o.propName).substring(0,1).toUpperCase()+i.substring(1),n["set"+i](o.value)):"call"===o.type&&n[o.methodName]()}},P.default["__event__"+n.id]=function(e,t){var i=(0,B.createEvent)(e,n);if(t)try{i.data=JSON.parse(t),i.details.data=JSON.parse(t)}catch(e){i.message=t}n.mediaElement.dispatchEvent(i)},n.flashWrapper=C.default.createElement("div"),-1===["always","sameDomain"].indexOf(n.options.shimScriptAccess)&&(n.options.shimScriptAccess="sameDomain");var f,g=e.originalNode.autoplay,g=["uid="+n.id,"autoplay="+g,"allowScriptAccess="+n.options.shimScriptAccess,"preload="+(e.originalNode.getAttribute("preload")||"")],v=null!==e.originalNode&&"video"===e.originalNode.tagName.toLowerCase(),b=v?e.originalNode.height:1,y=v?e.originalNode.width:1,w=(e.originalNode.getAttribute("src")&&g.push("src="+e.originalNode.getAttribute("src")),!0===n.options.enablePseudoStreaming&&(g.push("pseudostreamstart="+n.options.pseudoStreamingStartQueryParam),g.push("pseudostreamtype="+n.options.pseudoStreamingType)),n.options.streamDelimiter&&g.push("streamdelimiter="+encodeURIComponent(n.options.streamDelimiter)),n.options.proxyType&&g.push("proxytype="+n.options.proxyType),e.appendChild(n.flashWrapper),e.originalNode.style.display="none",[]);if(E.IS_IE||E.IS_EDGE?(f=C.default.createElement("div"),n.flashWrapper.appendChild(f),w=E.IS_EDGE?['type="application/x-shockwave-flash"','data="'+n.options.pluginPath+n.options.filename+'"','id="__'+n.id+'"','width="'+y+'"','height="'+b+"'\""]:['classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"','codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"','id="__'+n.id+'"','width="'+y+'"','height="'+b+'"'],v||w.push('style="clip: rect(0 0 0 0); position: absolute;"'),f.outerHTML="<object "+w.join(" ")+'><param name="movie" value="'+n.options.pluginPath+n.options.filename+"?x="+new Date+'" /><param name="flashvars" value="'+g.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+n.options.shimScriptAccess+'" /><param name="allowFullScreen" value="true" /><div>'+x.default.t("mejs.install-flash")+"</div></object>"):(w=['id="__'+n.id+'"','name="__'+n.id+'"','play="true"','loop="false"','quality="high"','bgcolor="#000000"','wmode="transparent"','allowScriptAccess="'+n.options.shimScriptAccess+'"','allowFullScreen="true"','type="application/x-shockwave-flash"','pluginspage="//www.macromedia.com/go/getflashplayer"','src="'+n.options.pluginPath+n.options.filename+'"','flashvars="'+g.join("&")+'"'],v?(w.push('width="'+y+'"'),w.push('height="'+b+'"')):w.push('style="position: fixed; left: -9999em; top: -9999em;"'),n.flashWrapper.innerHTML="<embed "+w.join(" ")+">"),n.flashNode=n.flashWrapper.lastChild,n.hide=function(){o=!1,v&&(n.flashNode.style.display="none")},n.show=function(){o=!0,v&&(n.flashNode.style.display="")},n.setSize=function(e,t){n.flashNode.style.width=e+"px",n.flashNode.style.height=t+"px",null!==n.flashApi&&"function"==typeof n.flashApi.fire_setSize&&n.flashApi.fire_setSize(e,t)},n.destroy=function(){n.flashNode.remove()},i&&0<i.length)for(var _=0,k=i.length;_<k;_++)if(T.renderer.renderers[t.prefix].canPlayType(i[_].type)){n.setSrc(i[_].src);break}return n}});a.hasPluginVersion("flash",[10,0,0])&&(I.typeChecks.push(function(e){return(e=e.toLowerCase()).startsWith("rtmp")?~e.indexOf(".mp3")?"audio/rtmp":"video/rtmp":/\.og(a|g)/i.test(e)?"audio/ogg":~e.indexOf(".m3u8")?"application/x-mpegURL":~e.indexOf(".mpd")?"application/dash+xml":~e.indexOf(".flv")?"video/flv":null}),T.renderer.add({name:"flash_video",options:{prefix:"flash_video",filename:"mediaelement-flash-video.swf",enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",pseudoStreamingType:"byte",proxyType:"",streamDelimiter:""},canPlayType:function(e){return~["video/mp4","video/rtmp","audio/rtmp","rtmp/mp4","audio/mp4","video/flv","video/x-flv"].indexOf(e.toLowerCase())},create:e.create}),T.renderer.add({name:"flash_hls",options:{prefix:"flash_hls",filename:"mediaelement-flash-video-hls.swf"},canPlayType:function(e){return~["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(e.toLowerCase())},create:e.create}),T.renderer.add({name:"flash_dash",options:{prefix:"flash_dash",filename:"mediaelement-flash-video-mdash.swf"},canPlayType:function(e){return~["application/dash+xml"].indexOf(e.toLowerCase())},create:e.create}),T.renderer.add({name:"flash_audio",options:{prefix:"flash_audio",filename:"mediaelement-flash-audio.swf"},canPlayType:function(e){return~["audio/mp3"].indexOf(e.toLowerCase())},create:e.create}),T.renderer.add({name:"flash_audio_ogg",options:{prefix:"flash_audio_ogg",filename:"mediaelement-flash-audio-ogg.swf"},canPlayType:function(e){return~["audio/ogg","audio/oga","audio/ogv"].indexOf(e.toLowerCase())},create:e.create}))},{2:2,25:25,27:27,28:28,3:3,5:5,7:7,8:8}],21:[function(e,t,i){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=s(e(3)),b=s(e(7)),y=e(8),w=e(27),o=e(25),n=e(28),a=e(26);function s(e){return e&&e.__esModule?e:{default:e}}var _={promise:null,load:function(e){return"undefined"!=typeof flvjs?_.promise=new Promise(function(e){e()}).then(function(){_._createPlayer(e)}):(e.options.path="string"==typeof e.options.path?e.options.path:"https://cdn.jsdelivr.net/npm/flv.js@latest",_.promise=_.promise||(0,a.loadScript)(e.options.path),_.promise.then(function(){_._createPlayer(e)})),_.promise},_createPlayer:function(e){flvjs.LoggingControl.enableDebug=e.options.debug,flvjs.LoggingControl.enableVerbose=e.options.debug;var t=flvjs.createPlayer(e.options,e.configs);return v.default["__ready__"+e.id](t),t}},e={name:"native_flv",options:{prefix:"native_flv",flv:{path:"https://cdn.jsdelivr.net/npm/flv.js@latest",cors:!0,debug:!1}},canPlayType:function(e){return o.HAS_MSE&&-1<["video/x-flv","video/flv"].indexOf(e.toLowerCase())},create:function(l,s,e){var t=l.originalNode,r=l.id+"_"+s.prefix,d=null,c=null,d=t.cloneNode(!0);s=Object.assign(s,l.options);for(var i=b.default.html5media.properties,u=b.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(e){return"error"!==e}),h=function(e){e=(0,w.createEvent)(e.type,l);l.dispatchEvent(e)},o=0,n=i.length;o<n;o++)!function(a){var e=""+a.substring(0,1).toUpperCase()+a.substring(1);d["get"+e]=function(){return null!==c?d[a]:null},d["set"+e]=function(e){if(-1===b.default.html5media.readOnlyProperties.indexOf(a))if("src"===a){if(d[a]="object"===(void 0===e?"undefined":g(e))&&e.src?e.src:e,null!==c){var t={type:"flv"},i=(t.url=e,t.cors=s.flv.cors,t.debug=s.flv.debug,t.path=s.flv.path,s.flv.configs);c.destroy();for(var o=0,n=u.length;o<n;o++)d.removeEventListener(u[o],h);(c=_._createPlayer({options:t,configs:i,id:r})).attachMediaElement(d),c.load()}}else d[a]=e}}(i[o]);if(v.default["__ready__"+r]=function(e){l.flvPlayer=c=e;for(var t,r=flvjs.Events,i=0,o=u.length;i<o;i++)"loadedmetadata"===(t=u[i])&&(c.unload(),c.detachMediaElement(),c.attachMediaElement(d),c.load()),d.addEventListener(t,h);function n(s){r.hasOwnProperty(s)&&c.on(r[s],function(){for(var e,t,i,o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];e=r[s],t=n,"error"===e?(i=t[0]+": "+t[1]+" "+t[2].msg,l.generateError(i,d.src)):((i=(0,w.createEvent)(e,l)).data=t,l.dispatchEvent(i))})}for(var a in r)n(a)},e&&0<e.length)for(var a=0,p=e.length;a<p;a++)if(y.renderer.renderers[s.prefix].canPlayType(e[a].type)){d.setAttribute("src",e[a].src);break}d.setAttribute("id",r),t.parentNode.insertBefore(d,t),t.autoplay=!1,t.style.display="none";var t={type:"flv"},m=(t.url=d.src,t.cors=s.flv.cors,t.debug=s.flv.debug,t.path=s.flv.path,s.flv.configs),f=(d.setSize=function(e,t){return d.style.width=e+"px",d.style.height=t+"px",d},d.hide=function(){return null!==c&&c.pause(),d.style.display="none",d},d.show=function(){return d.style.display="",d},d.destroy=function(){null!==c&&c.destroy()},(0,w.createEvent)("rendererready",d));return l.dispatchEvent(f),l.promises.push(_.load({options:t,configs:m,id:r})),d}};n.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".flv")?"video/flv":null}),y.renderer.add(e)},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],22:[function(e,t,i){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=s(e(3)),b=s(e(7)),y=e(8),w=e(27),o=e(25),n=e(28),a=e(26);function s(e){return e&&e.__esModule?e:{default:e}}var _={promise:null,load:function(e){return"undefined"!=typeof Hls?_.promise=new Promise(function(e){e()}).then(function(){_._createPlayer(e)}):(e.options.path="string"==typeof e.options.path?e.options.path:"https://cdn.jsdelivr.net/npm/hls.js@latest",_.promise=_.promise||(0,a.loadScript)(e.options.path),_.promise.then(function(){_._createPlayer(e)})),_.promise},_createPlayer:function(e){var t=new Hls(e.options);return d.default["__ready__"+e.id](t),t}},e={name:"native_hls",options:{prefix:"native_hls",hls:{path:"https://cdn.jsdelivr.net/npm/hls.js@latest",autoStartLoad:!1,debug:!1}},canPlayType:function(e){return o.HAS_MSE&&-1<["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(e.toLowerCase())},create:function(c,n,u){var e=c.originalNode,a=c.id+"_"+n.prefix,t=e.getAttribute("preload"),i=e.autoplay,h=null,p=null,m=0,f=u.length,p=e.cloneNode(!0);(n=Object.assign(n,c.options)).hls.autoStartLoad=t&&"none"!==t||i;for(var o=b.default.html5media.properties,g=b.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(e){return"error"!==e}),v=function(e){e=(0,w.createEvent)(e.type,c);c.dispatchEvent(e)},s=0,r=o.length;s<r;s++)!function(o){var e=""+o.substring(0,1).toUpperCase()+o.substring(1);p["get"+e]=function(){return null!==h?p[o]:null},p["set"+e]=function(e){if(-1===b.default.html5media.readOnlyProperties.indexOf(o))if("src"===o){if(p[o]="object"===(void 0===e?"undefined":l(e))&&e.src?e.src:e,null!==h){h.destroy();for(var t=0,i=g.length;t<i;t++)p.removeEventListener(g[t],v);(h=_._createPlayer({options:n.hls,id:a})).loadSource(e),h.attachMedia(p)}}else p[o]=e}}(o[s]);if(d.default["__ready__"+a]=function(e){c.hlsPlayer=h=e;for(var t,i,r=Hls.Events,o=0,n=g.length;o<n;o++)t=g[o],i=void 0,"loadedmetadata"===t&&(i=c.originalNode.src,h.detachMedia(),h.loadSource(i),h.attachMedia(p)),p.addEventListener(t,v);function a(s){r.hasOwnProperty(s)&&h.on(r[s],function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=r[s],n=t;if("hlsError"===o&&(console.warn(n),(n=n[1]).fatal))switch(n.type){case"mediaError":var a=(new Date).getTime();!l||3e3<a-l?(l=(new Date).getTime(),h.recoverMediaError()):!d||3e3<a-d?(d=(new Date).getTime(),console.warn("Attempting to swap Audio Codec and recover from media error"),h.swapAudioCodec(),h.recoverMediaError()):(c.generateError(a="Cannot recover, last media error recovery failed",p.src),console.error(a));break;case"networkError":"manifestLoadError"===n.details?m<f&&void 0!==u[m+1]?(p.setSrc(u[m++].src),p.load(),p.play()):(c.generateError(a="Network error",u),console.error(a)):(c.generateError(a="Network error",u),console.error(a));break;default:h.destroy()}else{o=(0,w.createEvent)(o,c);o.data=n,c.dispatchEvent(o)}})}var s,l=void 0,d=void 0;for(s in r)a(s)},0<f)for(;m<f;m++)if(y.renderer.renderers[n.prefix].canPlayType(u[m].type)){p.setAttribute("src",u[m].src);break}"auto"===t||i||(p.addEventListener("play",function(){null!==h&&h.startLoad()}),p.addEventListener("pause",function(){null!==h&&h.stopLoad()})),p.setAttribute("id",a),e.parentNode.insertBefore(p,e),e.autoplay=!1,e.style.display="none",p.setSize=function(e,t){return p.style.width=e+"px",p.style.height=t+"px",p},p.hide=function(){return p.pause(),p.style.display="none",p},p.show=function(){return p.style.display="",p},p.destroy=function(){null!==h&&(h.stopLoad(),h.destroy())};t=(0,w.createEvent)("rendererready",p);return c.dispatchEvent(t),c.promises.push(_.load({options:n.hls,id:a})),p}};n.typeChecks.push(function(e){return~e.toLowerCase().indexOf(".m3u8")?"application/x-mpegURL":null}),y.renderer.add(e)},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],23:[function(e,t,i){"use strict";var o=a(e(3)),f=a(e(2)),g=a(e(7)),v=e(8),b=e(27),n=e(25);function a(e){return e&&e.__esModule?e:{default:e}}e={name:"html5",options:{prefix:"html5"},canPlayType:function(e){var t=f.default.createElement("video");return n.IS_ANDROID&&/\/mp(3|4)$/i.test(e)||~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(e.toLowerCase())&&n.SUPPORTS_NATIVE_HLS?"yes":t.canPlayType?t.canPlayType(e.toLowerCase()).replace(/no/,""):""},create:function(t,e,i){var o=t.id+"_"+e.prefix,n=!1,a=null;void 0===t.originalNode||null===t.originalNode?(a=f.default.createElement("audio"),t.appendChild(a)):a=t.originalNode,a.setAttribute("id",o);for(var s=g.default.html5media.properties,r=0,l=s.length;r<l;r++)!function(t){var e=""+t.substring(0,1).toUpperCase()+t.substring(1);a["get"+e]=function(){return a[t]},a["set"+e]=function(e){-1===g.default.html5media.readOnlyProperties.indexOf(t)&&(a[t]=e)}}(s[r]);for(var d,c=g.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(e){return"error"!==e}),u=0,h=c.length;u<h;u++)d=c[u],a.addEventListener(d,function(e){n&&(e=(0,b.createEvent)(e.type,e.target),t.dispatchEvent(e))});a.setSize=function(e,t){return a.style.width=e+"px",a.style.height=t+"px",a},a.hide=function(){return n=!1,a.style.display="none",a},a.show=function(){return n=!0,a.style.display="",a};var p=0,m=i.length;if(0<m)for(;p<m;p++)if(v.renderer.renderers[e.prefix].canPlayType(i[p].type)){a.setAttribute("src",i[p].src);break}a.addEventListener("error",function(e){e&&e.target&&e.target.error&&4===e.target.error.code&&n&&(p<m&&void 0!==i[p+1]?(a.src=i[p++].src,a.load(),a.play()):t.generateError("Media error: Format(s) not supported or source(s) not found",i))});o=(0,b.createEvent)("rendererready",a);return t.dispatchEvent(o),a}};o.default.HtmlMediaElement=g.default.HtmlMediaElement=e,v.renderer.add(e)},{2:2,25:25,27:27,3:3,7:7,8:8}],24:[function(e,t,i){"use strict";var w=s(e(3)),_=s(e(2)),k=s(e(7)),o=e(8),P=e(27),n=e(28),a=e(26);function s(e){return e&&e.__esModule?e:{default:e}}var C={isIframeStarted:!1,isIframeLoaded:!1,iframeQueue:[],enqueueIframe:function(e){C.isLoaded="undefined"!=typeof YT&&YT.loaded,C.isLoaded?C.createIframe(e):(C.loadIframeApi(),C.iframeQueue.push(e))},loadIframeApi:function(){C.isIframeStarted||((0,a.loadScript)("https://www.youtube.com/player_api"),C.isIframeStarted=!0)},iFrameReady:function(){for(C.isLoaded=!0,C.isIframeLoaded=!0;0<C.iframeQueue.length;){var e=C.iframeQueue.pop();C.createIframe(e)}},createIframe:function(e){return new YT.Player(e.containerId,e)},getYouTubeId:function(e){var t="";return(t=(t=0<e.indexOf("?")&&""!==(t=C.getYouTubeIdFromParam(e))?t:C.getYouTubeIdFromUrl(e)).substring(t.lastIndexOf("/")+1).split("?"))[0]},getYouTubeIdFromParam:function(e){if(null==e||!e.trim().length)return null;for(var t=e.split("?")[1].split("&"),i="",o=0,n=t.length;o<n;o++){var a=t[o].split("=");if("v"===a[0]){i=a[1];break}}return i},getYouTubeIdFromUrl:function(e){return null!=e&&e.trim().length?(e=e.split("?")[0]).substring(e.lastIndexOf("/")+1):null},getYouTubeNoCookieUrl:function(e){var t;return null!=e&&e.trim().length&&-1!==e.indexOf("//www.youtube")?((t=e.split("/"))[2]=t[2].replace(".com","-nocookie.com"),t.join("/")):e}},e={name:"youtube_iframe",options:{prefix:"youtube_iframe",youtube:{autoplay:0,controls:0,disablekb:1,end:0,loop:0,modestbranding:0,playsinline:0,rel:0,showinfo:0,start:0,iv_load_policy:3,nocookie:!1,imageQuality:null}},canPlayType:function(e){return~["video/youtube","video/x-youtube"].indexOf(e.toLowerCase())},create:function(p,i,o){var m={},f=[],g=null,a=!0,s=!1,v=null;m.options=i,m.id=p.id+"_"+i.prefix,m.mediaElement=p;for(var e=k.default.html5media.properties,t=0,n=e.length;t<n;t++)!function(i){var e=""+i.substring(0,1).toUpperCase()+i.substring(1);m["get"+e]=function(){if(null!==g)switch(i){case"currentTime":return g.getCurrentTime();case"duration":return g.getDuration();case"volume":return g.getVolume()/100;case"playbackRate":return g.getPlaybackRate();case"paused":return a;case"ended":return s;case"muted":return g.isMuted();case"buffered":var e=g.getVideoLoadedFraction(),t=g.getDuration();return{start:function(){return 0},end:function(){return e*t},length:1};case"src":return g.getVideoUrl();case"readyState":return 4}return null},m["set"+e]=function(e){if(null!==g)switch(i){case"src":var t="string"==typeof e?e:e[0].src,t=C.getYouTubeId(t);p.originalNode.autoplay?g.loadVideoById(t):g.cueVideoById(t);break;case"currentTime":g.seekTo(e);break;case"muted":e?g.mute():g.unMute(),setTimeout(function(){var e=(0,P.createEvent)("volumechange",m);p.dispatchEvent(e)},50);break;case"volume":g.setVolume(100*e),setTimeout(function(){var e=(0,P.createEvent)("volumechange",m);p.dispatchEvent(e)},50);break;case"playbackRate":g.setPlaybackRate(e),setTimeout(function(){var e=(0,P.createEvent)("ratechange",m);p.dispatchEvent(e)},50);break;case"readyState":t=(0,P.createEvent)("canplay",m);p.dispatchEvent(t)}else f.push({type:"set",propName:i,value:e})}}(e[t]);for(var r=k.default.html5media.methods,l=0,d=r.length;l<d;l++)!function(e){m[e]=function(){if(null!==g)switch(e){case"play":return a=!1,g.playVideo();case"pause":return a=!0,g.pauseVideo();case"load":return null}else f.push({type:"call",methodName:e})}}(r[l]);var c=_.default.createElement("div"),u=(c.id=m.id,m.options.youtube.nocookie&&(p.originalNode.src=C.getYouTubeNoCookieUrl(o[0].src)),p.originalNode.parentNode.insertBefore(c,p.originalNode),p.originalNode.style.display="none","audio"===p.originalNode.tagName.toLowerCase()),h=u?"1":p.originalNode.height,b=u?"1":p.originalNode.width,y=C.getYouTubeId(o[0].src),c={id:m.id,containerId:c.id,videoId:y,height:h,width:b,host:m.options.youtube&&m.options.youtube.nocookie?"https://www.youtube-nocookie.com":void 0,playerVars:Object.assign({controls:0,rel:0,disablekb:1,showinfo:0,modestbranding:0,html5:1,iv_load_policy:3},m.options.youtube),origin:w.default.location.host,events:{onReady:function(e){if(p.youTubeApi=g=e.target,p.youTubeState={paused:!0,ended:!1},f.length)for(var t=0,i=f.length;t<i;t++){var o,n=f[t];"set"===n.type?(o=""+(o=n.propName).substring(0,1).toUpperCase()+o.substring(1),m["set"+o](n.value)):"call"===n.type&&m[n.methodName]()}v=g.getIframe(),p.originalNode.muted&&g.mute();for(var a=["mouseover","mouseout"],s=function(e){e=(0,P.createEvent)(e.type,m);p.dispatchEvent(e)},r=0,l=a.length;r<l;r++)v.addEventListener(a[r],s,!1);for(var d=["rendererready","loadedmetadata","loadeddata","canplay"],c=0,u=d.length;c<u;c++){var h=(0,P.createEvent)(d[c],m);p.dispatchEvent(h)}},onStateChange:function(e){var t=[];switch(e.data){case-1:t=["loadedmetadata"],s=!(a=!0);break;case 0:a=!(t=["ended"]),s=!m.options.youtube.loop,m.options.youtube.loop||m.stopInterval();break;case 1:s=a=!(t=["play","playing"]),m.startInterval();break;case 2:t=["pause"],s=!(a=!0),m.stopInterval();break;case 3:s=!(t=["progress"]);break;case 5:t=["loadeddata","loadedmetadata","canplay"],s=!(a=!0)}for(var i=0,o=t.length;i<o;i++){var n=(0,P.createEvent)(t[i],m);p.dispatchEvent(n)}},onError:function(e){var t="";switch(e.data){case 2:t="The request contains an invalid parameter value. Verify that video ID has 11 characters and that contains no invalid characters, such as exclamation points or asterisks.";break;case 5:t="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:t="The video requested was not found. Either video has been removed or has been marked as private.";break;case 101:case 105:t="The owner of the requested video does not allow it to be played in embedded players.";break;default:t="Unknown error."}p.generateError("Code "+e.data+": "+t,o)}}};return(u||p.originalNode.hasAttribute("playsinline"))&&(c.playerVars.playsinline=1),p.originalNode.controls&&(c.playerVars.controls=1),p.originalNode.autoplay&&(c.playerVars.autoplay=1),p.originalNode.loop&&(c.playerVars.loop=1),(c.playerVars.loop&&1===parseInt(c.playerVars.loop,10)||-1<p.originalNode.src.indexOf("loop="))&&!c.playerVars.playlist&&-1===p.originalNode.src.indexOf("playlist=")&&(c.playerVars.playlist=C.getYouTubeId(p.originalNode.src)),C.enqueueIframe(c),m.onEvent=function(e,t,i){null!=i&&(p.youTubeState=i)},m.setSize=function(e,t){null!==g&&g.setSize(e,t)},m.hide=function(){m.stopInterval(),m.pause(),v&&(v.style.display="none")},m.show=function(){v&&(v.style.display="")},m.destroy=function(){g.destroy()},m.interval=null,m.startInterval=function(){m.interval=setInterval(function(){var e=(0,P.createEvent)("timeupdate",m);p.dispatchEvent(e)},250)},m.stopInterval=function(){m.interval&&clearInterval(m.interval)},m.getPosterUrl=function(){var e=i.youtube.imageQuality,t=C.getYouTubeId(p.originalNode.src);return e&&-1<["default","hqdefault","mqdefault","sddefault","maxresdefault"].indexOf(e)&&t?"https://img.youtube.com/vi/"+t+"/"+e+".jpg":""},m}};w.default.onYouTubePlayerAPIReady=function(){C.iFrameReady()},n.typeChecks.push(function(e){return/\/\/(www\.youtube|youtu\.?be)/i.test(e)?"video/x-youtube":null}),o.renderer.add(e)},{2:2,26:26,27:27,28:28,3:3,7:7,8:8}],25:[function(e,O,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelFullScreen=t.requestFullScreen=t.isFullScreen=t.FULLSCREEN_EVENT_NAME=t.HAS_NATIVE_FULLSCREEN_ENABLED=t.HAS_TRUE_NATIVE_FULLSCREEN=t.HAS_IOS_FULLSCREEN=t.HAS_MS_NATIVE_FULLSCREEN=t.HAS_MOZ_NATIVE_FULLSCREEN=t.HAS_WEBKIT_NATIVE_FULLSCREEN=t.HAS_NATIVE_FULLSCREEN=t.SUPPORTS_NATIVE_HLS=t.SUPPORT_PASSIVE_EVENT=t.SUPPORT_POINTER_EVENTS=t.HAS_MSE=t.IS_STOCK_ANDROID=t.IS_SAFARI=t.IS_FIREFOX=t.IS_CHROME=t.IS_EDGE=t.IS_IE=t.IS_ANDROID=t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=t.UA=t.NAV=void 0;var o=i(e(3)),n=i(e(2)),e=i(e(7));function i(e){return e&&e.__esModule?e:{default:e}}for(var a=t.NAV=o.default.navigator,s=t.UA=a.userAgent.toLowerCase(),r=t.IS_IPAD=/ipad/i.test(s)&&!o.default.MSStream,l=t.IS_IPHONE=/iphone/i.test(s)&&!o.default.MSStream,d=t.IS_IPOD=/ipod/i.test(s)&&!o.default.MSStream,c=(t.IS_IOS=/ipad|iphone|ipod/i.test(s)&&!o.default.MSStream,t.IS_ANDROID=/android/i.test(s)),u=t.IS_IE=/(trident|microsoft)/i.test(a.appName),a=(t.IS_EDGE="msLaunchUri"in a&&!("documentMode"in n.default)),h=t.IS_CHROME=/chrome/i.test(s),p=t.IS_FIREFOX=/firefox/i.test(s),m=t.IS_SAFARI=/safari/i.test(s)&&!h,f=t.IS_STOCK_ANDROID=/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(s),g=(t.HAS_MSE="MediaSource"in o.default),v=t.SUPPORT_POINTER_EVENTS=function(){var e=n.default.createElement("x"),t=n.default.documentElement,i=o.default.getComputedStyle;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e);t=i&&"auto"===(i(e,"")||{}).pointerEvents;return e.remove(),!!t}(),b=t.SUPPORT_PASSIVE_EVENT=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});o.default.addEventListener("test",null,t)}catch(e){}return e}(),y=["source","track","audio","video"],w=void 0,_=0,k=y.length;_<k;_++)w=n.default.createElement(y[_]);var P=t.SUPPORTS_NATIVE_HLS=m||u&&/edge/i.test(s),C=void 0!==w.webkitEnterFullscreen,S=void 0!==w.requestFullscreen,x=(C&&/mac os x 10_5/i.test(s)&&(C=S=!1),void 0!==w.webkitRequestFullScreen),T=void 0!==w.mozRequestFullScreen,B=void 0!==w.msRequestFullscreen,s=x||T||B,E=s,I="",A=void 0,$=void 0,L=void 0,S=(T?E=n.default.mozFullScreenEnabled:B&&(E=n.default.msFullscreenEnabled),h&&(C=!1),s&&(x?I="webkitfullscreenchange":T?I="fullscreenchange":B&&(I="MSFullscreenChange"),t.isFullScreen=A=function(){return T?n.default.mozFullScreen:x?n.default.webkitIsFullScreen:B?null!==n.default.msFullscreenElement:void 0},t.requestFullScreen=$=function(e){x?e.webkitRequestFullScreen():T?e.mozRequestFullScreen():B&&e.msRequestFullscreen()},t.cancelFullScreen=L=function(){x?n.default.webkitCancelFullScreen():T?n.default.mozCancelFullScreen():B&&n.default.msExitFullscreen()}),t.HAS_NATIVE_FULLSCREEN=S),M=t.HAS_WEBKIT_NATIVE_FULLSCREEN=x,D=t.HAS_MOZ_NATIVE_FULLSCREEN=T,F=t.HAS_MS_NATIVE_FULLSCREEN=B,C=t.HAS_IOS_FULLSCREEN=C,s=t.HAS_TRUE_NATIVE_FULLSCREEN=s,E=t.HAS_NATIVE_FULLSCREEN_ENABLED=E,I=t.FULLSCREEN_EVENT_NAME=I;t.isFullScreen=A,t.requestFullScreen=$,t.cancelFullScreen=L,e.default.Features=e.default.Features||{},e.default.Features.isiPad=r,e.default.Features.isiPod=d,e.default.Features.isiPhone=l,e.default.Features.isiOS=e.default.Features.isiPhone||e.default.Features.isiPad,e.default.Features.isAndroid=c,e.default.Features.isIE=u,e.default.Features.isEdge=a,e.default.Features.isChrome=h,e.default.Features.isFirefox=p,e.default.Features.isSafari=m,e.default.Features.isStockAndroid=f,e.default.Features.hasMSE=g,e.default.Features.supportsNativeHLS=P,e.default.Features.supportsPointerEvents=v,e.default.Features.supportsPassiveEvent=b,e.default.Features.hasiOSFullScreen=C,e.default.Features.hasNativeFullscreen=S,e.default.Features.hasWebkitNativeFullScreen=M,e.default.Features.hasMozNativeFullScreen=D,e.default.Features.hasMsNativeFullScreen=F,e.default.Features.hasTrueNativeFullScreen=s,e.default.Features.nativeFullScreenEnabled=E,e.default.Features.fullScreenEventName=I,e.default.Features.isFullScreen=A,e.default.Features.requestFullScreen=$,e.default.Features.cancelFullScreen=L},{2:2,3:3,7:7}],26:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.removeClass=i.addClass=i.hasClass=void 0,i.loadScript=a,i.offset=s,i.toggleClass=m,i.fadeOut=f,i.fadeIn=g,i.siblings=v,i.visible=b,i.ajax=y;var l=o(e(3)),n=o(e(2)),e=o(e(7));function o(e){return e&&e.__esModule?e:{default:e}}function a(o){return new Promise(function(e,t){var i=n.default.createElement("script");i.src=o,i.async=!0,i.onload=function(){i.remove(),e()},i.onerror=function(){i.remove(),t()},n.default.head.appendChild(i)})}function s(e){var e=e.getBoundingClientRect(),t=l.default.pageXOffset||n.default.documentElement.scrollLeft,i=l.default.pageYOffset||n.default.documentElement.scrollTop;return{top:e.top+i,left:e.left+t}}var r=void 0,d=void 0,c=void 0,c="classList"in n.default.documentElement?(r=function(e,t){return void 0!==e.classList&&e.classList.contains(t)},d=function(e,t){return e.classList.add(t)},function(e,t){return e.classList.remove(t)}):(r=function(e,t){return new RegExp("\\b"+t+"\\b").test(e.className)},d=function(e,t){u(e,t)||(e.className+=" "+t)},function(e,t){e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}),u=i.hasClass=r,h=i.addClass=d,p=i.removeClass=c;function m(e,t){(u(e,t)?p:h)(e,t)}function f(o){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,a=arguments[2],s=(o.style.opacity||(o.style.opacity=1),null);l.default.requestAnimationFrame(function e(t){var t=t-(s=s||t),i=parseFloat(1-t/n,2);o.style.opacity=i<0?0:i,n<t?a&&"function"==typeof a&&a():l.default.requestAnimationFrame(e)})}function g(o){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,a=arguments[2],s=(o.style.opacity||(o.style.opacity=0),null);l.default.requestAnimationFrame(function e(t){var t=t-(s=s||t),i=parseFloat(t/n,2);o.style.opacity=1<i?1:i,n<t?a&&"function"==typeof a&&a():l.default.requestAnimationFrame(e)})}function v(e,t){var i=[];for(e=e.parentNode.firstChild;t&&!t(e)||i.push(e),e=e.nextSibling;);return i}function b(e){return void 0!==e.getClientRects&&"function"===e.getClientRects?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!(!e.offsetWidth&&!e.offsetHeight)}function y(e,t,i,o){var n=l.default.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a="application/x-www-form-urlencoded; charset=UTF-8",s=!1,r="*/".concat("*");switch(t){case"text":a="text/plain";break;case"json":a="application/json, text/javascript";break;case"html":a="text/html";break;case"xml":a="application/xml, text/xml"}"application/x-www-form-urlencoded"!==a&&(r=a+", */*; q=0.01"),n&&(n.open("GET",e,!0),n.setRequestHeader("Accept",r),n.onreadystatechange=function(){if(!s&&4===n.readyState)if(200===n.status){s=!0;var e=void 0;switch(t){case"json":e=JSON.parse(n.responseText);break;case"xml":e=n.responseXML;break;default:e=n.responseText}i(e)}else"function"==typeof o&&o(n.status)},n.send())}e.default.Utils=e.default.Utils||{},e.default.Utils.offset=s,e.default.Utils.hasClass=u,e.default.Utils.addClass=h,e.default.Utils.removeClass=p,e.default.Utils.toggleClass=m,e.default.Utils.fadeIn=g,e.default.Utils.fadeOut=f,e.default.Utils.siblings=v,e.default.Utils.visible=b,e.default.Utils.ajax=y,e.default.Utils.loadScript=a},{2:2,3:3,7:7}],27:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.escapeHTML=o,i.debounce=n,i.isObjectEmpty=a,i.splitEvents=s,i.createEvent=r,i.isNodeAfter=l,i.isString=d;i=e(7),e=i&&i.__esModule?i:{default:i};function o(e){if("string"!=typeof e)throw new Error("Argument passed must be a string");var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return e.replace(/[&<>"]/g,function(e){return t[e]})}function n(o,n){var a=this,s=arguments,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof o)throw new Error("First argument must be a function");if("number"!=typeof n)throw new Error("Second argument must be a numeric value");var l=void 0;return function(){var e=a,t=s,i=r&&!l;clearTimeout(l),l=setTimeout(function(){l=null,r||o.apply(e,t)},n),i&&o.apply(e,t)}}function a(e){return Object.getOwnPropertyNames(e).length<=0}function s(e,i){var o=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,n={d:[],w:[]};return(e||"").split(" ").forEach(function(e){var t=e+(i?"."+i:"");(t.startsWith(".")?(n.d.push(t),n.w):n[o.test(e)?"w":"d"]).push(t)}),n.d=n.d.join(" "),n.w=n.w.join(" "),n}function r(e,t){if("string"!=typeof e)throw new Error("Event name must be a string");var i=e.match(/([a-z]+\.([a-z]+))/i),t={target:t};return null!==i&&(e=i[1],t.namespace=i[2]),new window.CustomEvent(e,{detail:t})}function l(e,t){return!!(e&&t&&2&e.compareDocumentPosition(t))}function d(e){return"string"==typeof e}e.default.Utils=e.default.Utils||{},e.default.Utils.escapeHTML=o,e.default.Utils.debounce=n,e.default.Utils.isObjectEmpty=a,e.default.Utils.splitEvents=s,e.default.Utils.createEvent=r,e.default.Utils.isNodeAfter=l,e.default.Utils.isString=d},{7:7}],28:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.typeChecks=void 0,i.absolutizeUrl=a,i.formatType=r,i.getMimeFromType=l,i.getTypeFromFile=d,i.getExtension=c,i.normalizeExtension=u;var o=e(7),o=o&&o.__esModule?o:{default:o},n=e(27),s=i.typeChecks=[];function a(e){if("string"!=typeof e)throw new Error("`url` argument must be a string");var t=document.createElement("div");return t.innerHTML='<a href="'+(0,n.escapeHTML)(e)+'">x</a>',t.firstChild.href}function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return e&&!t?d(e):t}function l(e){if("string"!=typeof e)throw new Error("`type` argument must be a string");return e&&-1<e.indexOf(";")?e.substr(0,e.indexOf(";")):e}function d(e){if("string"!=typeof e)throw new Error("`url` argument must be a string");for(var t=0,i=s.length;t<i;t++){var o=s[t](e);if(o)return o}var n=u(c(e)),a="video/mp4";return n&&(~["mp4","m4v","ogg","ogv","webm","flv","mpeg"].indexOf(n)?a="video/"+n:"mov"===n?a="video/quicktime":~["mp3","oga","wav","mid","midi"].indexOf(n)&&(a="audio/"+n)),a}function c(e){if("string"!=typeof e)throw new Error("`url` argument must be a string");e=e.split("?")[0].split("\\").pop().split("/").pop();return~e.indexOf(".")?e.substring(e.lastIndexOf(".")+1):""}function u(e){if("string"!=typeof e)throw new Error("`extension` argument must be a string");switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}}o.default.Utils=o.default.Utils||{},o.default.Utils.typeChecks=s,o.default.Utils.absolutizeUrl=a,o.default.Utils.formatType=r,o.default.Utils.getMimeFromType=l,o.default.Utils.getTypeFromFile=d,o.default.Utils.getExtension=c,o.default.Utils.normalizeExtension=u},{27:27,7:7}],29:[function(e,t,i){"use strict";var o,n=a(e(2)),e=a(e(4));function a(e){return e&&e.__esModule?e:{default:e}}[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),"function"!=typeof window.CustomEvent&&(d.prototype=window.Event.prototype,window.CustomEvent=d),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1,o=arguments.length;i<o;i++){var n=arguments[i];if(null!==n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t=t||0,e.length)===e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length-1;0<=--i&&t.item(i)!==this;);return-1<i}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),i=void 0,o=this;do{for(i=t.length;0<=--i&&t.item(i)!==o;);}while(i<0&&(o=o.parentElement));return o});for(var s=0,r=["ms","moz","webkit","o"],l=0;l<r.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[r[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[l]+"CancelAnimationFrame"]||window[r[l]+"CancelRequestAnimationFrame"];function d(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=n.default.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-s)),o=window.setTimeout(function(){e(t+i)},i);return s=t+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),/firefox/i.test(navigator.userAgent)&&(o=window.getComputedStyle,window.getComputedStyle=function(e,t){e=o(e,t);return null===e?{getPropertyValue:function(){}}:e}),window.Promise||(window.Promise=e.default),(e=window.Node||window.Element)&&e.prototype&&null===e.prototype.children&&Object.defineProperty(e.prototype,"children",{get:function(){for(var e,t=0,i=this.childNodes,o=[];e=i[t++];)1===e.nodeType&&o.push(e);return o}})},{2:2,4:4}],30:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isDropFrame=k,i.secondsToTimeCode=o,i.timeCodeToSeconds=n,i.calculateTimeFormat=a,i.convertSMPTEtoSeconds=s;i=e(7),e=i&&i.__esModule?i:{default:i};function k(){return!((0<arguments.length&&void 0!==arguments[0]?arguments[0]:25)%1==0)}function o(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:25,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"hh:mm:ss",s=(e=!e||"number"!=typeof e||e<0?0:e,Math.round(.066666*o)),r=Math.round(o),l=24*Math.round(3600*o),d=Math.round(600*o),c=k(o)?";":":",u=void 0,h=void 0,p=void 0,m=Math.round(e*o);p=k(o)?(m<0&&(m=l+m),o=(m%=l)%d,m+=9*s*Math.floor(m/d),s<o&&(m+=s*Math.floor((o-s)/Math.round(60*r-s))),l=Math.floor(m/r),u=Math.floor(Math.floor(l/60)/60),h=Math.floor(l/60)%60,i?l%60:Math.floor(m/r%60).toFixed(n)):(u=Math.floor(e/3600)%24,h=Math.floor(e/60)%60,i?Math.floor(e%60):Math.floor(e%60).toFixed(n)),u=u<=0?0:u,p=60===(p=p<=0?0:p)?0:p,h=60===(h=h<=0?0:h)?0:h;for(var f=a.split(":"),g={},v=0,b=f.length;v<b;++v){for(var y="",w=0,_=f[v].length;w<_;w++)y.indexOf(f[v][w])<0&&(y+=f[v][w]);~["f","s","m","h"].indexOf(y)&&(g[y]=f[v].length)}d=(d=t||0<u?(u<10&&1<g.h?"0"+u:u)+":":"")+(h<10&&1<g.m?"0"+h:h)+":"+(p<10&&1<g.s?"0"+p:p);return i&&(d+=(o=(o=(m%r).toFixed(0))<=0?0:o)<10&&g.f?c+"0"+o:c+o),d}function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:25;if("string"!=typeof e)throw new TypeError("Time must be a string");if(0<e.indexOf(";")&&(e=e.replace(";",":")),!/\d{2}(\:\d{2}){0,3}/i.test(e))throw new TypeError("Time code must have the format `00:00:00`");var i=e.split(":"),e=void 0,o=0,n=0,a=0,s=0,r=Math.round(.066666*t),l=Math.round(t),d=3600*l,c=60*l;switch(i.length){default:case 1:a=parseInt(i[0],10);break;case 2:n=parseInt(i[0],10),a=parseInt(i[1],10);break;case 3:o=parseInt(i[0],10),n=parseInt(i[1],10),a=parseInt(i[2],10);break;case 4:o=parseInt(i[0],10),n=parseInt(i[1],10),a=parseInt(i[2],10),s=parseInt(i[3],10)}return e=k(t)?d*o+c*n+l*a+s-r*((l=60*o+n)-Math.floor(l/10)):(d*o+c*n+t*a+s)/t,parseFloat(e.toFixed(3))}function a(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:25;e=!e||"number"!=typeof e||e<0?0:e;for(var o=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,a=Math.floor(e%60),s=[[Math.floor((e%1*i).toFixed(3)),"f"],[a,"s"],[n,"m"],[o,"h"]],r=t.timeFormat,l=r[1]===r[0],e=l?2:1,d=r.length<e?r[e]:":",c=r[0],u=!1,h=0,p=s.length;h<p;h++)if(~r.indexOf(s[h][1]))u=!0;else if(u){for(var m=!1,f=h;f<p;f++)if(0<s[f][0]){m=!0;break}if(!m)break;r=s[h][1]+d+(r=l?r:c+r),l&&(r=s[h][1]+r),c=s[h][1]}t.timeFormat=r}function s(e){if("string"!=typeof e)throw new TypeError("Argument must be a string value");for(var t=~(e=e.replace(",",".")).indexOf(".")?e.split(".")[1].length:0,i=0,o=1,n=0,a=(e=e.split(":").reverse()).length;n<a;n++)o=1,0<n&&(o=Math.pow(60,n)),i+=Number(e[n])*o;return Number(i.toFixed(t))}e.default.Utils=e.default.Utils||{},e.default.Utils.secondsToTimeCode=o,e.default.Utils.timeCodeToSeconds=n,e.default.Utils.calculateTimeFormat=a,e.default.Utils.convertSMPTEtoSeconds=s},{7:7}]},{},[29,6,5,15,23,20,19,21,22,24,16,18,17,9,10,11,12,13,14]),!function(e,i){e.wp=e.wp||{},e.wp.mediaelement=new function(){var t={};return{initialize:function(){var e=[];(t="undefined"!=typeof _wpmejsSettings?i.extend(!0,{},_wpmejsSettings):t).classPrefix="mejs-",t.success=t.success||function(e){var t,i;e.rendererName&&-1!==e.rendererName.indexOf("flash")&&(t=e.attributes.autoplay&&"false"!==e.attributes.autoplay,i=e.attributes.loop&&"false"!==e.attributes.loop,t&&e.addEventListener("canplay",function(){e.play()},!1),i&&e.addEventListener("ended",function(){e.play()},!1))},t.customError=function(e,t){if(-1!==e.rendererName.indexOf("flash")||-1!==e.rendererName.indexOf("flv"))return'<a href="'+t.src+'">'+mejsL10n.strings["mejs.download-file"]+"</a>"},void 0!==t.videoShortcodeLibrary&&"mediaelement"!==t.videoShortcodeLibrary||e.push(".wp-video-shortcode"),void 0!==t.audioShortcodeLibrary&&"mediaelement"!==t.audioShortcodeLibrary||e.push(".wp-audio-shortcode"),e.length&&i(e.join(", ")).not(".mejs-container").filter(function(){return!i(this).parent().hasClass("mejs-mediaelement")}).mediaelementplayer(t)}}},i(e.wp.mediaelement.initialize)}(window,jQuery),!function(){var h,s,i=0,p=[],t={},e={},o={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},n=/[<>&\"\']/g,m=window.setTimeout,r={};function l(){this.returnValue=!1}function d(){this.cancelBubble=!0}for(var a,c,u="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe".split(/,/),f=0;f<u.length;f+=2)for(c=u[f+1].split(/ /),a=0;a<c.length;a++)e[c[a]]=u[f];var g,v,b,y,w,_={VERSION:"1.5.7",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:e,ua:(g=navigator,v=g.userAgent,b=g.vendor,y=/WebKit/.test(v),b=y&&-1!==b.indexOf("Apple"),w=window.opera&&window.opera.buildNumber,{windows:-1!==navigator.platform.indexOf("Win"),android:/Android/.test(v),ie:!y&&!w&&/MSIE/gi.test(v)&&/Explorer/gi.test(g.appName),webkit:y,gecko:!y&&/Gecko/.test(v),safari:b,opera:!!w}),typeOf:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(i){return _.each(arguments,function(e,t){0<t&&_.each(e,function(e,t){i[t]=e})}),i},cleanName:function(e){for(var t=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],i=0;i<t.length;i+=2)e=e.replace(t[i],t[i+1]);return e=(e=e.replace(/\s+/g,"_")).replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(e,t){return t.name=e,p[e]=t,p.push(t),t},guid:function(){for(var e=(new Date).getTime().toString(32),t=0;t<5;t++)e+=Math.floor(65535*Math.random()).toString(32);return(_.guidPrefix||"p")+e+(i++).toString(32)},buildUrl:function(e,t){var i="";return _.each(t,function(e,t){i+=(i?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),i&&(e+=(0<e.indexOf("?")?"&":"?")+i),e},each:function(e,t){var i,o,n;if(e)if((i=e.length)===h){for(o in e)if(e.hasOwnProperty(o)&&!1===t(e[o],o))return}else for(n=0;n<i;n++)if(!1===t(e[n],n))return},formatSize:function(e){return e===h||/\D/.test(e)?_.translate("N/A"):1073741824<e?Math.round(e/1073741824,1)+" GB":1048576<e?Math.round(e/1048576,1)+" MB":1024<e?Math.round(e/1024,1)+" KB":e+" b"},getPos:function(e,t){var i,o,n,a=0,s=0,r=document;function l(e){var t,i=0,o=0;return e&&(e=e.getBoundingClientRect(),t="CSS1Compat"===r.compatMode?r.documentElement:r.body,i=e.left+t.scrollLeft,o=e.top+t.scrollTop),{x:i,y:o}}if(t=t||r.body,e&&e.getBoundingClientRect&&_.ua.ie&&(!r.documentMode||r.documentMode<8))return o=l(e),n=l(t),{x:o.x-n.x,y:o.y-n.y};for(i=e;i&&i!=t&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;return{x:a,y:s}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return"string"==typeof e&&(t=(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")))[2],e=+e[1],"g"==t&&(e*=1073741824),"m"==t&&(e*=1048576),"k"==t&&(e*=1024)),e},xmlEncode:function(e){return e&&(""+e).replace(n,function(e){return o[e]?"&"+o[e]+";":e})},toArray:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i];return t},inArray:function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i}return-1},addI18n:function(e){return _.extend(t,e)},translate:function(e){return t[e]||e},isEmptyObj:function(e){if(e!==h)for(var t in e)return!1;return!0},hasClass:function(e,t){return""!=e.className&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)},addClass:function(e,t){_.hasClass(e,t)||(e.className=""==e.className?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){t=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(t,function(e,t,i){return" "===t&&" "===i?" ":""})},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},addEvent:function(e,t,i){var o,n,a=arguments[3];t=t.toLowerCase(),s===h&&(s="Plupload_"+_.guid()),e.addEventListener?e.addEventListener(t,o=i,!1):e.attachEvent&&e.attachEvent("on"+t,o=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=l,e.stopPropagation=d,i(e)}),e[s]===h&&(e[s]=_.guid()),r.hasOwnProperty(e[s])||(r[e[s]]={}),(n=r[e[s]]).hasOwnProperty(t)||(n[t]=[]),n[t].push({func:o,orig:i,key:a})},removeEvent:function(t,e){var i,o;if("function"==typeof arguments[2]?i=arguments[2]:o=arguments[2],e=e.toLowerCase(),t[s]&&r[t[s]]&&r[t[s]][e]){for(var n,a=(n=r[t[s]][e]).length-1;0<=a&&(n[a].key!==o&&n[a].orig!==i||(t.removeEventListener?t.removeEventListener(e,n[a].func,!1):t.detachEvent&&t.detachEvent("on"+e,n[a].func),n[a].orig=null,n[a].func=null,n.splice(a,1),i===h));a--);if(n.length||delete r[t[s]][e],_.isEmptyObj(r[t[s]])){delete r[t[s]];try{delete t[s]}catch(e){t[s]=h}}}},removeAllEvents:function(i){var o=arguments[1];i[s]!==h&&i[s]&&_.each(r[i[s]],function(e,t){_.removeEvent(i,t,o)})}};_.Uploader=function(l){var i,o,e,n={},d=[];function c(){var e,t,i=0;if(this.state==_.STARTED){for(t=0;t<d.length;t++)e||d[t].status!=_.QUEUED?i++:((e=d[t]).status=_.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e));i==d.length&&(this.stop(),this.trigger("UploadComplete",d))}}function u(){var e,t;for(i.reset(),e=0;e<d.length;e++)(t=d[e]).size!==h?(i.size+=t.size,i.loaded+=t.loaded):i.size=h,t.status==_.DONE?i.uploaded++:t.status==_.FAILED?i.failed++:i.queued++;i.size===h?i.percent=0<d.length?Math.ceil(i.uploaded/d.length*100):0:(i.bytesPerSec=Math.ceil(i.loaded/((+new Date-o||1)/1e3)),i.percent=0<i.size?Math.ceil(i.loaded/i.size*100):0)}i=new _.QueueProgress,l=_.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},l),_.extend(this,{state:_.STOPPED,runtime:"",features:{},files:d,settings:l,total:i,id:_.guid(),init:function(){var t,a,e,r=this,s=0;if("function"==typeof l.preinit?l.preinit(r):_.each(l.preinit,function(e,t){r.bind(t,e)}),l.page_url=l.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(l.url)||(l.url=l.page_url+l.url),l.chunk_size=_.parseSize(l.chunk_size),l.max_file_size=_.parseSize(l.max_file_size),r.bind("FilesAdded",function(e,t){var i,o,n,a=0,s=l.filters;for(s&&s.length&&(n=[],_.each(s,function(e){_.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?n.push("\\.*"):n.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),n=new RegExp(n.join("|")+"$","i")),i=0;i<t.length;i++)(o=t[i]).loaded=0,o.percent=0,o.status=_.QUEUED,n&&!n.test(o.name)?e.trigger("Error",{code:_.FILE_EXTENSION_ERROR,message:_.translate("File extension error."),file:o}):o.size!==h&&o.size>l.max_file_size?e.trigger("Error",{code:_.FILE_SIZE_ERROR,message:_.translate("File size error."),file:o}):(d.push(o),a++);if(!a)return!1;m(function(){r.trigger("QueueChanged"),r.refresh()},1)}),l.unique_names&&r.bind("UploadFile",function(e,t){var i=t.name.match(/\.([^.]+)$/),o="tmp";i&&(o=i[1]),t.target_name=t.id+"."+o}),r.bind("UploadProgress",function(e,t){t.percent=0<t.size?Math.ceil(t.loaded/t.size*100):100,u()}),r.bind("StateChanged",function(e){if(e.state==_.STARTED)o=+new Date;else if(e.state==_.STOPPED)for(t=e.files.length-1;0<=t;t--)e.files[t].status==_.UPLOADING&&(e.files[t].status=_.QUEUED,u())}),r.bind("QueueChanged",u),r.bind("Error",function(e,t){t.file&&(t.file.status=_.FAILED,u(),e.state==_.STARTED&&m(function(){c.call(r)},1))}),r.bind("FileUploaded",function(e,t){t.status=_.DONE,t.loaded=t.size,e.trigger("UploadProgress",t),m(function(){c.call(r)},1)}),l.runtimes)for(a=[],e=l.runtimes.split(/\s?,\s?/),t=0;t<e.length;t++)p[e[t]]&&a.push(p[e[t]]);else a=p;!function t(){var i,e,o,n=a[s++];if(n){if(i=n.getFeatures(),e=r.settings.required_features)for(e=e.split(","),o=0;o<e.length;o++)if(!i[e[o]])return void t();n.init(r,function(e){e&&e.success?(r.features=i,r.runtime=n.name,r.trigger("Init",{runtime:n.name}),r.trigger("PostInit"),r.refresh()):t()})}else r.trigger("Error",{code:_.INIT_ERROR,message:_.translate("Init error.")})}(),"function"==typeof l.init?l.init(r):_.each(l.init,function(e,t){r.bind(t,e)})},refresh:function(){this.trigger("Refresh")},start:function(){d.length&&this.state!=_.STARTED&&(this.state=_.STARTED,this.trigger("StateChanged"),c.call(this))},stop:function(){this.state!=_.STOPPED&&(this.state=_.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))},disableBrowse:function(){e=arguments[0]===h||arguments[0],this.trigger("DisableBrowse",e)},getFile:function(e){for(var t=d.length-1;0<=t;t--)if(d[t].id===e)return d[t]},removeFile:function(e){for(var t=d.length-1;0<=t;t--)if(d[t].id===e.id)return this.splice(t,1)[0]},splice:function(e,t){e=d.splice(e===h?0:e,t===h?d.length:t);return this.trigger("FilesRemoved",e),this.trigger("QueueChanged"),e},trigger:function(e){var t,i,o=n[e.toLowerCase()];if(o)for((i=Array.prototype.slice.call(arguments))[0]=this,t=0;t<o.length;t++)if(!1===o[t].func.apply(o[t].scope,i))return!1;return!0},hasEventListener:function(e){return!!n[e.toLowerCase()]},bind:function(e,t,i){var o;e=e.toLowerCase(),(o=n[e]||[]).push({func:t,scope:i||this}),n[e]=o},unbind:function(e){e=e.toLowerCase();var t,i=n[e],o=arguments[1];if(i){if(o!==h){for(t=i.length-1;0<=t;t--)if(i[t].func===o){i.splice(t,1);break}}else i=[];i.length||delete n[e]}},unbindAll:function(){var i=this;_.each(n,function(e,t){i.unbind(t)})},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},_.File=function(e,t,i){var o=this;o.id=e,o.name=t,o.size=i,o.loaded=0,o.percent=0,o.status=0},_.Runtime=function(){this.getFeatures=function(){},this.init=function(e,t){}},_.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},_.runtimes={},window.plupload=_}(),!function(_,k,P,m){var s,f={};function p(e,t,i){var o=e.naturalWidth,n=e.naturalHeight,a=i.width,s=i.height,r=t.getContext("2d");r.save();1048576<(t=(i=e).naturalWidth)*i.naturalHeight&&((l=k.createElement("canvas")).width=l.height=1,(l=l.getContext("2d")).drawImage(i,1-t,0),0===l.getImageData(0,0,1,1).data[3])&&(o/=2,n/=2);for(var l,d=1024,c=k.createElement("canvas"),u=(c.width=c.height=d,c.getContext("2d")),h=function(e,t){var i=k.createElement("canvas");i.width=1,i.height=t;(i=i.getContext("2d")).drawImage(e,0,0);for(var o=i.getImageData(0,0,1,t).data,n=0,a=t,s=t;n<s;)0===o[4*(s-1)+3]?a=s:n=s,s=a+n>>1;return 0==(e=s/t)?1:e}(e,n),p=0;p<n;){for(var m=n<p+d?n-p:d,f=0;f<o;){var g=o<f+d?o-f:d,v=(u.clearRect(0,0,d,d),u.drawImage(e,-f,-p),f*a/o<<0),b=Math.ceil(g*a/o),y=p*s/n/h<<0,w=Math.ceil(m*s/n/h);r.drawImage(c,0,0,g,m,v,y,b,w),f+=d}p+=d}r.restore()}function o(e,t){var i;"FileReader"in _?((i=new FileReader).readAsBinaryString(e),i.onload=function(){t(i.result)}):t(e.getAsBinary())}function a(a,s,r,l){var d,c,u,e,t,i,h=this;e=f[a.id],t=function(n){(d=k.createElement("canvas")).style.display="none",k.body.appendChild(d),(c=new Image).onerror=c.onabort=function(){l({success:!1})},c.onload=function(){var e,t,i,o;if(s.width||(s.width=c.width),s.height||(s.height=c.height),(u=Math.min(s.width/c.width,s.height/c.height))<1)e=Math.round(c.width*u),t=Math.round(c.height*u);else{if(!s.quality||"image/jpeg"!==r)return void l({success:!1});e=c.width,t=c.height}if(d.width=e,d.height=t,p(c,d,{width:e,height:t}),"image/jpeg"===r&&(i=new g(atob(n.substring(n.indexOf("base64,")+7)))).headers&&i.headers.length&&(o=new v).init(i.get("exif")[0])&&(o.setExif("PixelXDimension",e),o.setExif("PixelYDimension",t),i.set("exif",o.getBinary()),h.hasEventListener("ExifData")&&h.trigger("ExifData",a,o.EXIF()),h.hasEventListener("GpsData")&&h.trigger("GpsData",a,o.GPS())),s.quality&&"image/jpeg"===r)try{n=d.toDataURL(r,s.quality/100)}catch(e){n=d.toDataURL(r)}else n=d.toDataURL(r);n=n.substring(n.indexOf("base64,")+7),n=atob(n),i&&i.headers&&i.headers.length&&(n=i.restore(n),i.purge()),d.parentNode.removeChild(d),l({success:!0,data:n})},c.src=n},"FileReader"in _?((i=new FileReader).readAsDataURL(e),i.onload=function(){t(i.result)}):t(e.getAsDataURL())}function l(){var a,r=!1;function l(e,t){for(var i=r?0:-8*(t-1),o=0,n=0;n<t;n++)o|=a.charCodeAt(e+n)<<Math.abs(i+8*n);return o}function d(e,t,i){i=3===arguments.length?i:a.length-t-1;a=a.substr(0,t)+e+a.substr(i+t)}return{II:function(e){if(e===m)return r;r=e},init:function(e){r=!1,a=e},SEGMENT:function(e,t,i){switch(arguments.length){case 1:return a.substr(e,a.length-e-1);case 2:return a.substr(e,t);case 3:d(i,e,t);break;default:return a}},BYTE:function(e){return l(e,1)},SHORT:function(e){return l(e,2)},LONG:function(e,t){if(t===m)return l(e,4);for(var i=t,o=4,n="",a=r?0:-8*(o-1),s=0;s<o;s++)n+=String.fromCharCode(i>>Math.abs(a+8*s)&255);d(n,e,o)},SLONG:function(e){e=l(e,4);return 2147483647<e?e-4294967296:e},STRING:function(e,t){var i="";for(t+=e;e<t;e++)i+=String.fromCharCode(l(e,1));return i}}}function g(e){var a,t,i,o,n={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},s=[],r=new l;if(r.init(e),65496===r.SHORT(0)){for(a=2,o=Math.min(1048576,e.length);a<=o;)if(65488<=(t=r.SHORT(a))&&t<=65495)a+=2;else{if(65498===t||65497===t)break;i=r.SHORT(a+2)+2,n[t]&&r.STRING(a+4,n[t].signature.length)===n[t].signature&&s.push({hex:t,app:n[t].app.toUpperCase(),name:n[t].name.toUpperCase(),start:a,length:i,segment:r.SEGMENT(a,i)}),a+=i}return r.init(null),{headers:s,restore:function(e){r.init(e);var t=new g(e);if(!t.headers)return!1;for(var i=t.headers.length;0<i;i--){var o=t.headers[i-1];r.SEGMENT(o.start,o.length,"")}t.purge(),a=65504==r.SHORT(2)?4+r.SHORT(4):2;for(var i=0,n=s.length;i<n;i++)r.SEGMENT(a,0,s[i].segment),a+=s[i].length;return r.SEGMENT()},get:function(e){for(var t=[],i=0,o=s.length;i<o;i++)s[i].app===e.toUpperCase()&&t.push(s[i].segment);return t},set:function(e,t){var i=[];"string"==typeof t?i.push(t):i=t;for(var o=ii=0,n=s.length;o<n&&(s[o].app===e.toUpperCase()&&(s[o].segment=i[ii],s[o].length=i[ii].length,ii++),!(ii>=i.length));o++);},purge:function(){s=[],r.init(null)}}}}function v(){var u,c,h,p={};function o(e,t){for(var i,o,n,a,s,r=u.SHORT(e),l=[],d={},c=0;c<r;c++)if(a=e+12*c+2,(o=t[u.SHORT(a)])!==m){switch(s=u.SHORT(a+=2),n=u.LONG(a+=2),a+=4,l=[],s){case 1:case 7:for(4<n&&(a=u.LONG(a)+p.tiffHeader),i=0;i<n;i++)l[i]=u.BYTE(a+i);break;case 2:4<n&&(a=u.LONG(a)+p.tiffHeader),d[o]=u.STRING(a,n-1);continue;case 3:for(2<n&&(a=u.LONG(a)+p.tiffHeader),i=0;i<n;i++)l[i]=u.SHORT(a+2*i);break;case 4:for(1<n&&(a=u.LONG(a)+p.tiffHeader),i=0;i<n;i++)l[i]=u.LONG(a+4*i);break;case 5:for(a=u.LONG(a)+p.tiffHeader,i=0;i<n;i++)l[i]=u.LONG(a+4*i)/u.LONG(a+4*i+4);break;case 9:for(a=u.LONG(a)+p.tiffHeader,i=0;i<n;i++)l[i]=u.SLONG(a+4*i);break;case 10:for(a=u.LONG(a)+p.tiffHeader,i=0;i<n;i++)l[i]=u.SLONG(a+4*i)/u.SLONG(a+4*i+4);break;default:continue}s=1==n?l[0]:l,h.hasOwnProperty(o)&&"object"!=typeof s?d[o]=h[o][s]:d[o]=s}return d}return u=new l,c={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},h={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return p={tiffHeader:10},!(e===m||!e.length)&&(u.init(e),65505===u.SHORT(0)&&"EXIF\0"===u.STRING(4,5).toUpperCase()&&(e=p.tiffHeader,u.II(18761==u.SHORT(e)),42===u.SHORT(e+=2)&&(p.IFD0=p.tiffHeader+u.LONG(e+=2),e=o(p.IFD0,c.tiff),p.exifIFD="ExifIFDPointer"in e?p.tiffHeader+e.ExifIFDPointer:m,p.gpsIFD="GPSInfoIFDPointer"in e?p.tiffHeader+e.GPSInfoIFDPointer:m,!0)))},EXIF:function(){var e=o(p.exifIFD,c.exif);if(e.ExifVersion&&"array"===P.typeOf(e.ExifVersion)){for(var t=0,i="";t<e.ExifVersion.length;t++)i+=String.fromCharCode(e.ExifVersion[t]);e.ExifVersion=i}return e},GPS:function(){var e=o(p.gpsIFD,c.gps);return e.GPSVersionID&&(e.GPSVersionID=e.GPSVersionID.join(".")),e},setExif:function(e,t){if("PixelXDimension"!==e&&"PixelYDimension"!==e)return!1;var o,n,a,s="exif",r=e,e=t,l=0;if("string"==typeof r){var d=c[s.toLowerCase()];for(hex in d)if(d[hex]===r){r=hex;break}}for(o=p[s.toLowerCase()+"IFD"],n=u.SHORT(o),i=0;i<n;i++)if(a=o+12*i+2,u.SHORT(a)==r){l=a+8;break}return!!l&&(u.LONG(l,e),!0)},getBinary:function(){return u.SEGMENT()}}}P.runtimes.Html5=P.addRuntime("html5",{getFeatures:function(){var e,t,i,o,n,a=e=i=o=!1;return _.XMLHttpRequest&&(e=!!(n=new XMLHttpRequest).upload,a=!(!n.sendAsBinary&&!n.upload)),a&&(t=!!(n.sendAsBinary||_.Uint8Array&&_.ArrayBuffer),i=!(!File||!File.prototype.getAsDataURL&&!_.FileReader||!t),o=!(!File||!(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))),s=P.ua.safari&&P.ua.windows,{html5:a,dragdrop:"draggable"in(n=k.createElement("div"))||"ondragstart"in n&&"ondrop"in n,jpgresize:i,pngresize:i,multipart:i||!!_.FileReader||!!_.FormData,canSendBinary:t,cantSendBlobInFormData:!(!(P.ua.gecko&&_.FormData&&_.FileReader)||FileReader.prototype.readAsArrayBuffer)||P.ua.android,progress:e,chunks:o,multi_selection:!(P.ua.safari&&P.ua.windows),triggerDialog:P.ua.gecko&&_.FormData||P.ua.webkit}},init:function(h,e){function p(e){for(var t,i,o=[],n={},a=0;a<e.length;a++)n[(t=e[a]).name]&&P.ua.safari&&P.ua.windows||(n[t.name]=!0,i=P.guid(),f[i]=t,o.push(new P.File(i,t.fileName||t.name,t.fileSize||t.size)));o.length&&h.trigger("FilesAdded",o)}var y,w;h.addFiles=p,(y=this.getFeatures()).html5?(h.bind("Init",function(i){var e,t,o,n,a,s,r,l=[],d=i.settings.filters,c=k.body,u=k.createElement("div");u.id=i.id+"_html5_container",P.extend(u.style,{position:"absolute",background:h.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:h.settings.shim_bgcolor?"":0}),u.className="plupload html5",h.settings.container&&(c=k.getElementById(h.settings.container),"static"===P.getStyle(c,"position")&&(c.style.position="relative")),c.appendChild(u);e:for(t=0;t<d.length;t++)for(n=d[t].extensions.split(/,/),o=0;o<n.length;o++){if("*"===n[o]){l=[];break e}(a=P.mimeTypes[n[o]])&&-1===P.inArray(a,l)&&l.push(a)}u.innerHTML='<input id="'+h.id+'_html5"  style="font-size:999px" type="file" accept="'+l.join(",")+'" '+(h.settings.multi_selection&&h.features.multi_selection?'multiple="multiple"':"")+" />",u.scrollTop=100,c=k.getElementById(h.id+"_html5"),i.features.triggerDialog?P.extend(c.style,{position:"absolute",width:"100%",height:"100%"}):P.extend(c.style,{cssFloat:"right",styleFloat:"right"}),c.onchange=function(){p(this.files),this.value=""},(e=k.getElementById(i.settings.browse_button))&&(s=i.settings.browse_button_hover,r=i.settings.browse_button_active,c=i.features.triggerDialog?e:u,s&&(P.addEvent(c,"mouseover",function(){P.addClass(e,s)},i.id),P.addEvent(c,"mouseout",function(){P.removeClass(e,s)},i.id)),r&&(P.addEvent(c,"mousedown",function(){P.addClass(e,r)},i.id),P.addEvent(k.body,"mouseup",function(){P.removeClass(e,r)},i.id)),i.features.triggerDialog&&P.addEvent(e,"click",function(e){var t=k.getElementById(i.id+"_html5");t&&!t.disabled&&t.click(),e.preventDefault()},i.id))}),h.bind("PostInit",function(){var o=k.getElementById(h.settings.drop_element);o&&(s?P.addEvent(o,"dragenter",function(e){var t,i=k.getElementById(h.id+"_drop");i||((i=k.createElement("input")).setAttribute("type","file"),i.setAttribute("id",h.id+"_drop"),i.setAttribute("multiple","multiple"),P.addEvent(i,"change",function(){p(this.files),P.removeEvent(i,"change",h.id),i.parentNode.removeChild(i)},h.id),P.addEvent(i,"dragover",function(e){e.stopPropagation()},h.id),o.appendChild(i)),P.getPos(o,k.getElementById(h.settings.container)),t=P.getSize(o),"static"===P.getStyle(o,"position")&&P.extend(o.style,{position:"relative"}),P.extend(i.style,{position:"absolute",display:"block",top:0,left:0,width:t.w+"px",height:t.h+"px",opacity:0})},h.id):(P.addEvent(o,"dragover",function(e){e.preventDefault()},h.id),P.addEvent(o,"drop",function(e){var t=e.dataTransfer;t&&t.files&&p(t.files),e.preventDefault()},h.id)))}),h.bind("Refresh",function(e){var t,i,o=k.getElementById(h.settings.browse_button);o&&(e=P.getPos(o,k.getElementById(e.settings.container)),t=P.getSize(o),i=k.getElementById(h.id+"_html5_container"),P.extend(i.style,{top:e.y+"px",left:e.x+"px",width:t.w+"px",height:t.h+"px"}),h.features.triggerDialog&&("static"===P.getStyle(o,"position")&&P.extend(o.style,{position:"relative"}),e=parseInt(P.getStyle(o,"zIndex"),10),isNaN(e)&&(e=0),P.extend(o.style,{zIndex:e}),P.extend(i.style,{zIndex:e-1})))}),h.bind("DisableBrowse",function(e,t){e=k.getElementById(e.id+"_html5");e&&(e.disabled=t)}),h.bind("CancelUpload",function(){w&&w.abort&&w.abort()}),h.bind("UploadFile",function(v,b){var t,n=v.settings;function i(o){var f=0,g=0;!function r(){var l,d,c,u,e,t,h,p=v.settings.url;function m(e){if(w.sendAsBinary)w.sendAsBinary(e);else if(v.features.canSendBinary){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=255&e.charCodeAt(i);w.send(t.buffer)}}function i(i){var o,t=0,n="----pluploadboundary"+P.guid(),a="\r\n",s="";if((w=new XMLHttpRequest).upload&&(w.upload.onprogress=function(e){b.loaded=Math.min(b.size,g+e.loaded-t),v.trigger("UploadProgress",b)}),w.onreadystatechange=function(){var t,e;if(4==w.readyState&&v.state!==P.STOPPED){try{t=w.status}catch(e){t=0}if(400<=t)v.trigger("Error",{code:P.HTTP_ERROR,message:P.translate("HTTP Error."),file:b,status:t});else{if(d){if(e={chunk:f,chunks:d,response:w.responseText,status:t},v.trigger("ChunkUploaded",b,e),g+=u,e.cancelled)return void(b.status=P.FAILED);b.loaded=Math.min(b.size,(f+1)*c)}else b.loaded=b.size;v.trigger("UploadProgress",b),i=l=o=s=null,!d||++f>=d?(b.status=P.DONE,v.trigger("FileUploaded",b,{response:w.responseText,status:t})):r()}}},v.settings.multipart&&y.multipart){if(h.name=b.target_name||b.name,w.open("post",p,!0),P.each(v.settings.headers,function(e,t){w.setRequestHeader(t,e)}),"string"!=typeof i&&_.FormData)return o=new FormData,P.each(P.extend(h,v.settings.multipart_params),function(e,t){o.append(t,e)}),o.append(v.settings.file_data_name,i),void w.send(o);if("string"==typeof i)return w.setRequestHeader("Content-Type","multipart/form-data; boundary="+n),P.each(P.extend(h,v.settings.multipart_params),function(e,t){s=(s+="--"+n+a+'Content-Disposition: form-data; name="'+t+'"'+a+a)+unescape(encodeURIComponent(e))+a}),e=P.mimeTypes[b.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",s+="--"+n+a+'Content-Disposition: form-data; name="'+v.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(b.name))+'"'+a+"Content-Type: "+e+a+a+i+a+"--"+n+"--"+a,t=s.length-i.length,void m(i=s)}p=P.buildUrl(v.settings.url,P.extend(h,v.settings.multipart_params)),w.open("post",p,!0),w.setRequestHeader("Content-Type","application/octet-stream"),P.each(v.settings.headers,function(e,t){w.setRequestHeader(t,e)}),"string"==typeof i?m(i):w.send(i)}b.status!=P.DONE&&b.status!=P.FAILED&&v.state!=P.STOPPED&&(h={name:b.target_name||b.name},n.chunk_size&&b.size>n.chunk_size&&(y.chunks||"string"==typeof o)?(c=n.chunk_size,d=Math.ceil(b.size/c),u=Math.min(c,b.size-f*c),l="string"==typeof o?o.substring(f*c,f*c+u):function(t,i,o){var e;if(!File.prototype.slice)return(e=File.prototype.webkitSlice||File.prototype.mozSlice)?e.call(t,i,o):null;try{return t.slice(),t.slice(i,o)}catch(e){return t.slice(i,o-i)}}(o,f*c,f*c+u),h.chunk=f,h.chunks=d):(u=b.size,l=o),v.settings.multipart&&y.multipart&&"string"!=typeof l&&_.FileReader&&y.cantSendBlobInFormData&&y.chunks&&v.settings.chunk_size?((t=new FileReader).onload=function(){i(t.result),t=null},t.readAsBinaryString(l)):i(l))}()}t=f[b.id],y.jpgresize&&v.settings.resize&&/\.(png|jpg|jpeg)$/i.test(b.name)?a.call(v,b,v.settings.resize,/\.png$/i.test(b.name)?"image/png":"image/jpeg",function(e){e.success?(b.size=e.data.length,i(e.data)):y.chunks?i(t):o(t,i)}):!y.chunks&&y.jpgresize?o(t,i):i(t)}),h.bind("Destroy",function(e){var t,i,o=k.body,n={inputContainer:e.id+"_html5_container",inputFile:e.id+"_html5",browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(t in n)(i=k.getElementById(n[t]))&&P.removeAllEvents(i,e.id);P.removeAllEvents(k.body,e.id),(o=e.settings.container?k.getElementById(e.settings.container):o).removeChild(k.getElementById(n.inputContainer))}),e({success:!0})):e({success:!1})}})}(window,document,plupload),!function(m,f,g){function v(e){return f.getElementById(e)}g.runtimes.Html4=g.addRuntime("html4",{getFeatures:function(){return{multipart:!0,triggerDialog:g.ua.gecko&&m.FormData||g.ua.webkit}},init:function(p,e){p.bind("Init",function(s){var i,n,r,e,t,o,a,l=f.body,d=[],c=/MSIE/.test(navigator.userAgent),u=[],h=s.settings.filters;e:for(e=0;e<h.length;e++)for(t=h[e].extensions.split(/,/),a=0;a<t.length;a++){if("*"===t[a]){u=[];break e}(o=g.mimeTypes[t[a]])&&-1===g.inArray(o,u)&&u.push(o)}u=u.join(","),s.settings.container&&(l=v(s.settings.container),"static"===g.getStyle(l,"position")&&(l.style.position="relative")),s.bind("UploadFile",function(e,t){var o;t.status!=g.DONE&&t.status!=g.FAILED&&e.state!=g.STOPPED&&(o=v("form_"+t.id),v("input_"+t.id).setAttribute("name",e.settings.file_data_name),o.setAttribute("action",e.settings.url),g.each(g.extend({name:t.target_name||t.name},e.settings.multipart_params),function(e,t){var i=f.createElement("input");g.extend(i,{type:"hidden",name:t,value:e}),o.insertBefore(i,o.firstChild)}),n=t,v("form_"+r).style.top="-1048575px",o.submit())}),s.bind("FileUploaded",function(e){e.refresh()}),s.bind("StateChanged",function(e){var t;e.state==g.STARTED?((t=f.createElement("div")).innerHTML='<iframe id="'+s.id+'_iframe" name="'+s.id+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',i=t.firstChild,l.appendChild(i),g.addEvent(i,"load",function(e){var t,e=e.target;if(n){try{t=e.contentWindow.document||e.contentDocument||m.frames[e.id].document}catch(e){return void s.trigger("Error",{code:g.SECURITY_ERROR,message:g.translate("Security error."),file:n})}(e=t.documentElement.innerText||t.documentElement.textContent)&&(n.status=g.DONE,n.loaded=1025,n.percent=100,s.trigger("UploadProgress",n),s.trigger("FileUploaded",n,{response:e}))}},s.id)):e.state==g.STOPPED&&m.setTimeout(function(){g.removeEvent(i,"load",e.id),i.parentNode&&i.parentNode.removeChild(i)},0),g.each(e.files,function(e,t){e.status!==g.DONE&&e.status!==g.FAILED||(e=v("form_"+e.id))&&e.parentNode.removeChild(e)})}),s.bind("Refresh",function(e){var t,i,o,n,a,s=v(e.settings.browse_button);s&&(a=g.getPos(s,v(e.settings.container)),o=g.getSize(s),n=v("form_"+r),v("input_"+r),g.extend(n.style,{top:a.y+"px",left:a.x+"px",width:o.w+"px",height:o.h+"px"}),e.features.triggerDialog&&("static"===g.getStyle(s,"position")&&g.extend(s.style,{position:"relative"}),a=parseInt(s.style.zIndex,10),isNaN(a)&&(a=0),g.extend(s.style,{zIndex:a}),g.extend(n.style,{zIndex:a-1})),t=e.settings.browse_button_hover,i=e.settings.browse_button_active,o=e.features.triggerDialog?s:n,t&&(g.addEvent(o,"mouseover",function(){g.addClass(s,t)},e.id),g.addEvent(o,"mouseout",function(){g.removeClass(s,t)},e.id)),i&&(g.addEvent(o,"mousedown",function(){g.addClass(s,i)},e.id),g.addEvent(f.body,"mouseup",function(){g.removeClass(s,i)},e.id)))}),p.bind("FilesRemoved",function(e,t){for(var i,o=0;o<t.length;o++)(i=v("form_"+t[o].id))&&i.parentNode.removeChild(i)}),p.bind("DisableBrowse",function(e,t){var i=f.getElementById("input_"+r);i&&(i.disabled=t)}),p.bind("Destroy",function(e){var t,i,o,n={inputContainer:"form_"+r,inputFile:"input_"+r,browseButton:e.settings.browse_button};for(t in n)(i=v(n[t]))&&g.removeAllEvents(i,e.id);g.removeAllEvents(f.body,e.id),g.each(d,function(e,t){(o=v("form_"+e))&&o.parentNode.removeChild(o)})}),function i(){var o,n,e,a;r=g.guid(),d.push(r),(o=f.createElement("form")).setAttribute("id","form_"+r),o.setAttribute("method","post"),o.setAttribute("enctype","multipart/form-data"),o.setAttribute("encoding","multipart/form-data"),o.setAttribute("target",s.id+"_iframe"),o.style.position="absolute",(n=f.createElement("input")).setAttribute("id","input_"+r),n.setAttribute("type","file"),n.setAttribute("accept",u),n.setAttribute("size",1),a=v(s.settings.browse_button),s.features.triggerDialog&&a&&g.addEvent(v(s.settings.browse_button),"click",function(e){n.disabled||n.click(),e.preventDefault()},s.id),g.extend(n.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"}),g.extend(o.style,{overflow:"hidden"}),(e=s.settings.shim_bgcolor)&&(o.style.background=e),c&&g.extend(n.style,{filter:"alpha(opacity=0)"}),g.addEvent(n,"change",function(e){var e=e.target,t=[];e.value&&(v("form_"+r).style.top="-1048575px",e=(e=e.value.replace(/\\/g,"/")).substring(e.length,e.lastIndexOf("/")+1),t.push(new g.File(r,e)),s.features.triggerDialog?g.removeEvent(a,"click",s.id):g.removeAllEvents(o,s.id),g.removeEvent(n,"change",s.id),i(),t.length&&p.trigger("FilesAdded",t))},s.id),o.appendChild(n),l.appendChild(o),s.refresh()}()}),e({success:!0})}})}(window,document,plupload),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");function trackPostHighlights(){BoredPanda.Config.isFeed||BoredPanda.Config.isStaffMember||0!==$("#post-highlights").length&&(BoredPanda.Config.hasPostHighlightsReadingTime?BoredPanda.Tracking.sendSimpleGA4Event("post_highlights_load+rt"):BoredPanda.Tracking.sendSimpleGA4Event("post_highlights_load-rt"))}function calculatePostReadingTime(){var e;!BoredPanda.Config.isFeed&&BoredPanda.Config.hasPostHighlightsReadingTime&&0!==$("#post-highlights").length&&(e=getArticleReadingDuration(),$(".article-reading-time").text(`Article reading time · ${e} min`),$(".article-reading-time-wrapper").show())}function getArticleReadingDuration(){return(0<BoredPanda.Config.openListId?calculateOpenListPostReadingTime:calculateSinglePostReadingTime)(250/60,3)}function calculateOpenListPostReadingTime(e,t){var i=0;let o=0;$(".post-content .open-list-post-description > .open-list-post-description p").each((e,t)=>{t=$(t).text().split(" ").filter(e=>0<e.trim().length);o+=t.length});var n=".post-content .open-list-items .open-list-item",n=($(n+` .open-list-header, ${n} .post-content-description`).each((e,t)=>{t=$(t).text().split(" ").filter(e=>0<e.trim().length);o+=t.length}),$(n+" .shareable-image-block img").length),i=i+o/e+n*t;return Math.round(i/60)}function calculateSinglePostReadingTime(e,t){var i=0;let o=0;$(".post-content p, .post-content h1, .post-content h2, .post-content h3").each((e,t)=>{t=$(t).text().split(" ").filter(e=>0<e.trim().length);o+=t.length});var n=$(".post-content img").length,i=i+o/e+n*t;return Math.round(i/60)}!function(){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),!function(a){"use strict";function s(e,t){this.options=t,this.$body=a(document.body),this.$element=a(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function n(o,n){return this.each(function(){var e=a(this),t=e.data("bs.modal"),i=a.extend({},s.DEFAULTS,e.data(),"object"==typeof o&&o);t||e.data("bs.modal",t=new s(this,i)),"string"==typeof o?t[o](n):i.show&&t.show(n)})}s.VERSION="3.2.0",s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},s.prototype.show=function(i){var o=this,e=a.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&o.$element.hasClass("fade"),t=(o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),e&&o.$element[0].offsetWidth,o.$element.addClass("in").attr("aria-hidden",!1),o.enforceFocus(),a.Event("shown.bs.modal",{relatedTarget:i}));e?o.$element.find(".modal-dialog").one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(300):o.$element.trigger("focus").trigger(t)}))},s.prototype.hide=function(e){e&&e.preventDefault(),e=a.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},s.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},s.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(e){var t,i=this,o=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(t=a.support.transition&&o,this.$backdrop=a('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),t&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e&&(t?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),o=function(){i.removeBackdrop(),e&&e()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()):e&&e()},s.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},s.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},s.prototype.measureScrollbar=function(){var e=document.createElement("div"),t=(e.className="modal-scrollbar-measure",this.$body.append(e),e.offsetWidth-e.clientWidth);return this.$body[0].removeChild(e),t};var e=a.fn.modal;a.fn.modal=n,a.fn.modal.Constructor=s,a.fn.modal.noConflict=function(){return a.fn.modal=e,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=a(this),i=t.attr("href"),o=a(t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),i=o.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(i)&&i},o.data(),t.data());t.is("a")&&e.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),n.call(o,i,this)})}(jQuery),!function(o){"use strict";o.fn.emulateTransitionEnd=function(e){var t=!1,i=this;o(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||o(i).trigger(o.support.transition.end)},e),this},o(function(){o.support.transition=function(){var e,t=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return{end:i[e]};return!1}(),o.support.transition&&(o.event.special.bsTransitionEnd={bindType:o.support.transition.end,delegateType:o.support.transition.end,handle:function(e){if(o(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),!function(n){"use strict";function o(e){n(e).on("click.bs.dropdown",this.toggle)}var a='[data-toggle="dropdown"]';function s(o){o&&3===o.which||(n(".dropdown-backdrop").remove(),n(a).each(function(){var e=n(this),t=r(e),i={relatedTarget:this};t.hasClass("open")&&(t.trigger(o=n.Event("hide.bs.dropdown",i)),o.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger("hidden.bs.dropdown",i)))}))}function r(e){var t=e.attr("data-target"),t=(t=t||(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""))&&n(t);return t&&t.length?t:e.parent()}o.VERSION="3.3.0",o.prototype.toggle=function(e){var t=n(this);if(!t.is(".disabled, :disabled")){var i=r(t),o=i.hasClass("open");if(s(),!o){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",s);o={relatedTarget:this};if(i.trigger(e=n.Event("show.bs.dropdown",o)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},o.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)){var t=n(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var i=r(t),o=i.hasClass("open");if(!o&&27!=e.which||o&&27==e.which)return 27==e.which&&i.find(a).trigger("focus"),t.trigger("click");o=" li:not(.divider):visible a",t=i.find('[role="menu"]'+o+', [role="listbox"]'+o);t.length&&(i=t.index(e.target),38==e.which&&0<i&&i--,40==e.which&&i<t.length-1&&i++,t.eq(i=~i?i:0).trigger("focus"))}}};var e=n.fn.dropdown;n.fn.dropdown=function(i){return this.each(function(){var e=n(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new o(this)),"string"==typeof i&&t[i].call(e)})},n.fn.dropdown.Constructor=o,n.fn.dropdown.noConflict=function(){return n.fn.dropdown=e,this},n(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),!function(){function e(){}for(var t,i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=i.length,n=window.console=window.console||{};o--;)n[t=i[o]]||(n[t]=e)}(),!function(v){function b(e,t,i){var o=e[0],n=/er/.test(i)?_indeterminate:/bl/.test(i)?x:S,a=i==_update?{checked:o[S],disabled:o[x],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:o[n];if(/^(ch|di|in)/.test(i)&&!a)y(e,n);else if(/^(un|en|de)/.test(i)&&a)w(e,n);else if(i==_update)for(var s in a)(a[s]?y:w)(e,s,!0);else t&&"toggle"!=i||(t||e[_callback]("ifClicked"),a?o[_type]!==C&&w(e,n):y(e,n))}function y(e,t,i){var o,n,a=e[0],s=e.parent(),r=t==S,l=t==_indeterminate,d=t==x,c=l?_determinate:r?g:"enabled",u=p(e,c+m(a[_type])),h=p(e,t+m(a[_type]));!0!==a[t]&&(!i&&t==S&&a[_type]==C&&a.name&&(o=e.closest("form"),n='input[name="'+a.name+'"]',(n=o.length?o.find(n):v(n)).each(function(){this!==a&&v(this).data(k)&&w(v(this),t)})),l?(a[t]=!0,a[S]&&w(e,S,"force")):(i||(a[t]=!0),r&&a[_indeterminate]&&w(e,_indeterminate,!1)),f(e,r,t,i)),a[x]&&p(e,_cursor,!0)&&s.find("."+P).css(_cursor,"default"),s[_add](h||p(e,t)||""),s.attr("role")&&!l&&s.attr("aria-"+(d?x:S),"true"),s[_remove](u||p(e,c)||"")}function w(e,t,i){var o=e[0],n=e.parent(),a=t==S,s=t==_indeterminate,r=t==x,l=s?_determinate:a?g:"enabled",d=p(e,l+m(o[_type])),c=p(e,t+m(o[_type]));!1!==o[t]&&(!s&&i&&"force"!=i||(o[t]=!1),f(e,a,l,i)),!o[x]&&p(e,_cursor,!0)&&n.find("."+P).css(_cursor,"pointer"),n[_remove](c||p(e,t)||""),n.attr("role")&&!s&&n.attr("aria-"+(r?x:S),"false"),n[_add](d||p(e,l)||"")}function _(e,t){e.data(k)&&(e.parent().html(e.attr("style",e.data(k).s||"")),t&&e[_callback](t),e.off(".i").unwrap(),v(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function p(e,t,i){if(e.data(k))return e.data(k).o[t+(i?"":"Class")]}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(e,t,i,o){o||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+m(i)))}var k="iCheck",P=k+"-helper",C="radio",S="checked",g="un"+S,x="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),v.fn[k]=function(t,i){function e(e){e.each(function(){var e=v(this);a=e.is(n)?a.add(e):a.add(e.find(n))})}var c,o,u,h,p,m,f,g,n='input[type="checkbox"], input[type="'+C+'"]',a=v();return/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(t)?(t=t.toLowerCase(),e(this),a.each(function(){var e=v(this);"destroy"==t?_(e,"ifDestroyed"):b(e,!0,t),v.isFunction(i)&&i()})):"object"!=typeof t&&t?this:(o=(c=v.extend({checkedClass:S,disabledClass:x,indeterminateClass:_indeterminate,labelHover:!0},t)).handle,u=c.hoverClass||"hover",h=c.focusClass||"focus",p=c.activeClass||"active",m=!!c.labelHover,f=c.labelHoverClass||"hover",g=0|(""+c.increaseArea).replace("%",""),"checkbox"!=o&&o!=C||(n='input[type="'+o+'"]'),g<-50&&(g=-50),e(this),a.each(function(){var o=v(this),n=(_(o),this),e=n.id,t={position:"absolute",top:i=-g+"%",left:i,display:"block",width:t=100+2*g+"%",height:t,margin:0,padding:0,background:"#fff",border:0,opacity:0},i=_mobile?{position:"absolute",visibility:"hidden"}:g?t:{position:"absolute",opacity:0},a="checkbox"==n[_type]?c.checkboxClass||"icheckbox":c.radioClass||"i"+C,s=v(_label+'[for="'+e+'"]').add(o.closest(_label)),r=!!c.aria,l=k+"-"+Math.random().toString(36).substr(2,6),d='<div class="'+a+'" '+(r?'role="'+n[_type]+'" ':"");r&&s.each(function(){d+='aria-labelledby="',this.id?d+=this.id:(this.id=l,d+=l),d+='"'}),d=o.wrap(d+"/>")[_callback]("ifCreated").parent().append(c.insert),t=v('<ins class="'+P+'"/>').css(t).appendTo(d),o.data(k,{o:c,s:o.attr("style")}).css(i),c.inheritClass&&d[_add](n.className||""),c.inheritID&&e&&d.attr("id",k+"-"+e),"static"==d.css("position")&&d.css("position","relative"),b(o,!0,_update),s.length&&s.on(_click+".i mouseover.i mouseout.i "+_touch,function(e){var t=e[_type],i=v(this);if(!n[x]){if(t==_click){if(v(e.target).is("a"))return;b(o,!1,!0)}else m&&(/ut|nd/.test(t)?(d[_remove](u),i[_remove](f)):(d[_add](u),i[_add](f)));if(!_mobile)return!1;e.stopPropagation()}}),o.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type];return e=e.keyCode,t!=_click&&("keydown"==t&&32==e?(n[_type]==C&&n[S]||(n[S]?w:y)(o,S),!1):void("keyup"==t&&n[_type]==C?n[S]||y(o,S):/us|ur/.test(t)&&d["blur"==t?_remove:_add](h)))}),t.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var t=e[_type],i=/wn|up/.test(t)?p:u;if(!n[x]){if(t==_click?b(o,!1,!0):(/wn|er|in/.test(t)?d[_add](i):d[_remove](i+" "+p),s.length&&m&&i==u&&s[/ut|nd/.test(t)?_remove:_add](f)),!_mobile)return!1;e.stopPropagation()}})}))}}(window.jQuery||window.Zepto),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(r){var t,n,a;!r.support.cors&&r.ajaxTransport&&window.XDomainRequest&&(t=/^https?:\/\//i,n=/^get|post$/i,a=new RegExp("^"+location.protocol,"i"),r.ajaxTransport("* text html xml json",function(i,o,e){var s;if(i.crossDomain&&i.async&&n.test(i.type)&&t.test(i.url)&&a.test(i.url))return s=null,{send:function(e,n){var t="",a=(o.dataType||"").toLowerCase();s=new XDomainRequest,/^\d+$/.test(o.timeout)&&(s.timeout=o.timeout),s.ontimeout=function(){n(500,"timeout")},s.onload=function(){var e="Content-Length: "+s.responseText.length+"\r\nContent-Type: "+s.contentType,t={code:200,message:"success"},i={text:s.responseText};try{if("html"===a||/text\/html/i.test(s.contentType))i.html=s.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(s.contentType))try{i.json=r.parseJSON(s.responseText)}catch(e){t.code=500,t.message="parseerror"}else if("xml"===a||"text"!==a&&/\/xml/i.test(s.contentType)){var o=new ActiveXObject("Microsoft.XMLDOM");o.async=!1;try{o.loadXML(s.responseText)}catch(e){o=void 0}if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+s.responseText;i.xml=o}}catch(e){throw e}finally{n(t.code,t.message,i,e)}},s.onprogress=function(){},s.onerror=function(){n(500,"error",{text:s.responseText})},o.data&&(t="string"===r.type(o.data)?o.data:r.param(o.data)),s.open(i.type,i.url),s.send(t)},abort:function(){s&&s.abort()}}}))}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(u){var i=/\+/g;function h(e){return m.raw?e:encodeURIComponent(e)}function p(e,t){e=m.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(i," ")),m.json?JSON.parse(e):e}catch(e){}}(e);return u.isFunction(t)?t(e):e}var m=u.cookie=function(e,t,i){var o,n;if(void 0!==t&&!u.isFunction(t))return"number"==typeof(i=u.extend({},m.defaults,i)).expires&&(o=i.expires,(n=i.expires=new Date).setTime(+n+864e5*o)),document.cookie=[h(e),"=",(n=t,h(m.json?JSON.stringify(n):String(n))),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("");for(var a=e?void 0:{},s=document.cookie?document.cookie.split("; "):[],r=0,l=s.length;r<l;r++){var d=s[r].split("="),c=(c=d.shift(),m.raw?c:decodeURIComponent(c)),d=d.join("=");if(e&&e===c){a=p(d,t);break}e||void 0===(d=p(d))||(a[c]=d)}return a};m.defaults={},u.removeCookie=function(e,t){return void 0!==u.cookie(e)&&(u.cookie(e,"",u.extend({},t,{expires:-1})),!u.cookie(e))}}),!function(n){var a,i,o,t;function e(){}function s(e,t){this.element=e,this.$el=n(this.element),e={$fileInput:this.$("input.cropit-image-input"),$preview:this.$(".cropit-image-preview"),$zoomSlider:this.$("input.cropit-image-zoom-input"),$previewContainer:this.$(".cropit-image-preview-container")},this.options=n.extend({},s._DEFAULTS,e,t),this.init()}e.prototype.setup=function(e,t,i,o){var n;return null==i&&(i=1),n=t.w/e.w,t=t.h/e.h,this.minZoom=null==o||!o.fitWidth||null!=o&&o.fitHeight?null==o||!o.fitHeight||null!=o&&o.fitWidth?null!=o&&o.fitWidth&&null!=o&&o.fitHeight?n<t?n:t:n<t?t:n:t:n,this.maxZoom=this.minZoom<1/i?1/i:this.minZoom},e.prototype.getZoom=function(e){return this.minZoom&&this.maxZoom?e*(this.maxZoom-this.minZoom)+this.minZoom:null},e.prototype.getSliderPos=function(e){return this.minZoom&&this.maxZoom?this.minZoom===this.maxZoom?0:(e-this.minZoom)/(this.maxZoom-this.minZoom):null},e.prototype.isZoomable=function(){return this.minZoom&&this.maxZoom?this.minZoom!==this.maxZoom:null},e.prototype.fixZoom=function(e){return e<this.minZoom?this.minZoom:e>this.maxZoom?this.maxZoom:e},a=e,s._DEFAULTS={exportZoom:1,imageBackground:!1,imageBackgroundBorderWidth:0,imageState:null,allowCrossOrigin:!1,allowDragNDrop:!0,fitWidth:!1,fitHeight:!1,freeMove:!1},s.PREVIEW_EVENTS=["mousedown","mouseup","mouseleave","touchstart","touchend","touchcancel","touchleave"].map(function(e){return e+".cropit"}).join(" "),s.PREVIEW_MOVE_EVENTS="mousemove.cropit touchmove.cropit",s.ZOOM_INPUT_EVENTS=["mousemove","touchmove","change"].map(function(e){return e+".cropit"}).join(" "),s.prototype.init=function(){var e,t,i,o;return this.image=new Image,this.options.allowCrossOrigin&&(this.image.crossOrigin="Anonymous"),this.$fileInput=this.options.$fileInput.attr({accept:"image/*"}),this.$preview=this.options.$preview.css({backgroundRepeat:"no-repeat"}),this.$zoomSlider=this.options.$zoomSlider.attr({min:0,max:1,step:.01}),this.previewSize={w:this.options.width||this.$preview.width(),h:this.options.height||this.$preview.height()},this.options.width&&this.$preview.width(this.previewSize.w),this.options.height&&this.$preview.height(this.previewSize.h),this.options.imageBackground&&(n.isArray(this.options.imageBackgroundBorderWidth)?this.imageBgBorderWidthArray=this.options.imageBackgroundBorderWidth:(this.imageBgBorderWidthArray=[],[0,1,2,3].forEach((o=this,function(e){return o.imageBgBorderWidthArray[e]=o.options.imageBackgroundBorderWidth}))),e=this.options.$previewContainer,this.$imageBg=n("<img />").addClass("cropit-image-background").attr("alt","").css("position","absolute"),this.$imageBgContainer=n("<div />").addClass("cropit-image-background-container").css({position:"absolute",zIndex:0,left:-this.imageBgBorderWidthArray[3]+window.parseInt(this.$preview.css("border-left-width")),top:-this.imageBgBorderWidthArray[0]+window.parseInt(this.$preview.css("border-top-width")),width:this.previewSize.w+this.imageBgBorderWidthArray[1]+this.imageBgBorderWidthArray[3],height:this.previewSize.h+this.imageBgBorderWidthArray[0]+this.imageBgBorderWidthArray[2]}).append(this.$imageBg),0<this.imageBgBorderWidthArray[0]&&this.$imageBgContainer.css({overflow:"hidden"}),e.css("position","relative").prepend(this.$imageBgContainer),this.$preview.css("position","relative"),this.$preview.hover(function(){return i.$imageBg.addClass("cropit-preview-hovered")},(t=i=this,function(){return t.$imageBg.removeClass("cropit-preview-hovered")}))),this.initialOffset={x:0,y:0},this.initialZoom=0,this.initialZoomSliderPos=0,this.imageLoaded=!1,this.moveContinue=!1,this.zoomer=new a,this.options.allowDragNDrop&&jQuery.event.props.push("dataTransfer"),this.bindListeners(),this.$zoomSlider.val(this.initialZoomSliderPos),this.setOffset((null!=(e=this.options.imageState)?e.offset:void 0)||this.initialOffset),this.zoom=(null!=(e=this.options.imageState)?e.zoom:void 0)||this.initialZoom,this.loadImage((null!=(e=this.options.imageState)?e.src:void 0)||null)},s.prototype.bindListeners=function(){return this.$fileInput.on("change.cropit",this.onFileChange.bind(this)),this.$preview.on(s.PREVIEW_EVENTS,this.onPreviewEvent.bind(this)),this.$zoomSlider.on(s.ZOOM_INPUT_EVENTS,this.onZoomSliderChange.bind(this)),this.options.allowDragNDrop?(this.$preview.on("dragover.cropit dragleave.cropit",this.onDragOver.bind(this)),this.$preview.on("drop.cropit",this.onDrop.bind(this))):void 0},s.prototype.unbindListeners=function(){return this.$fileInput.off("change.cropit"),this.$preview.off(s.PREVIEW_EVENTS),this.$preview.off("dragover.cropit dragleave.cropit drop.cropit"),this.$zoomSlider.off(s.ZOOM_INPUT_EVENTS)},s.prototype.reset=function(){return this.zoom=this.initialZoom,this.offset=this.initialOffset},s.prototype.onFileChange=function(){var e;return"function"==typeof(e=this.options).onFileChange&&e.onFileChange(),this.loadFileReader(this.$fileInput.get(0).files[0])},s.prototype.loadFileReader=function(e){var t=new FileReader;return null!=e&&e.type.match("image")?(this.setImageLoadingClass(),t.readAsDataURL(e),t.onload=this.onFileReaderLoaded.bind(this),t.onerror=this.onFileReaderError.bind(this)):void 0},s.prototype.onFileReaderLoaded=function(e){return this.reset(),this.loadImage(e.target.result)},s.prototype.onFileReaderError=function(){var e;return"function"==typeof(e=this.options).onFileReaderError?e.onFileReaderError():void 0},s.prototype.onDragOver=function(e){return e.preventDefault(),e.dataTransfer.dropEffect="copy",this.$preview.toggleClass("cropit-drag-hovered","dragover"===e.type)},s.prototype.onDrop=function(e){var t;return e.preventDefault(),e.stopPropagation(),Array.prototype.slice.call(e.dataTransfer.files,0).some((t=this,function(e){return e.type.match("image")?(t.loadFileReader(e),!0):void 0})),this.$preview.removeClass("cropit-drag-hovered")},s.prototype.loadImage=function(e){return this.imageSrc=e,this.imageSrc?("function"==typeof(e=this.options).onImageLoading&&e.onImageLoading(),this.setImageLoadingClass(),this.image.onload=this.onImageLoaded.bind(this),this.image.onerror=this.onImageError.bind(this),this.image.src=this.imageSrc):void 0},s.prototype.onImageLoaded=function(){var e;return this.setImageLoadedClass(),this.setOffset(this.offset),this.$preview.css("background-image","url("+this.imageSrc+")"),this.options.imageBackground&&this.$imageBg.attr("src",this.imageSrc),this.imageSize={w:this.image.width,h:this.image.height},this.setupZoomer(),this.imageLoaded=!0,"function"==typeof(e=this.options).onImageLoaded?e.onImageLoaded():void 0},s.prototype.onImageError=function(){var e;return"function"==typeof(e=this.options).onImageError?e.onImageError():void 0},s.prototype.setImageLoadingClass=function(){return this.$preview.removeClass("cropit-image-loaded").addClass("cropit-image-loading")},s.prototype.setImageLoadedClass=function(){return this.$preview.removeClass("cropit-image-loading").addClass("cropit-image-loaded")},s.prototype.getEventPosition=function(e){var t;return(e=null!=(t=e.originalEvent)&&null!=(t=t.touches)&&t[0]?null!=(t=e.originalEvent)&&null!=(t=t.touches)?t[0]:void 0:e).clientX&&e.clientY?{x:e.clientX,y:e.clientY}:void 0},s.prototype.onPreviewEvent=function(e){return this.imageLoaded?(this.moveContinue=!1,this.$preview.off(s.PREVIEW_MOVE_EVENTS),"mousedown"===e.type||"touchstart"===e.type?(this.origin=this.getEventPosition(e),this.moveContinue=!0,this.$preview.on(s.PREVIEW_MOVE_EVENTS,this.onMove.bind(this))):n(document.body).focus(),e.stopPropagation(),!1):void 0},s.prototype.onMove=function(e){var t=this.getEventPosition(e);return this.moveContinue&&t&&this.setOffset({x:this.offset.x+t.x-this.origin.x,y:this.offset.y+t.y-this.origin.y}),this.origin=t,e.stopPropagation(),!1},s.prototype.setOffset=function(e){return this.offset=this.fixOffset(e),this.$preview.css("background-position",this.offset.x+"px "+this.offset.y+"px"),this.options.imageBackground?this.$imageBg.css({left:this.offset.x+this.imageBgBorderWidthArray[3],top:this.offset.y+this.imageBgBorderWidthArray[0]}):void 0},s.prototype.fixOffset=function(e){var t;return this.imageLoaded?(t={x:e.x,y:e.y},this.options.freeMove||(this.imageSize.w*this.zoom<=this.previewSize.w||0<t.x?t.x=0:t.x+this.imageSize.w*this.zoom<this.previewSize.w&&(t.x=this.previewSize.w-this.imageSize.w*this.zoom),this.imageSize.h*this.zoom<=this.previewSize.h||0<t.y?t.y=0:t.y+this.imageSize.h*this.zoom<this.previewSize.h&&(t.y=this.previewSize.h-this.imageSize.h*this.zoom)),t.x=this.round(t.x),t.y=this.round(t.y),t):e},s.prototype.onZoomSliderChange=function(){var e;if(this.imageLoaded)return this.zoomSliderPos=Number(this.$zoomSlider.val()),e=this.zoomer.getZoom(this.zoomSliderPos),this.setZoom(e)},s.prototype.enableZoomSlider=function(){var e;return this.$zoomSlider.removeAttr("disabled"),"function"==typeof(e=this.options).onZoomEnabled?e.onZoomEnabled():void 0},s.prototype.disableZoomSlider=function(){var e;return this.$zoomSlider.attr("disabled",!0),"function"==typeof(e=this.options).onZoomDisabled?e.onZoomDisabled():void 0},s.prototype.setupZoomer=function(){return this.zoomer.setup(this.imageSize,this.previewSize,this.options.exportZoom,this.options),this.zoom=this.fixZoom(this.zoom),this.setZoom(this.zoom),this.isZoomable()?this.enableZoomSlider():this.disableZoomSlider()},s.prototype.setZoom=function(e){var t,i,o,n;return e=this.fixZoom(e),n=this.round(this.imageSize.w*e),o=this.round(this.imageSize.h*e),i=this.zoom,t=this.previewSize.w/2-(this.previewSize.w/2-this.offset.x)*e/i,i=this.previewSize.h/2-(this.previewSize.h/2-this.offset.y)*e/i,this.zoom=e,this.setOffset({x:t,y:i}),this.zoomSliderPos=this.zoomer.getSliderPos(this.zoom),this.$zoomSlider.val(this.zoomSliderPos),this.$preview.css("background-size",n+"px "+o+"px"),this.options.imageBackground?this.$imageBg.css({width:n,height:o}):void 0},s.prototype.fixZoom=function(e){return this.zoomer.fixZoom(e)},s.prototype.isZoomable=function(){return this.zoomer.isZoomable()},s.prototype.getCroppedImageData=function(e){var t,i,o;return this.imageSrc?(e=n.extend({},{type:"image/png",quality:.75,originalSize:!1,fillBg:"#fff"},e),i={w:this.previewSize.w,h:this.previewSize.h},this.options.fitHeight&&!this.options.fitWidth&&this.imageSize.w*this.zoom<this.previewSize.w?i.w=this.imageSize.w*this.zoom:this.options.fitWidth&&!this.options.fitHeight&&this.imageSize.h*this.zoom<this.previewSize.h&&(i.h=this.imageSize.h*this.zoom),o=e.originalSize?1/this.zoom:this.options.exportZoom,t=(i=n("<canvas />").attr({width:i.w*o,height:i.h*o}).get(0)).getContext("2d"),"image/jpeg"===e.type&&(t.fillStyle=e.fillBg,t.fillRect(0,0,i.width,i.height)),t.drawImage(this.image,this.offset.x*o,this.offset.y*o,this.zoom*o*this.imageSize.w,this.zoom*o*this.imageSize.h),i.toDataURL(e.type,e.quality)):null},s.prototype.getImageState=function(){return{src:this.imageSrc,offset:this.offset,zoom:this.zoom}},s.prototype.getImageSrc=function(){return this.imageSrc},s.prototype.getOffset=function(){return this.offset},s.prototype.getZoom=function(){return this.zoom},s.prototype.getImageSize=function(){return this.imageSize?{width:this.imageSize.w,height:this.imageSize.h}:null},s.prototype.getPreviewSize=function(){return{width:this.previewSize.w,height:this.previewSize.h}},s.prototype.setPreviewSize=function(e){return 0<(null!=e?e.width:void 0)&&0<(null!=e?e.height:void 0)&&(this.previewSize={w:e.width,h:e.height},this.$preview.css({width:this.previewSize.w,height:this.previewSize.h}),this.options.imageBackground&&this.$imageBgContainer.css({width:this.previewSize.w+this.imageBgBorderWidthArray[1]+this.imageBgBorderWidthArray[3],height:this.previewSize.h+this.imageBgBorderWidthArray[0]+this.imageBgBorderWidthArray[2]}),this.imageLoaded)?this.setupZoomer():void 0},s.prototype.disable=function(){return this.unbindListeners(),this.disableZoomSlider(),this.$el.addClass("cropit-disabled")},s.prototype.reenable=function(){return this.bindListeners(),this.enableZoomSlider(),this.$el.removeClass("cropit-disabled")},s.prototype.round=function(e){return Math.round(1e5*e)/1e5},s.prototype.$=function(e){return this.$el?this.$el.find(e):null},i=s,o="cropit",t={init:function(t){return this.each(function(){var e;return n.data(this,o)?void 0:(e=new i(this,t),n.data(this,o,e))})},destroy:function(){return this.each(function(){return n.removeData(this,o)})},isZoomable:function(){var e=this.first().data(o);return null!=e?e.isZoomable():void 0},export:function(e){var t=this.first().data(o);return null!=t?t.getCroppedImageData(e):void 0},imageState:function(){var e=this.first().data(o);return null!=e?e.getImageState():void 0},imageSrc:function(t){var e;return null!=t?this.each(function(){var e=n.data(this,o);return null!=e&&e.reset(),null!=e?e.loadImage(t):void 0}):null!=(e=this.first().data(o))?e.getImageSrc():void 0},offset:function(t){var e;return null!=t&&null!=t.x&&null!=t.y?this.each(function(){var e=n.data(this,o);return null!=e?e.setOffset(t):void 0}):null!=(e=this.first().data(o))?e.getOffset():void 0},zoom:function(t){var e;return null!=t?this.each(function(){var e=n.data(this,o);return null!=e?e.setZoom(t):void 0}):null!=(e=this.first().data(o))?e.getZoom():void 0},imageSize:function(){var e=this.first().data(o);return null!=e?e.getImageSize():void 0},previewSize:function(t){var e;return null!=t?this.each(function(){var e=n.data(this,o);return null!=e?e.setPreviewSize(t):void 0}):null!=(e=this.first().data(o))?e.getPreviewSize():void 0},disable:function(){return this.each(function(){return n.data(this,o).disable()})},reenable:function(){return this.each(function(){return n.data(this,o).reenable()})}},n.fn.cropit=function(e){return t[e]?t[e].apply(this,[].slice.call(arguments,1)):t.init.apply(this,arguments)}}(window.jQuery),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(G){"use strict";G.ui=G.ui||{},G.ui.version="1.13.0";var n,o,k,P,a,s,r,l,d,i,e,t,c,D=0,O=Array.prototype.hasOwnProperty,F=Array.prototype.slice;function N(e,t,i){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?i/100:1)]}function C(e,t){return parseInt(G.css(e,t),10)||0}function R(e){return null!=e&&e===e.window}G.cleanData=(n=G.cleanData,function(e){for(var t,i,o=0;null!=(i=e[o]);o++)(t=G._data(i,"events"))&&t.remove&&G(i).triggerHandler("remove");n(e)}),G.widget=function(e,i,t){var o,n,a,s={},r=e.split(".")[0],l=r+"-"+(e=e.split(".")[1]);return t||(t=i,i=G.Widget),Array.isArray(t)&&(t=G.extend.apply(null,[{}].concat(t))),G.expr.pseudos[l.toLowerCase()]=function(e){return!!G.data(e,l)},G[r]=G[r]||{},o=G[r][e],n=G[r][e]=function(e,t){if(!this._createWidget)return new n(e,t);arguments.length&&this._createWidget(e,t)},G.extend(n,o,{version:t.version,_proto:G.extend({},t),_childConstructors:[]}),(a=new i).options=G.widget.extend({},a.options),G.each(t,function(t,o){function n(){return i.prototype[t].apply(this,arguments)}function a(e){return i.prototype[t].apply(this,e)}s[t]="function"==typeof o?function(){var e,t=this._super,i=this._superApply;return this._super=n,this._superApply=a,e=o.apply(this,arguments),this._super=t,this._superApply=i,e}:o}),n.prototype=G.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},s,{constructor:n,namespace:r,widgetName:e,widgetFullName:l}),o?(G.each(o._childConstructors,function(e,t){var i=t.prototype;G.widget(i.namespace+"."+i.widgetName,n,t._proto)}),delete o._childConstructors):i._childConstructors.push(n),G.widget.bridge(e,n),n},G.widget.extend=function(e){for(var t,i,o=F.call(arguments,1),n=0,a=o.length;n<a;n++)for(t in o[n])i=o[n][t],O.call(o[n],t)&&void 0!==i&&(G.isPlainObject(i)?e[t]=G.isPlainObject(e[t])?G.widget.extend({},e[t],i):G.widget.extend({},i):e[t]=i);return e},G.widget.bridge=function(a,t){var s=t.prototype.widgetFullName||a;G.fn[a]=function(i){var e="string"==typeof i,o=F.call(arguments,1),n=this;return e?this.length||"instance"!==i?this.each(function(){var e,t=G.data(this,s);return"instance"===i?(n=t,!1):t?"function"!=typeof t[i]||"_"===i.charAt(0)?G.error("no such method '"+i+"' for "+a+" widget instance"):(e=t[i].apply(t,o))!==t&&void 0!==e?(n=e&&e.jquery?n.pushStack(e.get()):e,!1):void 0:G.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(o.length&&(i=G.widget.extend.apply(null,[i].concat(o))),this.each(function(){var e=G.data(this,s);e?(e.option(i||{}),e._init&&e._init()):G.data(this,s,new t(i,this))})),n}},G.Widget=function(){},G.Widget._childConstructors=[],G.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=G(t||this.defaultElement||this)[0],this.element=G(t),this.uuid=D++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=G(),this.hoverable=G(),this.focusable=G(),this.classesElementLookup={},t!==this&&(G.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=G(t.style?t.ownerDocument:t.document||t),this.window=G(this.document[0].defaultView||this.document[0].parentWindow)),this.options=G.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:G.noop,_create:G.noop,_init:G.noop,destroy:function(){var i=this;this._destroy(),G.each(this.classesElementLookup,function(e,t){i._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:G.noop,widget:function(){return this.element},option:function(e,t){var i,o,n,a=e;if(0===arguments.length)return G.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(i=e.split(".")).shift(),i.length){for(o=a[e]=G.widget.extend({},this.options[e]),n=0;n<i.length-1;n++)o[i[n]]=o[i[n]]||{},o=o[i[n]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=t}return this._setOptions(a),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,i,o;for(t in e)o=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&o&&o.length&&(i=G(o.get()),this._removeClass(o,t),i.addClass(this._classes({element:i,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var a=[],s=this;function e(e,t){for(var i,o=0;o<e.length;o++)i=s.classesElementLookup[e[o]]||G(),i=n.add?(n.element.each(function(e,t){G.map(s.classesElementLookup,function(e){return e}).some(function(e){return e.is(t)})||s._on(G(t),{remove:"_untrackClassesElement"})}),G(G.uniqueSort(i.get().concat(n.element.get())))):G(i.not(n.element).get()),s.classesElementLookup[e[o]]=i,a.push(e[o]),t&&n.classes[e[o]]&&a.push(n.classes[e[o]])}return(n=G.extend({element:this.element,classes:this.options.classes||{}},n)).keys&&e(n.keys.match(/\S+/g)||[],!0),n.extra&&e(n.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(i){var o=this;G.each(o.classesElementLookup,function(e,t){-1!==G.inArray(i.target,t)&&(o.classesElementLookup[e]=G(t.not(i.target).get()))}),this._off(G(i.target))},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,o){var n="string"==typeof e||null===e;return(i={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:o="boolean"==typeof o?o:i}).element.toggleClass(this._classes(i),o),this},_on:function(n,a,e){var s,r=this;"boolean"!=typeof n&&(e=a,a=n,n=!1),e?(a=s=G(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,s=this.widget()),G.each(e,function(e,t){function i(){if(n||!0!==r.options.disabled&&!G(this).hasClass("ui-state-disabled"))return("string"==typeof t?r[t]:t).apply(r,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||G.guid++);var o=e.match(/^([\w:-]*)\s*(.*)$/),e=o[1]+r.eventNamespace;(o=o[2])?s.on(e,o,i):a.on(e,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t),this.bindings=G(this.bindings.not(e).get()),this.focusable=G(this.focusable.not(e).get()),this.hoverable=G(this.hoverable.not(e).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(G(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(G(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(G(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(G(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,i){var o,n,a=this.options[e];if(i=i||{},(t=G.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],n=t.originalEvent)for(o in n)o in t||(t[o]=n[o]);return this.element.trigger(t,i),!("function"==typeof a&&!1===a.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},G.each({show:"fadeIn",hide:"fadeOut"},function(a,s){G.Widget.prototype["_"+a]=function(t,e,i){var o,n=(e="string"==typeof e?{effect:e}:e)?!0!==e&&"number"!=typeof e&&e.effect||s:a;"number"==typeof(e=e||{})?e={duration:e}:!0===e&&(e={}),o=!G.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),o&&G.effects&&G.effects.effect[n]?t[a](e):n!==a&&t[n]?t[n](e.duration,e.easing,i):t.queue(function(e){G(this)[a](),i&&i.call(t[0]),e()})}}),G.widget,k=Math.max,P=Math.abs,a=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,d=/%$/,i=G.fn.position,G.position={scrollbarWidth:function(){var e,t,i;return void 0!==o?o:(i=(t=G("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")).children()[0],G("body").append(t),e=i.offsetWidth,t.css("overflow","scroll"),e===(i=i.offsetWidth)&&(i=t[0].clientWidth),t.remove(),o=e-i)},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),t="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?G.position.scrollbarWidth():0,height:t?G.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=G(e||window),i=R(t[0]),o=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:o,offset:i||o?{left:0,top:0}:G(e).offset(),scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},G.fn.position=function(u){var h,p,m,f,g,e,v,b,y,w,_,t;return u&&u.of?(v="string"==typeof(u=G.extend({},u)).of?G(document).find(u.of):G(u.of),b=G.position.getWithinInfo(u.within),y=G.position.getScrollInfo(b),w=(u.collision||"flip").split(" "),_={},t=9===(e=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:R(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(u.at="left top"),p=t.width,m=t.height,g=G.extend({},f=t.offset),G.each(["my","at"],function(){var e,t,i=(u[this]||"").split(" ");(i=1===i.length?a.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=a.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",e=r.exec(i[0]),t=r.exec(i[1]),_[this]=[e?e[0]:0,t?t[0]:0],u[this]=[l.exec(i[0])[0],l.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===u.at[0]?g.left+=p:"center"===u.at[0]&&(g.left+=p/2),"bottom"===u.at[1]?g.top+=m:"center"===u.at[1]&&(g.top+=m/2),h=N(_.at,p,m),g.left+=h[0],g.top+=h[1],this.each(function(){var i,e,s=G(this),r=s.outerWidth(),l=s.outerHeight(),t=C(this,"marginLeft"),o=C(this,"marginTop"),n=r+t+C(this,"marginRight")+y.width,a=l+o+C(this,"marginBottom")+y.height,d=G.extend({},g),c=N(_.my,s.outerWidth(),s.outerHeight());"right"===u.my[0]?d.left-=r:"center"===u.my[0]&&(d.left-=r/2),"bottom"===u.my[1]?d.top-=l:"center"===u.my[1]&&(d.top-=l/2),d.left+=c[0],d.top+=c[1],i={marginLeft:t,marginTop:o},G.each(["left","top"],function(e,t){G.ui.position[w[e]]&&G.ui.position[w[e]][t](d,{targetWidth:p,targetHeight:m,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:a,offset:[h[0]+c[0],h[1]+c[1]],my:u.my,at:u.at,within:b,elem:s})}),u.using&&(e=function(e){var t=f.left-d.left,i=t+p-r,o=f.top-d.top,n=o+m-l,a={target:{element:v,left:f.left,top:f.top,width:p,height:m},element:{element:s,left:d.left,top:d.top,width:r,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:n<0?"top":0<o?"bottom":"middle"};p<r&&P(t+i)<p&&(a.horizontal="center"),m<l&&P(o+n)<m&&(a.vertical="middle"),k(P(t),P(i))>k(P(o),P(n))?a.important="horizontal":a.important="vertical",u.using.call(this,e,a)}),s.offset(G.extend(d,{using:e}))})):i.apply(this,arguments)},G.ui.position={fit:{left:function(e,t){var i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,n=i.width,a=e.left-t.collisionPosition.marginLeft,s=o-a,r=a+t.collisionWidth-n-o;t.collisionWidth>n?0<s&&r<=0?(i=e.left+s+t.collisionWidth-n-o,e.left+=s-i):e.left=!(0<r&&s<=0)&&r<s?o+n-t.collisionWidth:o:0<s?e.left+=s:0<r?e.left-=r:e.left=k(e.left-a,e.left)},top:function(e,t){var i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,n=t.within.height,a=e.top-t.collisionPosition.marginTop,s=o-a,r=a+t.collisionHeight-n-o;t.collisionHeight>n?0<s&&r<=0?(i=e.top+s+t.collisionHeight-n-o,e.top+=s-i):e.top=!(0<r&&s<=0)&&r<s?o+n-t.collisionHeight:o:0<s?e.top+=s:0<r?e.top-=r:e.top=k(e.top-a,e.top)}},flip:{left:function(e,t){var i=(l=t.within).offset.left+l.scrollLeft,o=l.width,n=l.isWindow?l.scrollLeft:l.offset.left,a=(d=e.left-t.collisionPosition.marginLeft)-n,s=d+t.collisionWidth-o-n,r="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,l="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];a<0?((i=e.left+r+l+d+t.collisionWidth-o-i)<0||i<P(a))&&(e.left+=r+l+d):0<s&&(0<(n=e.left-t.collisionPosition.marginLeft+r+l+d-n)||P(n)<s)&&(e.left+=r+l+d)},top:function(e,t){var i=(l=t.within).offset.top+l.scrollTop,o=l.height,n=l.isWindow?l.scrollTop:l.offset.top,a=(d=e.top-t.collisionPosition.marginTop)-n,s=d+t.collisionHeight-o-n,r="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,l="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,d=-2*t.offset[1];a<0?((i=e.top+r+l+d+t.collisionHeight-o-i)<0||i<P(a))&&(e.top+=r+l+d):0<s&&(0<(n=e.top-t.collisionPosition.marginTop+r+l+d-n)||P(n)<s)&&(e.top+=r+l+d)}},flipfit:{left:function(){G.ui.position.flip.left.apply(this,arguments),G.ui.position.fit.left.apply(this,arguments)},top:function(){G.ui.position.flip.top.apply(this,arguments),G.ui.position.fit.top.apply(this,arguments)}}},G.ui.position,G.extend(G.expr.pseudos,{data:G.expr.createPseudo?G.expr.createPseudo(function(t){return function(e){return!!G.data(e,t)}}):function(e,t,i){return!!G.data(e,i[3])}}),G.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),G.ui.focusable=function(e,t){var i,o,n,a=e.nodeName.toLowerCase();return"area"===a?(i=(n=e.parentNode).name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&0<(i=G("img[usemap='#"+i+"']")).length&&i.is(":visible")):(/^(input|select|textarea|button|object)$/.test(a)?(o=!e.disabled)&&(n=G(e).closest("fieldset")[0])&&(o=!n.disabled):o="a"===a&&e.href||t,o&&G(e).is(":visible")&&function(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"visible"===t}(G(e)))},G.extend(G.expr.pseudos,{focusable:function(e){return G.ui.focusable(e,null!=G.attr(e,"tabindex"))}}),G.ui.focusable,G.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):G(this[0].form)},G.ui.formResetMixin={_formResetHandler:function(){var t=G(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");G.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){var e;this.form=this.element._form(),this.form.length&&((e=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e))},_unbindFormResetHandler:function(){var e;this.form.length&&((e=this.form.data("ui-form-reset-instances")).splice(G.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},G.expr.pseudos||(G.expr.pseudos=G.expr[":"]),G.uniqueSort||(G.uniqueSort=G.unique),G.escapeSelector||(t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,c=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},G.escapeSelector=function(e){return(e+"").replace(t,c)}),G.fn.even&&G.fn.odd||G.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}}),G.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},G.fn.labels=function(){var e,t,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(t=this.eq(0).parents("label"),(e=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),e="label[for='"+G.escapeSelector(e)+"']",t=t.add(i.find(e).addBack(e))),this.pushStack(t)):this.pushStack([])},G.fn.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=G(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:G(this[0].ownerDocument||document)},G.extend(G.expr.pseudos,{tabbable:function(e){var t=G.attr(e,"tabindex"),i=null!=t;return(!i||0<=t)&&G.ui.focusable(e,i)}}),G.fn.extend({uniqueId:(j=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++j)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&G(this).removeAttr("id")})}}),G.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var j,u=!1;function U(e,t,i){return t<=e&&e<t+i}G(document).on("mouseup",function(){u=!1}),G.widget("ui.mouse",{version:"1.13.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===G.data(e.target,t.widgetName+".preventClickEvent"))return G.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){var t,i,o;if(!u)return this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),i=1===(this._mouseDownEvent=e).which,o=!("string"!=typeof(t=this).options.cancel||!e.target.nodeName)&&G(e.target).closest(this.options.cancel).length,!(i&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===G.data(e.target,this.widgetName+".preventClickEvent")&&G.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),u=!0))},_mouseMove:function(e){if(this._mouseMoved){if(G.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&G.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,u=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),G.ui.plugin={add:function(e,t,i){var o,n=G.ui[e].prototype;for(o in i)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([t,i[o]])},call:function(e,t,i,o){var n,a=e.plugins[t];if(a&&(o||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<a.length;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}},G.ui.safeActiveElement=function(t){var i;try{i=t.activeElement}catch(e){i=t.body}return(i=i||t.body).nodeName?i:t.body},G.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&G(e).trigger("blur")},G.widget("ui.draggable",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<G(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=G(this);return G("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=G.ui.safeActiveElement(this.document[0]);G(e.target).closest(t).length||G.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),G.ui.ddmanager&&(G.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===G(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),G.ui.ddmanager&&!t.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),G.ui.ddmanager&&G.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){if(t=this._uiHash(),!1===this._trigger("drag",e,t))return this._mouseUp(new G.Event("mouseup",e)),!1;this.position=t.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",G.ui.ddmanager&&G.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,i=!1;return G.ui.ddmanager&&!this.options.dropBehaviour&&(i=G.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?G(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),G.ui.ddmanager&&G.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),G.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new G.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!G(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,i="function"==typeof t.helper;return(e=i?G(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element).parents("body").length||e.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),i&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&G.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var e,t;return"relative"!==this.cssPosition?{top:0,left:0}:(e=this.element.position(),t=this._isRootNode(this.scrollParent[0]),{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())})},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(t=G(o.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=o.containment:this.containment=[0,0,G(n).width()-this.helperProportions.width-this.margins.left,(G(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[G(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,G(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,G(window).scrollLeft()+G(window).width()-this.helperProportions.width-this.margins.left,G(window).scrollTop()+(G(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"===e?1:-1,e=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,o=this.options,n=this._isRootNode(this.scrollParent[0]),a=e.pageX,s=e.pageY;return n&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,e.pageX-this.offset.click.left<i[0]&&(a=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(s=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(a=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(s=i[3]+this.offset.click.top)),o.grid&&(e=o.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,s=!i||e-this.offset.click.top>=i[1]||e-this.offset.click.top>i[3]?e:e-this.offset.click.top>=i[1]?e-o.grid[1]:e+o.grid[1],e=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=!i||e-this.offset.click.left>=i[0]||e-this.offset.click.left>i[2]?e:e-this.offset.click.left>=i[0]?e-o.grid[0]:e+o.grid[0]),"y"===o.axis&&(a=this.originalPageX),"x"===o.axis&&(s=this.originalPageY)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,i){return i=i||this._uiHash(),G.ui.plugin.call(this,e,[t,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),G.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),G.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,i){var o=G.extend({},e,{item:i.element});i.sortables=[],G(i.options.connectToSortable).each(function(){var e=G(this).sortable("instance");e&&!e.options.disabled&&(i.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,o))})},stop:function(t,e,i){var o=G.extend({},e,{item:i.element});i.cancelHelperRemoval=!1,G.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(i,o,n){G.each(n.sortables,function(){var e=!1,t=this;t.positionAbs=n.positionAbs,t.helperProportions=n.helperProportions,t.offset.click=n.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,G.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,e=(this===t||!this._intersectsWith(this.containerCache)||!G.contains(t.element[0],this.element[0]))&&e})),e?(t.isOver||(t.isOver=1,n._parent=o.helper.parent(),t.currentItem=o.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return o.helper[0]},i.target=t.currentItem[0],t._mouseCapture(i,!0),t._mouseStart(i,!0,!0),t.offset.click.top=n.offset.click.top,t.offset.click.left=n.offset.click.left,t.offset.parent.left-=n.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=n.offset.parent.top-t.offset.parent.top,n._trigger("toSortable",i),n.dropped=t.element,G.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,t.fromOutside=n),t.currentItem&&(t._mouseDrag(i),o.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",i,t._uiHash(t)),t._mouseStop(i,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),o.helper.appendTo(n._parent),n._refreshOffsets(i),o.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,G.each(n.sortables,function(){this.refreshPositions()}))})}}),G.ui.plugin.add("draggable","cursor",{start:function(e,t,i){var o=G("body"),i=i.options;o.css("cursor")&&(i._cursor=o.css("cursor")),o.css("cursor",i.cursor)},stop:function(e,t,i){(i=i.options)._cursor&&G("body").css("cursor",i._cursor)}}),G.ui.plugin.add("draggable","opacity",{start:function(e,t,i){t=G(t.helper),i=i.options,t.css("opacity")&&(i._opacity=t.css("opacity")),t.css("opacity",i.opacity)},stop:function(e,t,i){(i=i.options)._opacity&&G(t.helper).css("opacity",i._opacity)}}),G.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,t,i){var o=i.options,n=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<o.scrollSensitivity?a.scrollTop=n=a.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(a.scrollTop=n=a.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<o.scrollSensitivity?a.scrollLeft=n=a.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(a.scrollLeft=n=a.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-G(s).scrollTop()<o.scrollSensitivity?n=G(s).scrollTop(G(s).scrollTop()-o.scrollSpeed):G(window).height()-(e.pageY-G(s).scrollTop())<o.scrollSensitivity&&(n=G(s).scrollTop(G(s).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-G(s).scrollLeft()<o.scrollSensitivity?n=G(s).scrollLeft(G(s).scrollLeft()-o.scrollSpeed):G(window).width()-(e.pageX-G(s).scrollLeft())<o.scrollSensitivity&&(n=G(s).scrollLeft(G(s).scrollLeft()+o.scrollSpeed)))),!1!==n&&G.ui.ddmanager&&!o.dropBehaviour&&G.ui.ddmanager.prepareOffsets(i,e)}}),G.ui.plugin.add("draggable","snap",{start:function(e,t,i){var o=i.options;i.snapElements=[],G(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=G(this),t=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,i){for(var o,n,a,s,r,l,d,c,u,h=i.options,p=h.snapTolerance,m=t.offset.left,f=m+i.helperProportions.width,g=t.offset.top,v=g+i.helperProportions.height,b=i.snapElements.length-1;0<=b;b--)l=(r=i.snapElements[b].left-i.margins.left)+i.snapElements[b].width,c=(d=i.snapElements[b].top-i.margins.top)+i.snapElements[b].height,f<r-p||l+p<m||v<d-p||c+p<g||!G.contains(i.snapElements[b].item.ownerDocument,i.snapElements[b].item)?(i.snapElements[b].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,G.extend(i._uiHash(),{snapItem:i.snapElements[b].item})),i.snapElements[b].snapping=!1):("inner"!==h.snapMode&&(o=Math.abs(d-v)<=p,n=Math.abs(c-g)<=p,a=Math.abs(r-f)<=p,s=Math.abs(l-m)<=p,o&&(t.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),n&&(t.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),a&&(t.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),s&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),u=o||n||a||s,"outer"!==h.snapMode&&(o=Math.abs(d-g)<=p,n=Math.abs(c-v)<=p,a=Math.abs(r-m)<=p,s=Math.abs(l-f)<=p,o&&(t.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),n&&(t.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),a&&(t.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),s&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[b].snapping&&(o||n||a||s||u)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,G.extend(i._uiHash(),{snapItem:i.snapElements[b].item})),i.snapElements[b].snapping=o||n||a||s||u)}}),G.ui.plugin.add("draggable","stack",{start:function(e,t,i){var o,i=i.options;(i=G.makeArray(G(i.stack)).sort(function(e,t){return(parseInt(G(e).css("zIndex"),10)||0)-(parseInt(G(t).css("zIndex"),10)||0)})).length&&(o=parseInt(G(i[0]).css("zIndex"),10)||0,G(i).each(function(e){G(this).css("zIndex",o+e)}),this.css("zIndex",o+i.length))}}),G.ui.plugin.add("draggable","zIndex",{start:function(e,t,i){t=G(t.helper),i=i.options,t.css("zIndex")&&(i._zIndex=t.css("zIndex")),t.css("zIndex",i.zIndex)},stop:function(e,t,i){(i=i.options)._zIndex&&G(t.helper).css("zIndex",i._zIndex)}}),G.ui.draggable,G.widget("ui.droppable",{version:"1.13.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return e=e||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){G.ui.ddmanager.droppables[e]=G.ui.ddmanager.droppables[e]||[],G.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=G.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){var i;"accept"===e?this.accept="function"==typeof t?t:function(e){return e.is(t)}:"scope"===e&&(i=G.ui.ddmanager.droppables[this.options.scope],this._splice(i),this._addToManager(t)),this._super(e,t)},_activate:function(e){var t=G.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=G.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=G.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=G.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var i=e||G.ui.ddmanager.current,o=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=G(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&G.ui.intersect(i,G.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(o=!0)}),!o&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),G.ui.intersect=function(e,t,i,o){if(!t.offset)return!1;var n=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=n+e.helperProportions.width,r=a+e.helperProportions.height,l=t.offset.left,d=t.offset.top,c=l+t.proportions().width,u=d+t.proportions().height;switch(i){case"fit":return l<=n&&s<=c&&d<=a&&r<=u;case"intersect":return l<n+e.helperProportions.width/2&&s-e.helperProportions.width/2<c&&d<a+e.helperProportions.height/2&&r-e.helperProportions.height/2<u;case"pointer":return U(o.pageY,d,t.proportions().height)&&U(o.pageX,l,t.proportions().width);case"touch":return(d<=a&&a<=u||d<=r&&r<=u||a<d&&u<r)&&(l<=n&&n<=c||l<=s&&s<=c||n<l&&c<s);default:return!1}},!(G.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var i,o,n=G.ui.ddmanager.droppables[e.options.scope]||[],a=t?t.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<n.length;i++)if(!(n[i].options.disabled||e&&!n[i].accept.call(n[i].element[0],e.currentItem||e.element))){for(o=0;o<s.length;o++)if(s[o]===n[i].element[0]){n[i].proportions().height=0;continue e}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===a&&n[i]._activate.call(n[i],t),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(e,t){var i=!1;return G.each((G.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&G.ui.intersect(e,this,this.options.tolerance,t)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),i},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||G.ui.ddmanager.prepareOffsets(e,t)})},drag:function(n,a){n.options.refreshPositions&&G.ui.ddmanager.prepareOffsets(n,a),G.each(G.ui.ddmanager.droppables[n.options.scope]||[],function(){var e,t,i,o;this.options.disabled||this.greedyChild||!this.visible||(o=!(i=G.ui.intersect(n,this,this.options.tolerance,a))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return G(this).droppable("instance").options.scope===t})).length&&((e=G(i[0]).droppable("instance")).greedyChild="isover"===o)),e&&"isover"===o&&(e.isover=!1,e.isout=!0,e._out.call(e,a)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,a),e&&"isout"===o&&(e.isout=!1,e.isover=!0,e._over.call(e,a)))})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||G.ui.ddmanager.prepareOffsets(e,t)}})!==G.uiBackCompat&&G.widget("ui.droppable",G.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),G.ui.droppable,G.widget("ui.resizable",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if("hidden"===G(e).css("overflow"))return!1;var i=t&&"left"===t?"scrollLeft":"scrollTop",t=!1;if(0<e[i])return!0;try{e[i]=1,t=0<e[i],e[i]=0}catch(e){}return t},_create:function(){var e,t=this.options,i=this;this._addClass("ui-resizable"),G.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(G("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),t.autoHide&&G(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){function e(e){G(e).removeData("resizable").removeData("ui-resizable").off(".resizable")}var t;return this._mouseDestroy(),this._addedHandles.remove(),this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var e,t,i,o,n,a=this.options,s=this;if(this.handles=a.handles||(G(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=G(),this._addedHandles=G(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},t=0;t<i.length;t++)o="ui-resizable-"+(e=String.prototype.trim.call(i[t])),n=G("<div>"),this._addClass(n,"ui-resizable-handle "+o),n.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.children(this.handles[e]).length||(this.element.append(n),this._addedHandles=this._addedHandles.add(n));this._renderAxis=function(e){var t,i,o;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=G(this.handles[t]),this._on(this.handles[t],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=G(this.handles[t],this.element),o=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(i,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=n&&n[1]?n[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var t,i,o=!1;for(t in this.handles)(i=G(this.handles[t])[0])!==e.target&&!G.contains(i,e.target)||(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var t,i,o=this.options,n=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(t+=G(o.containment).scrollLeft()||0,i+=G(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalPosition={left:t,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=G(".ui-resizable-"+this.axis).css("cursor"),G("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t=this.originalMousePosition,i=this.axis,o=e.pageX-t.left||0,t=e.pageY-t.top||0,i=this._change[i];return this._updatePrevProperties(),i&&(t=i.apply(this,[e,o,t]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),t=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),G.isEmptyObject(t)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,i,o,n=this.options,a=this;return this._helper&&(o=(t=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:a.sizeDiff.height,i=t?0:a.sizeDiff.width,t={width:a.helper.width()-i,height:a.helper.height()-o},i=parseFloat(a.element.css("left"))+(a.position.left-a.originalPosition.left)||null,o=parseFloat(a.element.css("top"))+(a.position.top-a.originalPosition.top)||null,n.animate||this.element.css(G.extend(t,{top:o,left:i})),a.helper.height(a.size.height),a.helper.width(a.size.width),this._helper&&!n.animate&&this._proportionallyResize()),G("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,o=this.options,n={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0};(this._aspectRatio||e)&&(t=n.minHeight*this.aspectRatio,i=n.minWidth/this.aspectRatio,o=n.maxHeight*this.aspectRatio,e=n.maxWidth/this.aspectRatio,n.minWidth<t&&(n.minWidth=t),n.minHeight<i&&(n.minHeight=i),o<n.maxWidth&&(n.maxWidth=o),e<n.maxHeight&&(n.maxHeight=e)),this._vBoundaries=n},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,o=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===o&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===o&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,o=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,d=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),s&&(e.height=t.minHeight),o&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&d&&(e.left=r-t.minWidth),o&&d&&(e.left=r-t.maxWidth),s&&i&&(e.top=l-t.minHeight),n&&i&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],o=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(o[t])||0,i[t]+=parseFloat(n[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||G("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var o=this.originalSize;return{top:this.originalPosition.top+i,height:o.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return G.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return G.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return G.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return G.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){G.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),G.ui.plugin.add("resizable","animate",{stop:function(t){var i=G(this).resizable("instance"),e=i.options,o=i._proportionallyResizeElements,n=(s=o.length&&/textarea/i.test(o[0].nodeName))&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,s={width:i.size.width-a,height:i.size.height-n},a=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,n=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(G.extend(s,n&&a?{top:n,left:a}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};o&&o.length&&G(o[0]).css({width:e.width,height:e.height}),i._updateCache(e),i._propagate("resize",t)}})}}),G.ui.plugin.add("resizable","containment",{start:function(){var i,o,n=G(this).resizable("instance"),e=n.options,t=n.element,a=e.containment,s=a instanceof G?a.get(0):/parent/.test(a)?t.parent().get(0):a;s&&(n.containerElement=G(s),/document/.test(a)||a===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:G(document),left:0,top:0,width:G(document).width(),height:G(document).height()||document.body.parentNode.scrollHeight}):(i=G(s),o=[],G(["Top","Right","Left","Bottom"]).each(function(e,t){o[e]=n._num(i.css("padding"+t))}),n.containerOffset=i.offset(),n.containerPosition=i.position(),n.containerSize={height:i.innerHeight()-o[3],width:i.innerWidth()-o[1]},e=n.containerOffset,t=n.containerSize.height,a=n.containerSize.width,a=n._hasScroll(s,"left")?s.scrollWidth:a,t=n._hasScroll(s)?s.scrollHeight:t,n.parentData={element:s,left:e.left,top:e.top,width:a,height:t}))},resize:function(e){var t=G(this).resizable("instance"),i=t.options,o=t.containerOffset,n=t.position,a=t._aspectRatio||e.shiftKey,s={top:0,left:0},r=t.containerElement,e=!0;r[0]!==document&&/static/.test(r.css("position"))&&(s=o),n.left<(t._helper?o.left:0)&&(t.size.width=t.size.width+(t._helper?t.position.left-o.left:t.position.left-s.left),a&&(t.size.height=t.size.width/t.aspectRatio,e=!1),t.position.left=i.helper?o.left:0),n.top<(t._helper?o.top:0)&&(t.size.height=t.size.height+(t._helper?t.position.top-o.top:t.position.top),a&&(t.size.width=t.size.height*t.aspectRatio,e=!1),t.position.top=t._helper?o.top:0),i=t.containerElement.get(0)===t.element.parent().get(0),n=/relative|absolute/.test(t.containerElement.css("position")),i&&n?(t.offset.left=t.parentData.left+t.position.left,t.offset.top=t.parentData.top+t.position.top):(t.offset.left=t.element.offset().left,t.offset.top=t.element.offset().top),n=Math.abs(t.sizeDiff.width+(t._helper?t.offset.left-s.left:t.offset.left-o.left)),o=Math.abs(t.sizeDiff.height+(t._helper?t.offset.top-s.top:t.offset.top-o.top)),n+t.size.width>=t.parentData.width&&(t.size.width=t.parentData.width-n,a&&(t.size.height=t.size.width/t.aspectRatio,e=!1)),o+t.size.height>=t.parentData.height&&(t.size.height=t.parentData.height-o,a&&(t.size.width=t.size.height*t.aspectRatio,e=!1)),e||(t.position.left=t.prevPosition.left,t.position.top=t.prevPosition.top,t.size.width=t.prevSize.width,t.size.height=t.prevSize.height)},stop:function(){var e=G(this).resizable("instance"),t=e.options,i=e.containerOffset,o=e.containerPosition,n=e.containerElement,a=(r=G(e.helper)).offset(),s=r.outerWidth()-e.sizeDiff.width,r=r.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(n.css("position"))&&G(this).css({left:a.left-o.left-i.left,width:s,height:r}),e._helper&&!t.animate&&/static/.test(n.css("position"))&&G(this).css({left:a.left-o.left-i.left,width:s,height:r})}}),G.ui.plugin.add("resizable","alsoResize",{start:function(){var e=G(this).resizable("instance").options;G(e.alsoResize).each(function(){var e=G(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var t=G(this).resizable("instance"),o=t.options,n=t.originalSize,a=t.originalPosition,s={height:t.size.height-n.height||0,width:t.size.width-n.width||0,top:t.position.top-a.top||0,left:t.position.left-a.left||0};G(o.alsoResize).each(function(){var e=G(this),o=G(this).data("ui-resizable-alsoresize"),n={},t=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];G.each(t,function(e,t){var i=(o[t]||0)+(s[t]||0);i&&0<=i&&(n[t]=i||null)}),e.css(n)})},stop:function(){G(this).removeData("ui-resizable-alsoresize")}}),G.ui.plugin.add("resizable","ghost",{start:function(){var e=G(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==G.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=G(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=G(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),G.ui.plugin.add("resizable","grid",{resize:function(){var e,t=G(this).resizable("instance"),i=t.options,o=t.size,n=t.originalSize,a=t.originalPosition,s=t.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,d=r[1]||1,c=Math.round((o.width-n.width)/l)*l,u=Math.round((o.height-n.height)/d)*d,h=n.width+c,p=n.height+u,m=i.maxWidth&&i.maxWidth<h,f=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>h,o=i.minHeight&&i.minHeight>p;i.grid=r,g&&(h+=l),o&&(p+=d),m&&(h-=l),f&&(p-=d),/^(se|s|e)$/.test(s)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.top=a.top-u):/^(sw)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.left=a.left-c):((p-d<=0||h-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<p-d?(t.size.height=p,t.position.top=a.top-u):(p=d-e.height,t.size.height=p,t.position.top=a.top+n.height-p),0<h-l?(t.size.width=h,t.position.left=a.left-c):(h=l-e.width,t.size.width=h,t.position.left=a.left+n.width-h))}}),G.ui.resizable,G.widget("ui.selectable",G.ui.mouse,{version:"1.13.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=G(i.element[0]).offset(),i.selectees=G(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var e=G(this),t={left:(t=e.offset()).left-i.elementPos.left,top:t.top-i.elementPos.top};G.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=G("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var o=this,e=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=G(this.element[0]).offset(),this.options.disabled||(this.selectees=G(e.filter,this.element[0]),this._trigger("start",i),G(e.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=G.data(this,"selectable-item");e.startselected=!0,i.metaKey||i.ctrlKey||(o._removeClass(e.$element,"ui-selected"),e.selected=!1,o._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",i,{unselecting:e.element}))}),G(i.target).parents().addBack().each(function(){var e,t=G.data(this,"selectable-item");if(t)return e=!i.metaKey&&!i.ctrlKey||!t.$element.hasClass("ui-selected"),o._removeClass(t.$element,e?"ui-unselecting":"ui-selected")._addClass(t.$element,e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?o._trigger("selecting",i,{selecting:t.element}):o._trigger("unselecting",i,{unselecting:t.element}),!1}))},_mouseDrag:function(o){var e,n,a,s,r,l,d;if(this.dragged=!0,!this.options.disabled)return a=(n=this).options,s=this.opos[0],r=this.opos[1],l=o.pageX,d=o.pageY,l<s&&(e=l,l=s,s=e),d<r&&(e=d,d=r,r=e),this.helper.css({left:s,top:r,width:l-s,height:d-r}),this.selectees.each(function(){var e=G.data(this,"selectable-item"),t=!1,i={};e&&e.element!==n.element[0]&&(i.left=e.left+n.elementPos.left,i.right=e.right+n.elementPos.left,i.top=e.top+n.elementPos.top,i.bottom=e.bottom+n.elementPos.top,"touch"===a.tolerance?t=!(l<i.left||i.right<s||d<i.top||i.bottom<r):"fit"===a.tolerance&&(t=s<i.left&&i.right<l&&r<i.top&&i.bottom<d),t?(e.selected&&(n._removeClass(e.$element,"ui-selected"),e.selected=!1),e.unselecting&&(n._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1),e.selecting||(n._addClass(e.$element,"ui-selecting"),e.selecting=!0,n._trigger("selecting",o,{selecting:e.element}))):(e.selecting&&((o.metaKey||o.ctrlKey)&&e.startselected?(n._removeClass(e.$element,"ui-selecting"),e.selecting=!1,n._addClass(e.$element,"ui-selected"),e.selected=!0):(n._removeClass(e.$element,"ui-selecting"),e.selecting=!1,e.startselected&&(n._addClass(e.$element,"ui-unselecting"),e.unselecting=!0),n._trigger("unselecting",o,{unselecting:e.element}))),!e.selected||o.metaKey||o.ctrlKey||e.startselected||(n._removeClass(e.$element,"ui-selected"),e.selected=!1,n._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",o,{unselecting:e.element}))))}),!1},_mouseStop:function(t){var i=this;return this.dragged=!1,G(".ui-unselecting",this.element[0]).each(function(){var e=G.data(this,"selectable-item");i._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1,e.startselected=!1,i._trigger("unselected",t,{unselected:e.element})}),G(".ui-selecting",this.element[0]).each(function(){var e=G.data(this,"selectable-item");i._removeClass(e.$element,"ui-selecting")._addClass(e.$element,"ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,i._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),G.widget("ui.sortable",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),G.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var i=null,o=!1,n=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),G(e.target).parents().each(function(){if(G.data(this,n.widgetName+"-item")===n)return i=G(this),!1}),!(i=G.data(e.target,n.widgetName+"-item")===n?G(e.target):i)||this.options.handle&&!t&&(G(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,t,i){var o,n,a=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=G("parent"!==a.appendTo?a.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},G.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),G.extend(this.offset,{parent:this._getParentOffset()}),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",a.cursor),this.storedStylesheet=G("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(n)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;0<=o;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return G.ui.ddmanager&&(G.ui.ddmanager.current=this),G.ui.ddmanager&&!a.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var t=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-this.document.scrollTop()<t.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<t.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),e.pageX-this.document.scrollLeft()<t.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),i},_mouseDrag:function(e){var t,i,o,n,a=this.options;if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),this._contactContainers(e),null!==this.innermostContainer)for(a.scroll&&!1!==this._scroll(e)&&(this._refreshItemPositions(!0),G.ui.ddmanager&&!a.dropBehaviour&&G.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},t=this.items.length-1;0<=t;t--)if(o=(i=this.items[t]).item[0],(n=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===n?"next":"prev"]()[0]===o||G.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&G.contains(this.element[0],o))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return G.ui.ddmanager&&G.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var i,o,n,a;if(e)return G.ui.ddmanager&&!this.options.dropBehaviour&&G.ui.ddmanager.drop(this,e),this.options.revert?(o=(i=this).placeholder.offset(),a={},(n=this.options.axis)&&"x"!==n||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,G(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp(new G.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),G.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?G(this.domPosition.prev).after(this.currentItem):G(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},G(e).each(function(){var e=(G(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(G(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,o=this.positionAbs.top,n=o+this.helperProportions.height,a=e.left,s=a+e.width,r=e.top,l=r+e.height,d=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||r<o+d&&o+d<l,c="y"===this.options.axis||a<t+c&&t+c<s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d&&c:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&r<o+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!t||!e)&&(t=this.dragDirection.vertical,e=this.dragDirection.horizontal,this.floating?"right"===e||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),o=this.dragDirection.vertical,e=this.dragDirection.horizontal;return this.floating&&e?"right"===e&&i||"left"===e&&!i:o&&("down"===o&&t||"up"===o&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,i,o,n,a=[],s=[],r=this._connectWith();if(r&&e)for(t=r.length-1;0<=t;t--)for(i=(o=G(r[t],this.document[0])).length-1;0<=i;i--)(n=G.data(o[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&s.push(["function"==typeof n.options.items?n.options.items.call(n.element):G(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);function l(){a.push(this)}for(s.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):G(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=s.length-1;0<=t;t--)s[t][0].each(l);return G(a)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=G.grep(this.items,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,o,n,a,s,r,l,d=this.items,c=[["function"==typeof this.options.items?this.options.items.call(this.element[0],e,{item:this.currentItem}):G(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(t=u.length-1;0<=t;t--)for(i=(o=G(u[t],this.document[0])).length-1;0<=i;i--)(n=G.data(o[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&(c.push(["function"==typeof n.options.items?n.options.items.call(n.element[0],e,{item:this.currentItem}):G(n.options.items,n.element),n]),this.containers.push(n));for(t=c.length-1;0<=t;t--)for(a=c[t][1],l=(s=c[t][i=0]).length;i<l;i++)(r=G(s[i])).data(this.widgetName+"-item",a),d.push({item:r,instance:a,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){for(var t,i,o=this.items.length-1;0<=o;o--)t=this.items[o],this.currentContainer&&t.instance!==this.currentContainer&&t.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?G(this.options.toleranceElement,t.item):t.item,e||(t.width=i.outerWidth(),t.height=i.outerHeight()),i=i.offset(),t.left=i.left,t.top=i.top)},refreshPositions:function(e){var t,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),null!==this.innermostContainer&&this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)i=this.containers[t].element.offset(),this.containers[t].containerCache.left=i.left,this.containers[t].containerCache.top=i.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(i){var o,n,a=(i=i||this).options;a.placeholder&&a.placeholder.constructor!==String||(o=a.placeholder,n=i.currentItem[0].nodeName.toLowerCase(),a.placeholder={element:function(){var e=G("<"+n+">",i.document[0]);return i._addClass(e,"ui-sortable-placeholder",o||i.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===n?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),G("<tr>",i.document[0]).appendTo(e)):"tr"===n?i._createTrPlaceholder(i.currentItem,e):"img"===n&&e.attr("src",i.currentItem.attr("src")),o||e.css("visibility","hidden"),e},update:function(e,t){o&&!a.forcePlaceholderSize||(t.height()&&(!a.forcePlaceholderSize||"tbody"!==n&&"tr"!==n)||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=G(a.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),a.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(e,t){var i=this;e.children().each(function(){G("<td>&#160;</td>",i.document[0]).attr("colspan",G(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){for(var t,i,o,n,a,s,r,l,d,c=null,u=null,h=this.containers.length-1;0<=h;h--)G.contains(this.currentItem[0],this.containers[h].element[0])||(this._intersectsWith(this.containers[h].containerCache)?c&&G.contains(this.containers[h].element[0],c.element[0])||(c=this.containers[h],u=h):this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",e,this._uiHash(this)),this.containers[h].containerCache.over=0));if(this.innermostContainer=c)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(i=1e4,o=null,n=(l=c.floating||this._isFloating(this.currentItem))?"left":"top",a=l?"width":"height",d=l?"pageX":"pageY",t=this.items.length-1;0<=t;t--)G.contains(this.containers[u].element[0],this.items[t].item[0])&&this.items[t].item[0]!==this.currentItem[0]&&(s=this.items[t].item.offset()[n],r=!1,e[d]-s>this.items[t][a]/2&&(r=!0),Math.abs(e[d]-s)<i&&(i=Math.abs(e[d]-s),o=this.items[t],this.direction=r?"up":"down"));(o||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[u]?(o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[u].element,!0),this._trigger("change",e,this._uiHash()),this.containers[u]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(e){var t=this.options;return(e="function"==typeof t.helper?G(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem).parents("body").length||this.appendTo[0].appendChild(e[0]),e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),e[0].style.width&&!t.forceHelperSize||e.width(this.currentItem.width()),e[0].style.height&&!t.forceHelperSize||e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=Array.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&G.ui.ie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var e;return"relative"!==this.cssPosition?{top:0,left:0}:{top:(e=this.currentItem.position()).top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=G(i.containment)[0],t=G(i.containment).offset(),i="hidden"!==G(e).css("overflow"),this.containment=[t.left+(parseInt(G(e).css("borderLeftWidth"),10)||0)+(parseInt(G(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(G(e).css("borderTopWidth"),10)||0)+(parseInt(G(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(G(e).css("borderLeftWidth"),10)||0)-(parseInt(G(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(G(e).css("borderTopWidth"),10)||0)-(parseInt(G(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(o[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:o.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:o.scrollLeft())*i}},_generatePosition:function(e){var t=this.options,i=e.pageX,o=e.pageY,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&G.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),t.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/t.grid[1])*t.grid[1],o=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-t.grid[1]:e+t.grid[1],e=this.originalPageX+Math.round((i-this.originalPageX)/t.grid[0])*t.grid[0],i=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-t.grid[0]:e+t.grid[0])),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())}},_rearrange:function(e,t,i,o){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!o)})},_clear:function(e,t){this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(t,i,o){return function(e){o._trigger(t,e,i._uiHash(i))}}for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this===this.currentContainer||t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))),i=this.containers.length-1;0<=i;i--)t||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<o.length;i++)o[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===G.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||G([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}}),G.widget("ui.accordion",{version:"1.13.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=G(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():G()}},_createIcons:function(){var e,t=this.options.icons;t&&(e=G("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+t.header),e.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,t.header)._addClass(e,null,t.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=G.ui.keyCode,i=this.headers.length,o=this.headers.index(e.target),n=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:n=this.headers[(o+1)%i];break;case t.LEFT:case t.UP:n=this.headers[(o-1+i)%i];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:n=this.headers[0];break;case t.END:n=this.headers[i-1]}n&&(G(e.target).attr("tabIndex",-1),G(n).attr("tabIndex",0),G(n).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===G.ui.keyCode.UP&&e.ctrlKey&&G(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=G()):!1===e.active?this._activate(0):this.active.length&&!G.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=G()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var i,e=this.options,t=e.heightStyle,o=this.element.parent();this.active=this._findActive(e.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=G(this),t=e.uniqueId().attr("id"),i=e.next(),o=i.uniqueId().attr("id");e.attr("aria-controls",o),i.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(i=o.height(),this.element.siblings(":visible").each(function(){var e=G(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=G(this).outerHeight(!0)}),this.headers.next().each(function(){G(this).height(Math.max(0,i-G(this).innerHeight()+G(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.headers.next().each(function(){var e=G(this).is(":visible");e||G(this).show(),i=Math.max(i,G(this).css("height","").height()),e||G(this).hide()}).height(i))},_activate:function(e){(e=this._findActive(e)[0])!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:G.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):G()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&G.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t=this.options,i=this.active,o=G(e.currentTarget),n=o[0]===i[0],a=n&&t.collapsible,s=a?G():o.next(),r=i.next(),s={oldHeader:i,oldPanel:r,newHeader:a?G():o,newPanel:s};e.preventDefault(),n&&!t.collapsible||!1===this._trigger("beforeActivate",e,s)||(t.active=!a&&this.headers.index(o),this.active=n?G():o,this._toggle(s),this._removeClass(i,"ui-accordion-header-active","ui-state-active"),t.icons&&(i=i.children(".ui-accordion-header-icon"),this._removeClass(i,null,t.icons.activeHeader)._addClass(i,null,t.icons.header)),n||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),t.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,t.icons.header)._addClass(n,null,t.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=i,this.options.animate?this._animate(t,i,e):(i.hide(),t.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(G(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,t){var o,n=this,a=0,s=e.css("box-sizing"),r=e.length&&(!i.length||e.index()<i.index()),l=this.options.animate||{},d=r&&l.down||l,r=function(){n._toggleComplete(t)},c=(c="string"==typeof d?d:c)||d.easing||l.easing,u=(u="number"==typeof d?d:u)||d.duration||l.duration;return i.length?e.length?(o=e.show().outerHeight(),i.animate(this.hideProps,{duration:u,easing:c,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:u,easing:c,complete:r,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===s&&(a+=t.now):"content"!==n.options.heightStyle&&(t.now=Math.round(o-i.outerHeight()-a),a=0)}})):i.animate(this.hideProps,u,c,r):e.animate(this.showProps,u,c,r)},_toggleComplete:function(e){var t=e.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),G.widget("ui.menu",{version:"1.13.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var t=G(e.target),i=G(G.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this._menuItems().first();t||this.focus(e,i)},blur:function(e){this._delay(function(){G.contains(this.element[0],G.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){var t,i;this.previousFilter||e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:e.clientX,y:e.clientY},t=G(e.target).closest(".ui-menu-item"),i=G(e.currentTarget),t[0]!==i[0]||i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i)))},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=G(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,i,o,n=!0;switch(e.keyCode){case G.ui.keyCode.PAGE_UP:this.previousPage(e);break;case G.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case G.ui.keyCode.HOME:this._move("first","first",e);break;case G.ui.keyCode.END:this._move("last","last",e);break;case G.ui.keyCode.UP:this.previous(e);break;case G.ui.keyCode.DOWN:this.next(e);break;case G.ui.keyCode.LEFT:this.collapse(e);break;case G.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case G.ui.keyCode.ENTER:case G.ui.keyCode.SPACE:this._activate(e);break;case G.ui.keyCode.ESCAPE:this.collapse(e);break;default:t=this.previousFilter||"",o=n=!1,i=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),i===t?o=!0:i=t+i,t=this._filterMenuItems(i),(t=o&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(i=String.fromCharCode(e.keyCode),t=this._filterMenuItems(i)),t.length?(this.focus(e,t),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}n&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,o=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=G(this),t=e.prev(),i=G("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+n),t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(e=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=G(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),i=(t=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(t,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!G.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){var i;"icons"===e&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,o;this._hasScroll()&&(i=parseFloat(G.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(G.css(this.activeMenu[0],"paddingTop"))||0,t=e.offset().top-this.activeMenu.offset().top-i-o,i=this.activeMenu.scrollTop(),o=this.activeMenu.height(),e=e.outerHeight(),t<0?this.activeMenu.scrollTop(i+t):o<t+e&&this.activeMenu.scrollTop(i+t-o+e))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=G.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:G(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},i?0:this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!G(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,t,i){var o;(o=this.active?"first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first():o)&&o.length&&this.active||(o=this._menuItems(this.activeMenu)[t]()),this.focus(i,o)},nextPage:function(e){var t,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.innerHeight(),0===G.fn.jquery.indexOf("3.2.")&&(o+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(t=G(this)).offset().top-i-o<0}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.innerHeight(),0===G.fn.jquery.indexOf("3.2.")&&(o+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=G(this)).offset().top-i+o}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||G(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var e=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return t.test(String.prototype.trim.call(G(this).children(".ui-menu-item-wrapper").text()))})}}),G.widget("ui.autocomplete",{version:"1.13.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var i,o,n,e="textarea"===(t=this.element[0].nodeName.toLowerCase()),t="input"===t;this.isMultiLine=e||!t&&this._isContentEditable(this.element),this.valueMethod=this.element[e||t?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))o=n=i=!0;else{o=n=i=!1;var t=G.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:o=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)i=!1,this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault();else if(!o){var t=G.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){n?(n=!1,e.preventDefault()):this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=G("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault()},menufocus:function(e,t){var i;this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){G(e.target).trigger(e.originalEvent)})):(i=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:i})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value),(i=t.item.attr("aria-label")||i.value)&&String.prototype.trim.call(i).length&&(this.liveRegion.children().hide(),G("<div>").text(i).appendTo(this.liveRegion)))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==G.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=G("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||G.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?G(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_initSource:function(){var i,o,n=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(G.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(o=this.options.source,this.source=function(e,t){n.xhr&&n.xhr.abort(),n.xhr=G.ajax({url:o,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(o){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),i=o.altKey||o.ctrlKey||o.metaKey||o.shiftKey;e&&(t||i)||(this.selectedItem=null,this.search(null,o))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:G.map(e,function(e){return"string"==typeof e?{label:e,value:e}:G.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(G.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var o=this;G.each(e,function(e,t){o._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return G("<li>").append(G("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){var t;return!!e.length&&("inherit"===(t=e.prop("contentEditable"))?this._isContentEditable(e.parent()):"true"===t)}}),G.extend(G.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(G.ui.autocomplete.escapeRegex(t),"i");return G.grep(e,function(e){return i.test(e.label||e.value||e)})}}),G.widget("ui.autocomplete",G.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),G("<div>").text(e).appendTo(this.liveRegion))}}),G.ui.autocomplete;var z,h,p,H=/ui-corner-([a-z]){2,6}/g;function W(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},G.extend(this._defaults,this.regional[""]),this.regional.en=G.extend(!0,{},this.regional[""]),this.regional["en-US"]=G.extend(!0,{},this.regional.en),this.dpDiv=V(G("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function V(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){G(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&G(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&G(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",t,q)}function q(){G.datepicker._isDisabledDatepicker((h.inline?h.dpDiv.parent():h.input)[0])||(G(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),G(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&G(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&G(this).addClass("ui-datepicker-next-hover"))}function m(e,t){for(var i in G.extend(e,t),t)null==t[i]&&(e[i]=t[i])}function f(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}G.widget("ui.controlgroup",{version:"1.13.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var a=this,s=[];G.each(this.options.items,function(o,e){var t,n;if(e)return"controlgroupLabel"===o?((t=a.element.find(e)).each(function(){var e=G(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),a._addClass(t,null,"ui-widget ui-widget-content ui-state-default"),void(s=s.concat(t.get()))):void(G.fn[o]&&(n=a["_"+o+"Options"]?a["_"+o+"Options"]("middle"):{classes:{}},a.element.find(e).each(function(){var e=G(this),t=e[o]("instance"),i=G.widget.extend({},n);"button"===o&&e.parent(".ui-spinner").length||((t=t||e[o]()[o]("instance"))&&(i.classes=a._resolveClassesValues(i.classes,t)),e[o](i),i=e[o]("widget"),G.data(i[0],"ui-controlgroup-data",t||e[o]("instance")),s.push(i[0]))})))}),this.childWidgets=G(G.uniqueSort(s)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var e=G(this).data("ui-controlgroup-data");e&&e[t]&&e[t]()})},_updateCornerClass:function(e,t){t=this._buildSimpleOptions(t,"label").classes.label,this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,t)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,o={classes:{}};return o.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],o},_spinnerOptions:function(e){return(e=this._buildSimpleOptions(e,"ui-spinner")).classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,o){var n={};return G.each(i,function(e){var t=o.options.classes[e]||"",t=String.prototype.trim.call(t.replace(H,""));n[e]=(t+" "+i[e]).replace(/\s+/g," ")}),n},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var n,a=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),n=this.childWidgets,(n=this.options.onlyVisible?n.filter(":visible"):n).length&&(G.each(["first","last"],function(e,t){var i,o=n[t]().data("ui-controlgroup-data");o&&a["_"+o.widgetName+"Options"]?((i=a["_"+o.widgetName+"Options"](1===n.length?"only":t)).classes=a._resolveClassesValues(i.classes,o),o.element[o.widgetName](i)):a._updateCornerClass(n[t](),t)}),this._callChildMethod("refresh"))}}),G.widget("ui.checkboxradio",[G.ui.formResetMixin,{version:"1.13.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t=this,i=this._super()||{};return this._readType(),e=this.element.labels(),this.label=G(e[e.length-1]),this.label.length||G.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){t.originalLabel+=3===this.nodeType?G(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(i.disabled=e),i},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||G.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+G.escapeSelector(e)+"']";return e?(this.form.length?G(this.form[0].elements).filter(t):G(t).filter(function(){return 0===G(this)._form().length})).not(this.element):G([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=G(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){"label"===e&&!t||(this._super(e,t),"disabled"===e?(this._toggleClass(this.label,null,"ui-state-disabled",t),this.element[0].disabled=t):this.refresh())},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=G("<span>"),this.iconSpace=G("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),(e=this.iconSpace?e.not(this.iconSpace[0]):e).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),G.ui.checkboxradio,G.widget("ui.button",{version:"1.13.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===G.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var i="iconPosition"!==e,o=i?this.options.iconPosition:t,e="top"===o||"bottom"===o;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=G("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,t),this._attachIcon(o),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=G("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=(void 0===e.showLabel?this.options:e).showLabel,i=(void 0===e.icon?this.options:e).icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==G.uiBackCompat&&(G.widget("ui.button",G.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),G.fn.button=(z=G.fn.button,function(i){var e="string"==typeof i,o=Array.prototype.slice.call(arguments,1),n=this;return e?this.length||"instance"!==i?this.each(function(){var e=G(this).attr("type"),t=G.data(this,"ui-"+("checkbox"!==e&&"radio"!==e?"button":"checkboxradio"));return"instance"===i?(n=t,!1):t?"function"!=typeof t[i]||"_"===i.charAt(0)?G.error("no such method '"+i+"' for button widget instance"):(e=t[i].apply(t,o))!==t&&void 0!==e?(n=e&&e.jquery?n.pushStack(e.get()):e,!1):void 0:G.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(o.length&&(i=G.widget.extend.apply(null,[i].concat(o))),this.each(function(){var e=G(this).attr("type"),t="checkbox"!==e&&"radio"!==e?"button":"checkboxradio";(e=G.data(this,"ui-"+t))?(e.option(i||{}),e._init&&e._init()):"button"!=t?G(this).checkboxradio(G.extend({icon:!1},i)):z.call(G(this),i)})),n}),G.fn.buttonset=function(){return G.ui.controlgroup||G.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),G.ui.button,G.extend(G.ui,{datepicker:{version:"1.13.0"}}),G.extend(W.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return m(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var i,o=e.nodeName.toLowerCase(),n="div"===o||"span"===o;e.id||(this.uuid+=1,e.id="dp"+this.uuid),(i=this._newInst(G(e),n)).settings=G.extend({},t||{}),"input"===o?this._connectDatepicker(e,i):n&&this._inlineDatepicker(e,i)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?V(G("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var i=G(e);t.append=G([]),t.trigger=G([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(t),G.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i,o=this._get(t,"appendText"),n=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=G("<span>").addClass(this._appendClass).text(o),e[n?"before":"after"](t.append)),e.off("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(i=this._get(t,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(o=this._get(t,"buttonText"),i=this._get(t,"buttonImage"),this._get(t,"buttonImageOnly")?t.trigger=G("<img>").addClass(this._triggerClass).attr({src:i,alt:o,title:o}):(t.trigger=G("<button type='button'>").addClass(this._triggerClass),i?t.trigger.html(G("<img>").attr({src:i,alt:o,title:o})):t.trigger.text(o)),e[n?"before":"after"](t.trigger),t.trigger.on("click",function(){return G.datepicker._datepickerShowing&&G.datepicker._lastInput===e[0]?G.datepicker._hideDatepicker():(G.datepicker._datepickerShowing&&G.datepicker._lastInput!==e[0]&&G.datepicker._hideDatepicker(),G.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var t,i,o,n,a,s;this._get(e,"autoSize")&&!e.inline&&(a=new Date(2009,11,20),(s=this._get(e,"dateFormat")).match(/[DM]/)&&(a.setMonth((t=function(e){for(n=o=i=0;n<e.length;n++)e[n].length>i&&(i=e[n].length,o=n);return o})(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length))},_inlineDatepicker:function(e,t){var i=G(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv),G.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,o,n){var a,s=this._dialogInst;return s||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=G("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),G("body").append(this._dialogInput),(s=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},G.data(this._dialogInput[0],"datepicker",s)),m(s.settings,o||{}),t=t&&t.constructor===Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(a=document.documentElement.clientWidth,o=document.documentElement.clientHeight,t=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+t,o/2-150+n]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),G.blockUI&&G.blockUI(this.dpDiv),G.data(this._dialogInput[0],"datepicker",s),this},_destroyDatepicker:function(e){var t,i=G(e),o=G.data(e,"datepicker");i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),G.removeData(e,"datepicker"),"input"===t?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||i.removeClass(this.markerClassName).empty(),h===o&&(h=null,this._curInst=null))},_enableDatepicker:function(t){var e,i=G(t),o=G.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=G.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,i=G(t),o=G.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=G.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(e)for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return G.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var o,n,a=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?G.extend({},G.datepicker._defaults):a?"all"===t?G.extend({},a.settings):this._get(a,t):null;o=t||{},"string"==typeof t&&((o={})[t]=i),a&&(this._curInst===a&&this._hideDatepicker(),n=this._getDateDatepicker(e,!0),t=this._getMinMaxDate(a,"min"),i=this._getMinMaxDate(a,"max"),m(a.settings,o),null!==t&&void 0!==o.dateFormat&&void 0===o.minDate&&(a.settings.minDate=this._formatDate(a,t)),null!==i&&void 0!==o.dateFormat&&void 0===o.maxDate&&(a.settings.maxDate=this._formatDate(a,i)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(G(e),a),this._autoSize(a),this._setDate(a,n),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){(e=this._getInst(e))&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){return(e=this._getInst(e))&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t,i,o=G.datepicker._getInst(e.target),n=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,G.datepicker._datepickerShowing)switch(e.keyCode){case 9:G.datepicker._hideDatepicker(),n=!1;break;case 13:return(i=G("td."+G.datepicker._dayOverClass+":not(."+G.datepicker._currentClass+")",o.dpDiv))[0]&&G.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,i[0]),(t=G.datepicker._get(o,"onSelect"))?(i=G.datepicker._formatDate(o),t.apply(o.input?o.input[0]:null,[i,o])):G.datepicker._hideDatepicker(),!1;case 27:G.datepicker._hideDatepicker();break;case 33:G.datepicker._adjustDate(e.target,e.ctrlKey?-G.datepicker._get(o,"stepBigMonths"):-G.datepicker._get(o,"stepMonths"),"M");break;case 34:G.datepicker._adjustDate(e.target,e.ctrlKey?+G.datepicker._get(o,"stepBigMonths"):+G.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&G.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&G.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,a?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&G.datepicker._adjustDate(e.target,e.ctrlKey?-G.datepicker._get(o,"stepBigMonths"):-G.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,a?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&G.datepicker._adjustDate(e.target,e.ctrlKey?+G.datepicker._get(o,"stepBigMonths"):+G.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&G.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36===e.keyCode&&e.ctrlKey?G.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,i=G.datepicker._getInst(e.target);if(G.datepicker._get(i,"constrainInput"))return t=G.datepicker._possibleChars(G.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!t||-1<t.indexOf(i)},_doKeyUp:function(e){if((e=G.datepicker._getInst(e.target)).input.val()!==e.lastVal)try{G.datepicker.parseDate(G.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,G.datepicker._getFormatConfig(e))&&(G.datepicker._setDateFromField(e),G.datepicker._updateAlternate(e),G.datepicker._updateDatepicker(e))}catch(e){}return!0},_showDatepicker:function(e){var t,i,o,n;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=G("input",e.parentNode)[0]),G.datepicker._isDisabledDatepicker(e)||G.datepicker._lastInput===e||(n=G.datepicker._getInst(e),G.datepicker._curInst&&G.datepicker._curInst!==n&&(G.datepicker._curInst.dpDiv.stop(!0,!0),n&&G.datepicker._datepickerShowing&&G.datepicker._hideDatepicker(G.datepicker._curInst.input[0])),!1!==(i=(o=G.datepicker._get(n,"beforeShow"))?o.apply(e,[e,n]):{})&&(m(n.settings,i),n.lastVal=null,G.datepicker._lastInput=e,G.datepicker._setDateFromField(n),G.datepicker._inDialog&&(e.value=""),G.datepicker._pos||(G.datepicker._pos=G.datepicker._findPos(e),G.datepicker._pos[1]+=e.offsetHeight),t=!1,G(e).parents().each(function(){return!(t|="fixed"===G(this).css("position"))}),o={left:G.datepicker._pos[0],top:G.datepicker._pos[1]},G.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),G.datepicker._updateDatepicker(n),o=G.datepicker._checkOffset(n,o,t),n.dpDiv.css({position:G.datepicker._inDialog&&G.blockUI?"static":t?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),n.inline||(i=G.datepicker._get(n,"showAnim"),o=G.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(e){for(var t;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(t=parseInt(e.css("zIndex"),10),!isNaN(t)&&0!==t))return t;e=e.parent()}return 0}(G(e))+1),G.datepicker._datepickerShowing=!0,G.effects&&G.effects.effect[i]?n.dpDiv.show(i,G.datepicker._get(n,"showOptions"),o):n.dpDiv[i||"show"](i?o:null),G.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),G.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,(h=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,i=this._getNumberOfMonths(e),o=i[1],n=e.dpDiv.find("."+this._dayOverClass+" a"),a=G.datepicker._get(e,"onUpdateDatepicker");0<n.length&&q.apply(n.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<o&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===G.datepicker._curInst&&G.datepicker._datepickerShowing&&G.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),t=e.yearshtml=null},0)),a&&a.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,i){var o=e.dpDiv.outerWidth(),n=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:G(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:G(document).scrollTop());return t.left-=this._get(e,"isRTL")?o-a:0,t.left-=i&&t.left===e.input.offset().left?G(document).scrollLeft():0,t.top-=i&&t.top===e.input.offset().top+s?G(document).scrollTop():0,t.left-=Math.min(t.left,t.left+o>r&&o<r?Math.abs(t.left+o-r):0),t.top-=Math.min(t.top,t.top+n>l&&n<l?Math.abs(n+s):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||G.expr.pseudos.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return[(t=G(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,i,o=this._curInst;!o||e&&o!==G.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(o,"showAnim"),i=this._get(o,"duration"),e=function(){G.datepicker._tidyDialog(o)},G.effects&&(G.effects.effect[t]||G.effects[t])?o.dpDiv.hide(t,G.datepicker._get(o,"showOptions"),i,e):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?i:null,e),t||e(),this._datepickerShowing=!1,(e=this._get(o,"onClose"))&&e.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),G.blockUI&&(G.unblockUI(),G("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){var t;G.datepicker._curInst&&(t=G(e.target),e=G.datepicker._getInst(t[0]),(!(t[0].id===G.datepicker._mainDivId||0!==t.parents("#"+G.datepicker._mainDivId).length||t.hasClass(G.datepicker.markerClassName)||t.closest("."+G.datepicker._triggerClass).length||!G.datepicker._datepickerShowing||G.datepicker._inDialog&&G.blockUI)||t.hasClass(G.datepicker.markerClassName)&&G.datepicker._curInst!==e)&&G.datepicker._hideDatepicker())},_adjustDate:function(e,t,i){var o=G(e),e=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(e,t,i),this._updateDatepicker(e))},_gotoToday:function(e){var t=G(e),i=this._getInst(t[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var o=G(e);(e=this._getInst(o[0]))["selected"+("M"===i?"Month":"Year")]=e["draw"+("M"===i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(o)},_selectDay:function(e,t,i,o){var n=G(e);G(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||((n=this._getInst(n[0])).selectedDay=n.currentDay=parseInt(G("a",o).attr("data-date")),n.selectedMonth=n.currentMonth=t,n.selectedYear=n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(e){e=G(e),this._selectDate(e,"")},_selectDate:function(e,t){var i=G(e),e=this._getInst(i[0]);t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e),(i=this._get(e,"onSelect"))?i.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var t,i,o=this._get(e,"altField");o&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),e=this.formatDate(t,i,this._getFormatConfig(e)),G(document).find(o).val(e))},noWeekends:function(e){return[0<(e=e.getDay())&&e<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),e=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((e-t)/864e5)/7)+1},parseDate:function(t,n,e){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;for(var i,o,a=0,s="string"!=typeof(s=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff)?s:(new Date).getFullYear()%100+parseInt(s,10),r=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,l=(e?e.dayNames:null)||this._defaults.dayNames,d=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,c=(e?e.monthNames:null)||this._defaults.monthNames,u=-1,h=-1,p=-1,m=-1,f=!1,g=function(e){return(e=w+1<t.length&&t.charAt(w+1)===e)&&w++,e},v=function(e){var t=g(e),t="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,t=new RegExp("^\\d{"+("y"===e?t:1)+","+t+"}");if(t=n.substring(a).match(t))return a+=t[0].length,parseInt(t[0],10);throw"Missing number at position "+a},b=function(e,t,i){var o=-1,t=G.map(g(e)?i:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(G.each(t,function(e,t){var i=t[1];if(n.substr(a,i.length).toLowerCase()===i.toLowerCase())return o=t[0],a+=i.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+a},y=function(){if(n.charAt(a)!==t.charAt(w))throw"Unexpected literal at position "+a;a++},w=0;w<t.length;w++)if(f)"'"!==t.charAt(w)||g("'")?y():f=!1;else switch(t.charAt(w)){case"d":p=v("d");break;case"D":b("D",r,l);break;case"o":m=v("o");break;case"m":h=v("m");break;case"M":h=b("M",d,c);break;case"y":u=v("y");break;case"@":u=(o=new Date(v("@"))).getFullYear(),h=o.getMonth()+1,p=o.getDate();break;case"!":u=(o=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),h=o.getMonth()+1,p=o.getDate();break;case"'":g("'")?y():f=!0;break;default:y()}if(a<n.length&&(e=n.substr(a),!/^\s+/.test(e)))throw"Extra/unparsed characters found in date: "+e;if(-1===u?u=(new Date).getFullYear():u<100&&(u+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u<=s?0:-100)),-1<m)for(h=1,p=m;!(p<=(i=this._getDaysInMonth(u,h-1)));)h++,p-=i;if((o=this._daylightSavingAdjust(new Date(u,h-1,p))).getFullYear()!==u||o.getMonth()+1!==h||o.getDate()!==p)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";function o(e,t,i){var o=""+t;if(c(e))for(;o.length<i;)o="0"+o;return o}function n(e,t,i,o){return(c(e)?o:i)[t]}var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,d=(i?i.monthNames:null)||this._defaults.monthNames,c=function(e){return(e=a+1<t.length&&t.charAt(a+1)===e)&&a++,e},u="",h=!1;if(e)for(a=0;a<t.length;a++)if(h)"'"!==t.charAt(a)||c("'")?u+=t.charAt(a):h=!1;else switch(t.charAt(a)){case"d":u+=o("d",e.getDate(),2);break;case"D":u+=n("D",e.getDay(),s,r);break;case"o":u+=o("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=o("m",e.getMonth()+1,2);break;case"M":u+=n("M",e.getMonth(),l,d);break;case"y":u+=c("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":h=!0;break;default:u+=t.charAt(a)}return u},_possibleChars:function(t){for(var e="",i=!1,o=function(e){return(e=n+1<t.length&&t.charAt(n+1)===e)&&n++,e},n=0;n<t.length;n++)if(i)"'"!==t.charAt(n)||o("'")?e+=t.charAt(n):i=!1;else switch(t.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":o("'")?e+="'":i=!0;break;default:e+=t.charAt(n)}return e},_get:function(e,t){return(void 0!==e.settings[t]?e.settings:this._defaults)[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,s=this._getFormatConfig(e);try{a=this.parseDate(i,o,s)||n}catch(e){o=t?"":o}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=o?a.getDate():0,e.currentMonth=o?a.getMonth():0,e.currentYear=o?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(r,e,t){var i,o;return(e=(e=null==e||""===e?t:"string"==typeof e?function(e){try{return G.datepicker.parseDate(G.datepicker._get(r,"dateFormat"),e,G.datepicker._getFormatConfig(r))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?G.datepicker._getDate(r):null)||new Date,i=t.getFullYear(),o=t.getMonth(),n=t.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=a.exec(e);s;){switch(s[2]||"d"){case"d":case"D":n+=parseInt(s[1],10);break;case"w":case"W":n+=7*parseInt(s[1],10);break;case"m":case"M":o+=parseInt(s[1],10),n=Math.min(n,G.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(s[1],10),n=Math.min(n,G.datepicker._getDaysInMonth(i,o))}s=a.exec(e)}return new Date(i,o,n)}(e):"number"==typeof e?isNaN(e)?t:(i=e,(o=new Date).setDate(o.getDate()+i),o):new Date(e.getTime()))&&"Invalid Date"===e.toString()?t:e)&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var o=!t,n=e.selectedMonth,a=e.selectedYear,t=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(o?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){G.datepicker._adjustDate(i,-t,"M")},next:function(){G.datepicker._adjustDate(i,+t,"M")},hide:function(){G.datepicker._hideDatepicker()},today:function(){G.datepicker._gotoToday(i)},selectDay:function(){return G.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return G.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return G.datepicker._selectMonthYear(i,this,"Y"),!1}};G(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,o,n,a,O,F,N,R,s,r,j,l,d,c,u,h,p,m,f,g,v,U,b,y,w,_,z,H,k,P,C,S=new Date,W=this._daylightSavingAdjust(new Date(S.getFullYear(),S.getMonth(),S.getDate())),x=this._get(e,"isRTL"),V=this._get(e,"showButtonPanel"),T=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),E=this._getNumberOfMonths(e),I=this._get(e,"showCurrentAtPos"),S=this._get(e,"stepMonths"),q=1!==E[0]||1!==E[1],A=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,"min"),L=this._getMinMaxDate(e,"max"),M=e.drawMonth-I,D=e.drawYear;if(M<0&&(M+=12,D--),L)for(t=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth()-E[0]*E[1]+1,L.getDate())),t=$&&t<$?$:t;this._daylightSavingAdjust(new Date(D,M,1))>t;)--M<0&&(M=11,D--);for(e.drawMonth=M,e.drawYear=D,I=this._get(e,"prevText"),I=B?this.formatDate(I,this._daylightSavingAdjust(new Date(D,M-S,1)),this._getFormatConfig(e)):I,i=this._canAdjustMonth(e,-1,D,M)?G("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:I}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(x?"e":"w")).text(I))[0].outerHTML:T?"":G("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:I}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(x?"e":"w")).text(I))[0].outerHTML,I=this._get(e,"nextText"),I=B?this.formatDate(I,this._daylightSavingAdjust(new Date(D,M+S,1)),this._getFormatConfig(e)):I,o=this._canAdjustMonth(e,1,D,M)?G("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:I}).append(G("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(x?"w":"e")).text(I))[0].outerHTML:T?"":G("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:I}).append(G("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(x?"w":"e")).text(I))[0].outerHTML,S=this._get(e,"currentText"),T=this._get(e,"gotoCurrent")&&e.currentDay?A:W,S=B?this.formatDate(S,T,this._getFormatConfig(e)):S,I="",e.inline||(I=G("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),B="",V&&(B=G("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(x?I:"").append(this._isInRange(e,T)?G("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(S):"").append(x?"":I)[0].outerHTML),n=parseInt(this._get(e,"firstDay"),10),n=isNaN(n)?0:n,a=this._get(e,"showWeek"),O=this._get(e,"dayNames"),F=this._get(e,"dayNamesMin"),N=this._get(e,"monthNames"),R=this._get(e,"monthNamesShort"),s=this._get(e,"beforeShowDay"),r=this._get(e,"showOtherMonths"),j=this._get(e,"selectOtherMonths"),l=this._getDefaultDate(e),d="",u=0;u<E[0];u++){for(h="",this.maxRows=4,p=0;p<E[1];p++){if(m=this._daylightSavingAdjust(new Date(D,M,e.selectedDay)),f=" ui-corner-all",g="",q){if(g+="<div class='ui-datepicker-group",1<E[1])switch(p){case 0:g+=" ui-datepicker-group-first",f=" ui-corner-"+(x?"right":"left");break;case E[1]-1:g+=" ui-datepicker-group-last",f=" ui-corner-"+(x?"left":"right");break;default:g+=" ui-datepicker-group-middle",f=""}g+="'>"}for(g+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+f+"'>"+(/all|left/.test(f)&&0===u?x?o:i:"")+(/all|right/.test(f)&&0===u?x?i:o:"")+this._generateMonthYearHeader(e,M,D,$,L,0<u||0<p,N,R)+"</div><table class='ui-datepicker-calendar'><thead><tr>",v=a?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",c=0;c<7;c++)v+="<th scope='col'"+(5<=(c+n+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+O[U=(c+n)%7]+"'>"+F[U]+"</span></th>";for(g+=v+"</tr></thead><tbody>",y=this._getDaysInMonth(D,M),D===e.selectedYear&&M===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,y)),b=(this._getFirstDayOfMonth(D,M)-n+7)%7,y=Math.ceil((b+y)/7),w=q&&this.maxRows>y?this.maxRows:y,this.maxRows=w,_=this._daylightSavingAdjust(new Date(D,M,1-b)),z=0;z<w;z++){for(g+="<tr>",H=a?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(_)+"</td>":"",c=0;c<7;c++)k=s?s.apply(e.input?e.input[0]:null,[_]):[!0,""],C=(P=_.getMonth()!==M)&&!j||!k[0]||$&&_<$||L&&L<_,H+="<td class='"+(5<=(c+n+6)%7?" ui-datepicker-week-end":"")+(P?" ui-datepicker-other-month":"")+(_.getTime()===m.getTime()&&M===e.selectedMonth&&e._keyEvent||l.getTime()===_.getTime()&&l.getTime()===m.getTime()?" "+this._dayOverClass:"")+(C?" "+this._unselectableClass+" ui-state-disabled":"")+(P&&!r?"":" "+k[1]+(_.getTime()===A.getTime()?" "+this._currentClass:"")+(_.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(P&&!r||!k[2]?"":" title='"+k[2].replace(/'/g,"&#39;")+"'")+(C?"":" data-handler='selectDay' data-event='click' data-month='"+_.getMonth()+"' data-year='"+_.getFullYear()+"'")+">"+(P&&!r?"&#xa0;":C?"<span class='ui-state-default'>"+_.getDate()+"</span>":"<a class='ui-state-default"+(_.getTime()===W.getTime()?" ui-state-highlight":"")+(_.getTime()===A.getTime()?" ui-state-active":"")+(P?" ui-priority-secondary":"")+"' href='#' aria-current='"+(_.getTime()===A.getTime()?"true":"false")+"' data-date='"+_.getDate()+"'>"+_.getDate()+"</a>")+"</td>",_.setDate(_.getDate()+1),_=this._daylightSavingAdjust(_);g+=H+"</tr>"}11<++M&&(M=0,D++),h+=g+="</tbody></table>"+(q?"</div>"+(0<E[0]&&p===E[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}d+=h}return d+=B,e._keyEvent=!1,d},_generateMonthYearHeader:function(e,t,i,o,n,a,s,r){var l,d,c,u,h,p,m=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),g=this._get(e,"showMonthAfterYear"),v=this._get(e,"selectMonthLabel"),b=this._get(e,"selectYearLabel"),y="<div class='ui-datepicker-title'>",w="";if(a||!m)w+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=o&&o.getFullYear()===i,d=n&&n.getFullYear()===i,w+="<select class='ui-datepicker-month' aria-label='"+v+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=o.getMonth())&&(!d||c<=n.getMonth())&&(w+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+r[c]+"</option>");w+="</select>"}if(g||(y+=w+(!a&&m&&f?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!f)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(s=this._get(e,"yearRange").split(":"),u=(new Date).getFullYear(),h=(v=function(e){return e=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?u+parseInt(e,10):parseInt(e,10),isNaN(e)?u:e})(s[0]),p=Math.max(h,v(s[1]||"")),h=o?Math.max(h,o.getFullYear()):h,p=n?Math.min(p,n.getFullYear()):p,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+b+"' data-handler='selectYear' data-event='change'>";h<=p;h++)e.yearshtml+="<option value='"+h+"'"+(h===i?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),g&&(y+=(!a&&m&&f?"":"&#xa0;")+w),y+"</div>"},_adjustInstDate:function(e,t,i){var o=e.selectedYear+("Y"===i?t:0),n=e.selectedMonth+("M"===i?t:0),t=Math.min(e.selectedDay,this._getDaysInMonth(o,n))+("D"===i?t:0),t=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(o,n,t)));e.selectedDay=t.getDate(),e.drawMonth=e.selectedMonth=t.getMonth(),e.drawYear=e.selectedYear=t.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),t=i&&t<i?i:t;return(e=this._getMinMaxDate(e,"max"))&&e<t?e:t},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){return null==(e=this._get(e,"numberOfMonths"))?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,o){var n=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,o+(t<0?t:n[0]*n[1]),1));return t<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),n=null,a=null,s=this._get(e,"yearRange");return s&&(e=s.split(":"),s=(new Date).getFullYear(),n=parseInt(e[0],10),a=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(n+=s),e[1].match(/[+\-].*/)&&(a+=s)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!n||t.getFullYear()>=n)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:"string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,o){return t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear),t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(o,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)),this.formatDate(this._get(e,"dateFormat"),t,this._getFormatConfig(e))}}),G.fn.datepicker=function(e){if(!this.length)return this;G.datepicker.initialized||(G(document).on("mousedown",G.datepicker._checkExternalClick),G.datepicker.initialized=!0),0===G("#"+G.datepicker._mainDivId).length&&G("body").append(G.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e)||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?G.datepicker["_"+e+"Datepicker"].apply(G.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?G.datepicker["_"+e+"Datepicker"].apply(G.datepicker,[this].concat(t)):G.datepicker._attachDatepicker(this,e)})},G.datepicker=new W,G.datepicker.initialized=!1,G.datepicker.uuid=(new Date).getTime(),G.datepicker.version="1.13.0",G.datepicker,G.widget("ui.dialog",{version:"1.13.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=G(this).css(e).offset().top;t<0&&G(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&G.fn.draggable&&this._makeDraggable(),this.options.resizable&&G.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?G(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:G.noop,enable:G.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||G.ui.safeBlur(G.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+G(this).css("z-index")}).get();return(o=Math.max.apply(null,o))>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!t&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=G(G.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;(e=(e=(e=(e=(e=e||this.element.find("[autofocus]")).length?e:this.element.find(":tabbable")).length?e:this.uiDialogButtonPane.find(":tabbable")).length?e:this.uiDialogTitlebarClose.filter(":tabbable")).length?e:this.uiDialog).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=G.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||G.contains(this.uiDialog[0],e)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=G("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){var t,i,o;this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===G.ui.keyCode.ESCAPE?(e.preventDefault(),this.close(e)):e.keyCode!==G.ui.keyCode.TAB||e.isDefaultPrevented()||(t=this.uiDialog.find(":tabbable"),i=t.first(),o=t.last(),e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){o.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault()))},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=G("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){G(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=G("<button type='button'></button>").button({label:G("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=G("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=G("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=G("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var o=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),G.isEmptyObject(e)||Array.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(G.each(e,function(e,t){var i;t=G.extend({type:"button"},t="function"==typeof t?{click:t,text:e}:t),i=t.click,e={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,delete t.icons,"boolean"==typeof t.text&&delete t.text,G("<button></button>",t).button(e).appendTo(o.uiButtonSet).on("click",function(){i.apply(o.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var n=this,a=this.options;function s(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){n._addClass(G(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",e,s(t))},drag:function(e,t){n._trigger("drag",e,s(t))},stop:function(e,t){var i=t.offset.left-n.document.scrollLeft(),o=t.offset.top-n.document.scrollTop();a.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=o?"+":"")+o,of:n.window},n._removeClass(G(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",e,s(t))}})},_makeResizable:function(){var n=this,a=this.options,e=a.resizable,t=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:e,start:function(e,t){n._addClass(G(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",e,s(t))},resize:function(e,t){n._trigger("resize",e,s(t))},stop:function(e,t){var i=(o=n.uiDialog.offset()).left-n.document.scrollLeft(),o=o.top-n.document.scrollTop();a.height=n.uiDialog.height(),a.width=n.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=o?"+":"")+o,of:n.window},n._removeClass(G(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",e,s(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=G(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=G.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||this.document.data("ui-dialog-instances",e=[]),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,o=!1,n={};G.each(e,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(o=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,o=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:G("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((i=o.is(":data(ui-resizable)"))&&!t&&o.resizable("destroy"),i&&"string"==typeof t&&o.resizable("option","handles",t),i||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),e=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-e),i="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-e):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,o.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=G(this);return G("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!G(e.target).closest(".ui-dialog").length||!!G(e.target).closest(".ui-datepicker").length},_createOverlay:function(){var i,o;this.options.modal&&(i=G.fn.jquery.substring(0,4),o=!0,this._delay(function(){o=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(e){var t;o||(t=this._trackingInstances()[0])._allowInteraction(e)||(e.preventDefault(),t._focusTabbable(),"3.4."!==i&&"3.5."!==i||t._delay(t._restoreTabbableFocus))}.bind(this)),this.overlay=G("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var e;this.options.modal&&this.overlay&&((e=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==G.uiBackCompat&&G.widget("ui.dialog",G.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),G.ui.dialog,G.widget("ui.progressbar",{version:"1.13.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=G("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(t.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=G("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),G.widget("ui.selectmenu",[G.ui.formResetMixin,{version:"1.13.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=G()},_drawButton:function(){var e,t=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.trigger("focus"),e.preventDefault()}}),this.element.hide(),this.button=G("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=G("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t._rendered||t._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=G("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=G("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,t){e.preventDefault(),i._setSelection(),i._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){t=t.item.data("ui-selectmenu-item"),null!=i.focusIndex&&t.index!==i.focusIndex&&(i._trigger("focus",e,{item:t}),i.isOpen||i._select(t,e)),i.focusIndex=t.index,i.button.attr("aria-activedescendant",i.menuItems.eq(t.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(G.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var t=G("<span>");return this._setText(t,e.label),this._addClass(t,"ui-selectmenu-text"),t},_renderMenu:function(o,e){var n=this,a="";G.each(e,function(e,t){var i;t.optgroup!==a&&(i=G("<li>",{text:t.optgroup}),n._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(o),a=t.optgroup),n._renderItemData(o,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var i=G("<li>"),o=G("<div>",{title:t.element.attr("title")});return t.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(o,t.label),i.append(o).appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),o+=":not(.ui-state-disabled)"),(o="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](o).eq(-1):i[e+"All"](o).eq(0)).length&&this.menuInstance.focus(t,o)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){!this.isOpen||G(e.target).closest(".ui-selectmenu-menu, #"+G.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case G.ui.keyCode.TAB:case G.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case G.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case G.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case G.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case G.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case G.ui.keyCode.LEFT:this._move("prev",e);break;case G.ui.keyCode.RIGHT:this._move("next",e);break;case G.ui.keyCode.HOME:case G.ui.keyCode.PAGE_UP:this._move("first",e);break;case G.ui.keyCode.END:case G.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){e=this.menuItems.eq(e.index).attr("id"),this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(e,t){var i;"icons"===e&&(i=this.button.find("span.ui-icon"),this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return(e=(e=e&&(e.jquery||e.nodeType?G(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var i=this,o=[];e.each(function(e,t){t.hidden||o.push(i._parseOption(G(t),e))}),this.items=o},_parseOption:function(e,t){var i=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),G.widget("ui.slider",G.ui.mouse,{version:"1.13.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t=this.options,i=this.element.find(".ui-slider-handle"),o=[],n=t.values&&t.values.length||1;for(i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),e=i.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=i.add(G(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){G(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=G("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,o,n,a,t,s,r=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(s),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(i-r.values(e));(t<o||o===t&&(e===r._lastChangedValue||r.values(e)===l.min))&&(o=t,n=G(this),a=e)}),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(n,null,"ui-state-active"),n.trigger("focus"),t=n.offset(),s=!G(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-t.left-n.width()/2,top:e.pageY-t.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},t=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t;return(e=1<(e=(e="horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/t)?1:e)<0&&(e=0),"vertical"===this.orientation&&(e=1-e),t=this._valueMax()-this._valueMin(),t=this._valueMin()+e*t,this._trimAlignValue(t)},_uiHash:function(e,t,i){var o={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(o.value=void 0!==t?t:this.values(e),o.values=i||this.values()),o},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var o,n=this.value(),a=this.values();this._hasMultipleValues()&&(o=this.values(t?0:1),n=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(o,i):Math.max(o,i)),a[t]=i),i!==n&&!1!==this._trigger("slide",e,this._uiHash(t,i,a))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,o,n;if(1<arguments.length)this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),this._change(null,e);else{if(!arguments.length)return this._values();if(!Array.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,o=e,n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(o[n]),this._change(null,n);this._refreshValue()}},_setOption:function(e,t){var i,o=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(o=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=o-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,i;if(arguments.length)return e=this.options.values[e],this._trimAlignValue(e);if(this._hasMultipleValues()){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(e){var t,i;return e<=this._valueMin()?this._valueMin():e>=this._valueMax()?this._valueMax():(t=0<this.options.step?this.options.step:1,e-=i=(e-this._valueMin())%t,2*Math.abs(i)>=t&&(e+=0<i?t:-t),parseFloat(e.toFixed(5)))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;(e=Math.round((e-t)/i)*i+t)>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var t=e.toString();return-1===(e=t.indexOf("."))?0:t.length-e-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,e,o,n,a=this.options.range,s=this.options,r=this,l=!this._animateOff&&s.animate,d={};this._hasMultipleValues()?this.handles.each(function(e){i=(r.values(e)-r._valueMin())/(r._valueMax()-r._valueMin())*100,d["horizontal"===r.orientation?"left":"bottom"]=i+"%",G(this).stop(1,1)[l?"animate":"css"](d,s.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===e&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},s.animate),1===e&&r.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===e&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},s.animate),1===e&&r.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i}):(e=this.value(),o=this._valueMin(),n=this._valueMax(),i=n!==o?(e-o)/(n-o)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](d,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},s.animate))},_handleEvents:{keydown:function(e){var t,i,o,n=G(e.target).data("ui-slider-handle-index");switch(e.keyCode){case G.ui.keyCode.HOME:case G.ui.keyCode.END:case G.ui.keyCode.PAGE_UP:case G.ui.keyCode.PAGE_DOWN:case G.ui.keyCode.UP:case G.ui.keyCode.RIGHT:case G.ui.keyCode.DOWN:case G.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(G(e.target),null,"ui-state-active"),!1===this._start(e,n)))return}switch(o=this.options.step,t=i=this._hasMultipleValues()?this.values(n):this.value(),e.keyCode){case G.ui.keyCode.HOME:i=this._valueMin();break;case G.ui.keyCode.END:i=this._valueMax();break;case G.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case G.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case G.ui.keyCode.UP:case G.ui.keyCode.RIGHT:if(t===this._valueMax())return;i=this._trimAlignValue(t+o);break;case G.ui.keyCode.DOWN:case G.ui.keyCode.LEFT:if(t===this._valueMin())return;i=this._trimAlignValue(t-o)}this._slide(e,n,i)},keyup:function(e){var t=G(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),this._removeClass(G(e.target),null,"ui-state-active"))}}}),G.widget("ui.spinner",{version:"1.13.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var o=this._super(),n=this.element;return G.each(["min","max","step"],function(e,t){var i=n.attr(t);null!=i&&i.length&&(o[t]=i)}),o},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){var i=G.ui.safeActiveElement(this.document[0]);if(this.element[0]===i&&t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var t;function i(){this.element[0]!==G.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=t,this._delay(function(){this.previous=t}))}t=this.element[0]===G.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,G(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(G(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,G(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var t=this.options,i=G.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,t.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?"function"==typeof t?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var t=e.toString();return-1===(e=t.indexOf("."))?0:t.length-e-1},_adjustValue:function(e){var t=this.options,i=null!==t.min?t.min:0;return e=i+Math.round((e-i)/t.step)*t.step,e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var i;"culture"===e||"numberFormat"===e?(i=this._parse(this.element.val()),this.options[e]=t,this.element.val(this._format(i))):("max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,t.down)),this._super(e,t))},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:f(function(e){this._super(e)}),_parse:function(e){return""===(e="string"==typeof e&&""!==e?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e:e)||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:f(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:f(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:f(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:f(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());f(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==G.uiBackCompat&&G.widget("ui.spinner",G.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),G.ui.spinner,G.widget("ui.tabs",{version:"1.13.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(p=/#.*$/,function(e){var t=e.href.replace(p,""),i=location.href.replace(p,"");try{t=decodeURIComponent(t)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return 1<e.hash.length&&t===i}),_create:function(){var t=this,e=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,e.collapsible),this._processTabs(),e.active=this._initialActive(),Array.isArray(e.disabled)&&(e.disabled=G.uniqueSort(e.disabled.concat(G.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=G(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var i=this.options.active,e=this.options.collapsible,o=location.hash.substring(1);return null===i&&(o&&this.tabs.each(function(e,t){if(G(t).attr("aria-controls")===o)return i=e,!1}),null!==(i=null===i?this.tabs.index(this.tabs.filter(".ui-tabs-active")):i)&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!e&&0),i=!e&&!1===i&&this.anchors.length?0:i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):G()}},_tabKeydown:function(e){var t=G(G.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(t),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case G.ui.keyCode.RIGHT:case G.ui.keyCode.DOWN:i++;break;case G.ui.keyCode.UP:case G.ui.keyCode.LEFT:o=!1,i--;break;case G.ui.keyCode.END:i=this.anchors.length-1;break;case G.ui.keyCode.HOME:i=0;break;case G.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case G.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,o),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===G.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===G.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===G.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){for(var i=this.tabs.length-1;-1!==G.inArray(e=(e=i<e?0:e)<0?i:e,this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=G.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!G.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=G()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=G()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){G(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){G(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return G("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=G(),this.anchors.each(function(e,t){var i,o,n,a=G(t).uniqueId().attr("id"),s=G(t).closest("li"),r=s.attr("aria-controls");l._isLocal(t)?(n=(i=t.hash).substring(1),o=l.element.find(l._sanitizeSelector(i))):(n=s.attr("aria-controls")||G({}).uniqueId()[0].id,(o=l.element.find(i="#"+n)).length||(o=l._createPanel(n)).insertAfter(l.panels[e-1]||l.tablist),o.attr("aria-live","polite")),o.length&&(l.panels=l.panels.add(o)),r&&s.data("ui-tabs-aria-controls",r),s.attr({"aria-controls":n,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return G("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var t,i;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),i=0;t=this.tabs[i];i++)t=G(t),!0===e||-1!==G.inArray(i,e)?(t.attr("aria-disabled","true"),this._addClass(t,null,"ui-state-disabled")):(t.removeAttr("aria-disabled"),this._removeClass(t,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&G.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,t=this.element.parent();"fill"===e?(i=t.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=G(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=G(this).outerHeight(!0)}),this.panels.each(function(){G(this).height(Math.max(0,i-G(this).innerHeight()+G(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,G(this).height("").height())}).height(i))},_eventHandler:function(e){var t=this.options,i=this.active,o=G(e.currentTarget).closest("li"),n=o[0]===i[0],a=n&&t.collapsible,s=a?G():this._getPanelForTab(o),r=i.length?this._getPanelForTab(i):G(),i={oldTab:i,oldPanel:r,newTab:a?G():o,newPanel:s};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||n&&!t.collapsible||!1===this._trigger("beforeActivate",e,i)||(t.active=!a&&this.tabs.index(o),this.active=n?G():o,this.xhr&&this.xhr.abort(),r.length||s.length||G.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(o),e),this._toggle(e,i))},_toggle:function(e,t){var i=this,o=t.newPanel,n=t.oldPanel;function a(){i.running=!1,i._trigger("activate",e,t)}function s(){i._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&i.options.show?i._show(o,i.options.show,a):(o.show(),a())}this.running=!0,n.length&&this.options.hide?this._hide(n,this.options.hide,function(){i._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n.hide(),s()),n.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&n.length?t.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===G(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){(e=this._findActive(e))[0]!==this.active[0]&&(e=(e=e.length?e:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:G.noop}))},_findActive:function(e){return!1===e?G():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e?this.anchors.index(this.anchors.filter("[href$='"+G.escapeSelector(e)+"']")):e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){G.data(this,"ui-tabs-destroy")?G(this).remove():G(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=G(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var e=this.options.disabled;!1!==e&&(e=void 0!==i&&(i=this._getIndex(i),Array.isArray(e)?G.map(e,function(e){return e!==i?e:null}):G.map(this.tabs,function(e,t){return t!==i?t:null})),this._setOptionDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==G.inArray(e,t))return;t=Array.isArray(t)?G.merge([e],t).sort():[e]}this._setOptionDisabled(t)}},load:function(e,o){function n(e,t){"abort"===t&&a.panels.stop(!1,!0),a._removeClass(i,"ui-tabs-loading"),s.removeAttr("aria-busy"),e===a.xhr&&delete a.xhr}e=this._getIndex(e);var a=this,i=this.tabs.eq(e),e=i.find(".ui-tabs-anchor"),s=this._getPanelForTab(i),r={tab:i,panel:s};this._isLocal(e[0])||(this.xhr=G.ajax(this._ajaxSettings(e,o,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,i){setTimeout(function(){s.html(e),a._trigger("load",o,r),n(i,t)},1)}).fail(function(e,t){setTimeout(function(){n(e,t)},1)})))},_ajaxSettings:function(e,i,o){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,t){return n._trigger("beforeLoad",i,G.extend({jqXHR:e,ajaxSettings:t},o))}}},_getPanelForTab:function(e){return e=G(e).attr("aria-controls"),this.element.find(this._sanitizeSelector("#"+e))}}),!1!==G.uiBackCompat&&G.widget("ui.tabs",G.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),G.ui.tabs,G.widget("ui.tooltip",{version:"1.13.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=G(this).attr("title");return G("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",String.prototype.trim.call(i.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/);-1!==(t=G.inArray(t,i))&&i.splice(t,1),e.removeData("ui-tooltip-id"),(i=String.prototype.trim.call(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=G("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=G([])},_setOption:function(e,t){var i=this;this._super(e,t),"content"===e&&G.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var o=this;G.each(this.tooltips,function(e,t){var i=G.Event("blur");i.target=i.currentTarget=t.element[0],o.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=G(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=G(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=G([])},open:function(e){var i=this,t=G(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=G(this);t.data("ui-tooltip-open")&&((e=G.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),t.attr("title")&&(t.uniqueId(),i.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,i){var e=this.options.content,o=this,n=i?i.type:null;if("string"==typeof e||e.nodeType||e.jquery)return this._open(i,t,e);(e=e.call(t[0],function(e){o._delay(function(){t.data("ui-tooltip-open")&&(i&&(i.type=n),this._open(i,t,e))})}))&&this._open(i,t,e)},_open:function(e,t,i){var o,n,a,s=G.extend({},this.options.position);function r(e){s.of=e,n.is(":hidden")||n.position(s)}i&&((o=this._find(t))?o.tooltip.find(".ui-tooltip-content").html(i):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),o=this._tooltip(t),n=o.tooltip,this._addDescribedBy(t,n.attr("id")),n.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(i=G("<div>").html(n.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):n.position(G.extend({of:t},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){n.is(":visible")&&(r(s.of),clearInterval(a))},13)),this._trigger("open",e,{tooltip:n})))},_registerCloseHandlers:function(e,t){var i={keyup:function(e){e.keyCode===G.ui.keyCode.ESCAPE&&((e=G.Event(e)).currentTarget=t[0],this.close(e,!0))}};t[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(t).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,t,i)},close:function(e){var t,i=this,o=G(e?e.currentTarget:this.element),n=this._find(o);n?(t=n.tooltip,n.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),n.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){i._removeTooltip(G(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&G.each(this.parents,function(e,t){G(t.element).attr("title",t.title),delete i.parents[e]}),n.closing=!0,this._trigger("close",e,{tooltip:t}),n.hiding||(n.closing=!1))):o.removeData("ui-tooltip-open")},_tooltip:function(e){var t=G("<div>").attr("role","tooltip"),i=G("<div>").appendTo(t),o=t.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(t,"ui-tooltip","ui-widget ui-widget-content"),t.appendTo(this._appendTo(e)),this.tooltips[o]={element:e,tooltip:t}},_find:function(e){return(e=e.data("ui-tooltip-id"))?this.tooltips[e]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){return(e=e.closest(".ui-front, dialog")).length?e:this.document[0].body},_destroy:function(){var o=this;G.each(this.tooltips,function(e,t){var i=G.Event("blur"),t=t.element;i.target=i.currentTarget=t[0],o.close(i,!0),G("#"+e).remove(),t.data("ui-tooltip-title")&&(t.attr("title")||t.attr("title",t.data("ui-tooltip-title")),t.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==G.uiBackCompat&&G.widget("ui.tooltip",G.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),G.ui.tooltip;var g=G,v={},Y=v.toString,K=/^([\-+])=\s*(\d+\.?\d*)/,Q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],b=g.Color=function(e,t,i,o){return new g.Color.fn.parse(e,t,i,o)},y={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},J={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},Z=b.support={},w=g("<p>")[0],_=g.each;function S(e){return null==e?e+"":"object"==typeof e?v[Y.call(e)]||"object":typeof e}function x(e,t,i){var o=J[t.type]||{};return null==e?i||!t.def?null:t.def:(e=o.floor?~~e:parseFloat(e),isNaN(e)?t.def:o.mod?(e+o.mod)%o.mod:Math.min(o.max,Math.max(0,e)))}function X(o){var n=b(),a=n._rgba=[];return o=o.toLowerCase(),_(Q,function(e,t){var i=(i=t.re.exec(o))&&t.parse(i),t=t.space||"rgba";if(i)return i=n[t](i),n[y[t].cache]=i[y[t].cache],a=n._rgba=i._rgba,!1}),a.length?("0,0,0,0"===a.join()&&g.extend(a,E.transparent),n):E[o]}function T(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}w.style.cssText="background-color:rgba(1,1,1,.5)",Z.rgba=-1<w.style.backgroundColor.indexOf("rgba"),_(y,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){v["[object "+t+"]"]=t.toLowerCase()}),(b.fn=g.extend(b.prototype,{parse:function(n,e,t,i){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=g(n).css(e),e=void 0);var a=this,o=S(n),s=this._rgba=[];return void 0!==e&&(n=[n,e,t,i],o="array"),"string"===o?this.parse(X(n)||E._default):"array"===o?(_(y.rgba.props,function(e,t){s[t.idx]=x(n[t.idx],t)}),this):"object"===o?(_(y,n instanceof b?function(e,t){n[t.cache]&&(a[t.cache]=n[t.cache].slice())}:function(e,i){var o=i.cache;_(i.props,function(e,t){if(!a[o]&&i.to){if("alpha"===e||null==n[e])return;a[o]=i.to(a._rgba)}a[o][t.idx]=x(n[e],t,!0)}),a[o]&&g.inArray(null,a[o].slice(0,3))<0&&(null==a[o][3]&&(a[o][3]=1),i.from&&(a._rgba=i.from(a[o])))}),this):void 0},is:function(e){var n=b(e),a=!0,s=this;return _(y,function(e,t){var i,o=n[t.cache];return o&&(i=s[t.cache]||t.to&&t.to(s._rgba)||[],_(t.props,function(e,t){if(null!=o[t.idx])return a=o[t.idx]===i[t.idx]})),a}),a},_space:function(){var i=[],o=this;return _(y,function(e,t){o[t.cache]&&i.push(e)}),i.pop()},transition:function(e,s){var t=(d=b(e))._space(),i=y[t],r=(e=0===this.alpha()?b("transparent"):this)[i.cache]||i.to(e._rgba),l=r.slice(),d=d[i.cache];return _(i.props,function(e,t){var i=t.idx,o=r[i],n=d[i],a=J[t.type]||{};null!==n&&(null===o?l[i]=n:(a.mod&&(n-o>a.mod/2?o+=a.mod:o-n>a.mod/2&&(o-=a.mod)),l[i]=x((n-o)*s+o,t)))}),this[t](l)},blend:function(e){var t,i,o;return 1===this._rgba[3]?this:(t=this._rgba.slice(),i=t.pop(),o=b(e)._rgba,b(g.map(t,function(e,t){return(1-i)*o[t]+i*e})))},toRgbaString:function(){var e="rgba(",t=g.map(this._rgba,function(e,t){return null!=e?e:2<t?1:0});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=g.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3?Math.round(100*e)+"%":e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+g.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=b.fn,y.hsla.to=function(e){var t,i,o,n,a,s,r,l;return null==e[0]||null==e[1]||null==e[2]?[null,null,null,e[3]]:(t=e[0]/255,r=e[1]/255,i=e[2]/255,o=e[3],s=(n=Math.max(t,r,i))-(a=Math.min(t,r,i)),e=.5*(l=n+a),r=a===n?0:t===n?60*(r-i)/s+360:r===n?60*(i-t)/s+120:60*(t-r)/s+240,l=0==s?0:e<=.5?s/l:s/(2-l),[Math.round(r)%360,l,e,null==o?1:o])},y.hsla.from=function(e){var t,i,o;return null==e[0]||null==e[1]||null==e[2]?[null,null,null,e[3]]:(t=e[0]/360,i=e[1],o=e[2],e=e[3],o=2*o-(i=o<=.5?o*(1+i):o+i-o*i),[Math.round(255*T(o,i,t+1/3)),Math.round(255*T(o,i,t)),Math.round(255*T(o,i,t-1/3)),e])},_(y,function(r,e){var t=e.props,a=e.cache,s=e.to,l=e.from;b.fn[r]=function(e){var i,o,n;return s&&!this[a]&&(this[a]=s(this._rgba)),void 0===e?this[a].slice():(i=S(e),o="array"===i||"object"===i?e:arguments,n=this[a].slice(),_(t,function(e,t){null==(e=o["object"===i?e:t.idx])&&(e=n[t.idx]),n[t.idx]=x(e,t)}),l?((e=b(l(n)))[a]=n,e):b(n))},_(t,function(a,s){b.fn[a]||(b.fn[a]=function(e){var t=S(e),i="alpha"===a?this._hsla?"hsla":"rgba":r,o=this[i](),n=o[s.idx];return"undefined"===t?n:("function"===t&&(t=S(e=e.call(this,n))),null==e&&s.empty?this:("string"===t&&(t=K.exec(e))&&(e=n+parseFloat(t[2])*("+"===t[1]?1:-1)),o[s.idx]=e,this[i](o)))})})}),(b.hook=function(e){e=e.split(" "),_(e,function(e,a){g.cssHooks[a]={set:function(e,t){var i,o,n="";if("transparent"!==t&&("string"!==S(t)||(i=X(t)))){if(t=b(i||t),!Z.rgba&&1!==t._rgba[3]){for(o="backgroundColor"===a?e.parentNode:e;(""===n||"transparent"===n)&&o&&o.style;)try{n=g.css(o,"backgroundColor"),o=o.parentNode}catch(e){}t=t.blend(n&&"transparent"!==n?n:"_default")}t=t.toRgbaString()}try{e.style[a]=t}catch(e){}}},g.fx.step[a]=function(e){e.colorInit||(e.start=b(e.elem,a),e.end=b(e.end),e.colorInit=!0),g.cssHooks[a].set(e.elem,e.start.transition(e.end,e.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),g.cssHooks.borderColor={expand:function(i){var o={};return _(["Top","Right","Bottom","Left"],function(e,t){o["border"+t+"Color"]=i}),o}};var ee,te,ie,oe,ne,ae,se,re,le,B,E=g.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},I="ui-effects-",A="ui-effects-style",$="ui-effects-animated";function de(e){var t,i,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,n={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)"string"==typeof o[t=o[i]]&&(n[t.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})]=o[t]);else for(t in o)"string"==typeof o[t]&&(n[t]=o[t]);return n}function L(e,t,i,o){return e={effect:e=G.isPlainObject(e)?(t=e).effect:e},"function"==typeof(t=null==t?{}:t)&&(o=t,i=null,t={}),"number"!=typeof t&&!G.fx.speeds[t]||(o=i,i=t,t={}),"function"==typeof i&&(o=i,i=null),t&&G.extend(e,t),i=i||t.duration,e.duration=G.fx.off?0:"number"==typeof i?i:i in G.fx.speeds?G.fx.speeds[i]:G.fx.speeds._default,e.complete=o||t.complete,e}function M(e){return!e||"number"==typeof e||G.fx.speeds[e]||"string"==typeof e&&!G.effects.effect[e]||"function"==typeof e||"object"==typeof e&&!e.effect}function ce(e,t){var i=t.outerWidth(),t=t.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,i,t,0];return{top:parseFloat(e[1])||0,right:"auto"===e[2]?i:parseFloat(e[2]),bottom:"auto"===e[3]?t:parseFloat(e[3]),left:parseFloat(e[4])||0}}G.effects={effect:{}},oe=["add","remove","toggle"],ne={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},G.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){G.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,t,e.end),e.setAttr=!0)}}),G.fn.addBack||(G.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),G.effects.animateClass=function(n,e,t,i){var a=G.speed(e,t,i);return this.queue(function(){function e(){G.each(oe,function(e,t){n[t]&&i[t+"Class"](n[t])})}var i=G(this),t=i.attr("class")||"",o=(o=a.children?i.find("*").addBack():i).map(function(){return{el:G(this),start:de(this)}});e(),o=o.map(function(){return this.end=de(this.el[0]),this.diff=function(e,t){var i,o,n={};for(i in t)o=t[i],e[i]===o||ne[i]||!G.fx.step[i]&&isNaN(parseFloat(o))||(n[i]=o);return n}(this.start,this.end),this}),i.attr("class",t),o=o.map(function(){var e=this,t=G.Deferred(),i=G.extend({},a,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,i),t.promise()}),G.when.apply(G,o.get()).done(function(){e(),G.each(arguments,function(){var t=this.el;G.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(i[0])})})},G.fn.extend({addClass:(ie=G.fn.addClass,function(e,t,i,o){return t?G.effects.animateClass.call(this,{add:e},t,i,o):ie.apply(this,arguments)}),removeClass:(te=G.fn.removeClass,function(e,t,i,o){return 1<arguments.length?G.effects.animateClass.call(this,{remove:e},t,i,o):te.apply(this,arguments)}),toggleClass:(ee=G.fn.toggleClass,function(e,t,i,o,n){return"boolean"==typeof t||void 0===t?i?G.effects.animateClass.call(this,t?{add:e}:{remove:e},i,o,n):ee.apply(this,arguments):G.effects.animateClass.call(this,{toggle:e},t,i,o)}),switchClass:function(e,t,i,o,n){return G.effects.animateClass.call(this,{add:t,remove:e},i,o,n)}}),G.expr&&G.expr.pseudos&&G.expr.pseudos.animated&&(G.expr.pseudos.animated=(ae=G.expr.pseudos.animated,function(e){return!!G(e).data($)||ae(e)})),!1!==G.uiBackCompat&&G.extend(G.effects,{save:function(e,t){for(var i=0,o=t.length;i<o;i++)null!==t[i]&&e.data(I+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,o=0,n=t.length;o<n;o++)null!==t[o]&&(i=e.data(I+t[o]),e.css(t[o],i))},setMode:function(e,t){return"toggle"===t?e.is(":hidden")?"show":"hide":t},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var o={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=G("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(e){n=document.body}return i.wrap(e),i[0]!==n&&!G.contains(i[0],n)||G(n).trigger("focus"),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(G.extend(o,{position:i.css("position"),zIndex:i.css("z-index")}),G.each(["top","left","bottom","right"],function(e,t){o[t]=i.css(t),isNaN(parseInt(o[t],10))&&(o[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(o).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!G.contains(e[0],t)||G(t).trigger("focus")),e}}),G.extend(G.effects,{version:"1.13.0",define:function(e,t,i){return i||(i=t,t="effect"),G.effects.effect[e]=i,G.effects.effect[e].mode=t,i},scaledDimensions:function(e,t,i){var o;return 0===t?{height:0,width:0,outerHeight:0,outerWidth:0}:(o="horizontal"!==i?(t||100)/100:1,t="vertical"!==i?(t||100)/100:1,{height:e.height()*t,width:e.width()*o,outerHeight:e.outerHeight()*t,outerWidth:e.outerWidth()*o})},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var o=e.queue();1<t&&o.splice.apply(o,[1,0].concat(o.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data(A,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(A)||"",e.removeData(A)},mode:function(e,t){return e=e.is(":hidden"),"toggle"===t&&(t=e?"show":"hide"),(e?"hide"===t:"show"===t)?"none":t},getBaseline:function(e,t){var i,o;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":o=0;break;case"center":o=.5;break;case"right":o=1;break;default:o=e[1]/t.width}return{x:o,y:i}},createPlaceholder:function(e){var t,i=e.css("position"),o=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",t=G("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(I+"placeholder",t)),e.css({position:i,left:o.left,top:o.top}),t},removePlaceholder:function(e){var t=I+"placeholder",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(e){G.effects.restoreStyle(e),G.effects.removePlaceholder(e)},setTransition:function(o,e,n,a){return a=a||{},G.each(e,function(e,t){var i=o.cssUnit(t);0<i[0]&&(a[t]=i[0]*n+i[1])}),a}}),G.fn.extend({effect:function(){function e(e){var t=G(this),i=G.effects.mode(t,r)||a;t.data($,!0),l.push(i),a&&("show"===i||i===a&&"hide"===i)&&t.show(),a&&"none"===i||G.effects.saveStyle(t),"function"==typeof e&&e()}var o=L.apply(this,arguments),n=G.effects.effect[o.effect],a=n.mode,t=o.queue,i=t||"fx",s=o.complete,r=o.mode,l=[];return G.fx.off||!n?r?this[r](o.duration,s):this.each(function(){s&&s.call(this)}):!1===t?this.each(e).each(d):this.queue(i,e).queue(i,d);function d(e){var t=G(this);function i(){"function"==typeof s&&s.call(t[0]),"function"==typeof e&&e()}o.mode=l.shift(),!1===G.uiBackCompat||a?"none"===o.mode?(t[r](),i()):n.call(t[0],o,function(){t.removeData($),G.effects.cleanUp(t),"hide"===o.mode&&t.hide(),i()}):(t.is(":hidden")?"hide"===r:"show"===r)?(t[r](),i()):n.call(t[0],o,i)}},show:(le=G.fn.show,function(e){return M(e)?le.apply(this,arguments):((e=L.apply(this,arguments)).mode="show",this.effect.call(this,e))}),hide:(re=G.fn.hide,function(e){return M(e)?re.apply(this,arguments):((e=L.apply(this,arguments)).mode="hide",this.effect.call(this,e))}),toggle:(se=G.fn.toggle,function(e){return M(e)||"boolean"==typeof e?se.apply(this,arguments):((e=L.apply(this,arguments)).mode="toggle",this.effect.call(this,e))}),cssUnit:function(e){var i=this.css(e),o=[];return G.each(["em","px","%","pt"],function(e,t){0<i.indexOf(t)&&(o=[parseFloat(i),t])}),o},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):ce(this.css("clip"),this)},transfer:function(e,t){var i=G(this),o="fixed"===(r=G(e.to)).css("position"),n=G("body"),a=o?n.scrollTop():0,s=o?n.scrollLeft():0,n={top:(n=r.offset()).top-a,left:n.left-s,height:r.innerHeight(),width:r.innerWidth()},r=i.offset(),l=G("<div class='ui-effects-transfer'></div>");l.appendTo("body").addClass(e.className).css({top:r.top-a,left:r.left-s,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(n,e.duration,e.easing,function(){l.remove(),"function"==typeof t&&t()})}}),G.fx.step.clip=function(e){e.clipInit||(e.start=G(e.elem).cssClip(),"string"==typeof e.end&&(e.end=ce(e.end,e.elem)),e.clipInit=!0),G(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})},B={},G.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){B[e]=function(e){return Math.pow(e,t+2)}}),G.extend(B,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),G.each(B,function(e,t){G.easing["easeIn"+e]=t,G.easing["easeOut"+e]=function(e){return 1-t(1-e)},G.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}}),w=G.effects,G.effects.define("blind","hide",function(e,t){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},o=G(this),n=e.direction||"up",a=o.cssClip(),s={clip:G.extend({},a)},r=G.effects.createPlaceholder(o);s.clip[i[n][0]]=s.clip[i[n][1]],"show"===e.mode&&(o.cssClip(s.clip),r&&r.css(G.effects.clipToBox(s)),s.clip=a),r&&r.animate(G.effects.clipToBox(s),e.duration,e.easing),o.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("bounce",function(e,t){var i,o,n=G(this),a=e.mode,s="hide"===a,r="show"===a,l=e.direction||"up",d=e.distance,c=e.times||5,u=e.duration/(a=2*c+(r||s?1:0)),h=e.easing,p="up"===l||"down"===l?"top":"left",m="up"===l||"left"===l,f=0,e=n.queue().length;for(G.effects.createPlaceholder(n),l=n.css(p),d=d||n["top"==p?"outerHeight":"outerWidth"]()/3,r&&((o={opacity:1})[p]=l,n.css("opacity",0).css(p,m?2*-d:2*d).animate(o,u,h)),s&&(d/=Math.pow(2,c-1)),(o={})[p]=l;f<c;f++)(i={})[p]=(m?"-=":"+=")+d,n.animate(i,u,h).animate(o,u,h),d=s?2*d:d/2;s&&((i={opacity:0})[p]=(m?"-=":"+=")+d,n.animate(i,u,h)),n.queue(t),G.effects.unshift(n,e,1+a)}),G.effects.define("clip","hide",function(e,t){var i={},o=G(this),n=(a="both"===(s=e.direction||"vertical"))||"horizontal"===s,a=a||"vertical"===s,s=o.cssClip();i.clip={top:a?(s.bottom-s.top)/2:s.top,right:n?(s.right-s.left)/2:s.right,bottom:a?(s.bottom-s.top)/2:s.bottom,left:n?(s.right-s.left)/2:s.left},G.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(i.clip),i.clip=s),o.animate(i,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("drop","hide",function(e,t){var i=G(this),o="show"===e.mode,n=e.direction||"left",a="up"===n||"down"===n?"top":"left",s="up"===n||"left"===n?"-=":"+=",r="+="==s?"-=":"+=",l={opacity:0};G.effects.createPlaceholder(i),n=e.distance||i["top"==a?"outerHeight":"outerWidth"](!0)/2,l[a]=s+n,o&&(i.css(l),l[a]=r+n,l.opacity=1),i.animate(l,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("explode","hide",function(e,t){var i,o,n,a,s,r,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=l,c=G(this),u="show"===e.mode,h=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/d),m=Math.ceil(c.outerHeight()/l),f=[];function g(){f.push(this),f.length===l*d&&(c.css({visibility:"visible"}),G(f).remove(),t())}for(i=0;i<l;i++)for(a=h.top+i*m,r=i-(l-1)/2,o=0;o<d;o++)n=h.left+o*p,s=o-(d-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*p,top:-i*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:m,left:n+(u?s*p:0),top:a+(u?r*m:0),opacity:u?0:1}).animate({left:n+(u?0:s*p),top:a+(u?0:r*m),opacity:u?1:0},e.duration||500,e.easing,g)}),G.effects.define("fade","toggle",function(e,t){var i="show"===e.mode;G(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("fold","hide",function(t,e){var i=G(this),o="show"===(m=t.mode),n="hide"===m,a=t.size||15,s=/([0-9]+)%/.exec(a),r=t.horizFirst?["right","bottom"]:["bottom","right"],l=t.duration/2,d=G.effects.createPlaceholder(i),c=i.cssClip(),u={clip:G.extend({},c)},h={clip:G.extend({},c)},p=[c[r[0]],c[r[1]]],m=i.queue().length;s&&(a=parseInt(s[1],10)/100*p[n?0:1]),u.clip[r[0]]=a,h.clip[r[0]]=a,h.clip[r[1]]=0,o&&(i.cssClip(h.clip),d&&d.css(G.effects.clipToBox(h)),h.clip=c),i.queue(function(e){d&&d.animate(G.effects.clipToBox(u),l,t.easing).animate(G.effects.clipToBox(h),l,t.easing),e()}).animate(u,l,t.easing).animate(h,l,t.easing).queue(e),G.effects.unshift(i,m,4)}),G.effects.define("highlight","show",function(e,t){var i=G(this),o={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(o.opacity=0),G.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),G.effects.define("size",function(o,t){var n,i=G(this),e=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],s=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=o.mode,l="effect"!==r,d=o.scale||"both",c=o.origin||["middle","center"],u=i.css("position"),h=i.position(),p=G.effects.scaledDimensions(i),m=o.from||p,f=o.to||G.effects.scaledDimensions(i,0);G.effects.createPlaceholder(i),"show"===r&&(r=m,m=f,f=r),n={from:{y:m.height/p.height,x:m.width/p.width},to:{y:f.height/p.height,x:f.width/p.width}},"box"!==d&&"both"!==d||(n.from.y!==n.to.y&&(m=G.effects.setTransition(i,a,n.from.y,m),f=G.effects.setTransition(i,a,n.to.y,f)),n.from.x!==n.to.x&&(m=G.effects.setTransition(i,s,n.from.x,m),f=G.effects.setTransition(i,s,n.to.x,f))),"content"!==d&&"both"!==d||n.from.y!==n.to.y&&(m=G.effects.setTransition(i,e,n.from.y,m),f=G.effects.setTransition(i,e,n.to.y,f)),c&&(c=G.effects.getBaseline(c,p),m.top=(p.outerHeight-m.outerHeight)*c.y+h.top,m.left=(p.outerWidth-m.outerWidth)*c.x+h.left,f.top=(p.outerHeight-f.outerHeight)*c.y+h.top,f.left=(p.outerWidth-f.outerWidth)*c.x+h.left),delete m.outerHeight,delete m.outerWidth,i.css(m),"content"!==d&&"both"!==d||(a=a.concat(["marginTop","marginBottom"]).concat(e),s=s.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var e=G(this),t={height:(i=G.effects.scaledDimensions(e)).height*n.from.y,width:i.width*n.from.x,outerHeight:i.outerHeight*n.from.y,outerWidth:i.outerWidth*n.from.x},i={height:i.height*n.to.y,width:i.width*n.to.x,outerHeight:i.height*n.to.y,outerWidth:i.width*n.to.x};n.from.y!==n.to.y&&(t=G.effects.setTransition(e,a,n.from.y,t),i=G.effects.setTransition(e,a,n.to.y,i)),n.from.x!==n.to.x&&(t=G.effects.setTransition(e,s,n.from.x,t),i=G.effects.setTransition(e,s,n.to.x,i)),l&&G.effects.saveStyle(e),e.css(t),e.animate(i,o.duration,o.easing,function(){l&&G.effects.restoreStyle(e)})})),i.animate(f,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){var e=i.offset();0===f.opacity&&i.css("opacity",m.opacity),l||(i.css("position","static"===u?"relative":u).offset(e),G.effects.saveStyle(i)),t()}})}),G.effects.define("scale",function(e,t){var i=G(this),o=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==o?0:100),o=G.extend(!0,{from:G.effects.scaledDimensions(i),to:G.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),G.effects.effect.size.call(this,o,t)}),G.effects.define("puff","hide",function(e,t){e=G.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150}),G.effects.effect.scale.call(this,e,t)}),G.effects.define("pulsate","show",function(e,t){var i=G(this),o="show"===(l=e.mode),n=2*(e.times||5)+(o||"hide"===l?1:0),a=e.duration/n,s=0,r=1,l=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),s=1);r<n;r++)i.animate({opacity:s},a,e.easing),s=1-s;i.animate({opacity:s},a,e.easing),i.queue(t),G.effects.unshift(i,l,1+n)}),G.effects.define("shake",function(e,t){var i=1,o=G(this),n=e.direction||"left",a=e.distance||20,s=e.times||3,r=2*s+1,l=Math.round(e.duration/r),d="up"===n||"down"===n?"top":"left",c="up"===n||"left"===n,u={},h={},p={},n=o.queue().length;for(G.effects.createPlaceholder(o),u[d]=(c?"-=":"+=")+a,h[d]=(c?"+=":"-=")+2*a,p[d]=(c?"-=":"+=")+2*a,o.animate(u,l,e.easing);i<s;i++)o.animate(h,l,e.easing).animate(p,l,e.easing);o.animate(h,l,e.easing).animate(u,l/2,e.easing).queue(t),G.effects.unshift(o,n,1+r)}),G.effects.define("slide","show",function(e,t){var i,o,n=G(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,r=e.direction||"left",l="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r,c=e.distance||n["top"==l?"outerHeight":"outerWidth"](!0),u={};G.effects.createPlaceholder(n),i=n.cssClip(),o=n.position()[l],u[l]=(d?-1:1)*c+o,u.clip=n.cssClip(),u.clip[a[r][1]]=u.clip[a[r][0]],"show"===s&&(n.cssClip(u.clip),n.css(l,u[l]),u.clip=i,u[l]=o),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),!1!==G.uiBackCompat&&G.effects.define("transfer",function(e,t){G(this).transfer(e,t)})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(d){function t(){if(h.length){var e=0,t=d.map(h,function(e){var t=e.data.selector,e=e.$element;return t?e.find(t):e});for(c=c||(l=(l={height:m.innerHeight,width:m.innerWidth}).height||!(r=p.compatMode)&&d.support.boxModel?l:{height:(r="CSS1Compat"===r?f:p.body).clientHeight,width:r.clientWidth}),u=u||{top:m.pageYOffset||f.scrollTop||p.body.scrollTop,left:m.pageXOffset||f.scrollLeft||p.body.scrollLeft};e<h.length;e++)if(d.contains(f,t[e][0])){var i=d(t[e]),o=i[0].offsetHeight,n=i[0].offsetWidth,a=i.offset(),s=i.data("inview");if(!u||!c)return;a.top+o>u.top&&a.top<u.top+c.height&&a.left+n>u.left&&a.left<u.left+c.width?s||i.data("inview",!0).trigger("inview",[!0]):s&&i.data("inview",!1).trigger("inview",[!1])}}var r,l}var c,u,o,h=[],p=document,m=window,f=p.documentElement;d.event.special.inview={add:function(e){h.push({data:e,$element:d(this),element:this}),!o&&h.length&&(o=setInterval(t,250))},remove:function(e){for(var t=0;t<h.length;t++){var i=h[t];if(i.element===this&&i.data.guid===e.guid){h.splice(t,1);break}}h.length||(clearInterval(o),o=null)}},d(m).on("scroll resize scrollstop",function(){c=u=null}),!f.addEventListener&&f.attachEvent&&f.attachEvent("onfocusin",function(){u=null})}),!function(h){var p,r,m,l=[],f=window;h.fn.tinymce=function(s){function t(){var r,n=[],a=0;function o(e){"remove"===e&&this.each(function(e,t){t=d(t);t&&t.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){t=tinymce.get(t.id.replace(/_parent$/,""));t&&t.remove()})}function l(i){var e;if(null!=i)o.call(this),this.each(function(e,t){(t=tinymce.get(t.id))&&t.setContent(i)});else if(0<this.length&&(e=tinymce.get(this[0].id)))return e.getContent()}function d(e){var t=null;return t=e&&e.id&&f.tinymce?tinymce.get(e.id):t}function c(e){return e&&e.length&&f.tinymce&&e.is(":tinymce")}m||(r={},h.each(["text","html","val"],function(e,t){var a=r[t]=h.fn[t],s="text"===t;h.fn[t]=function(e){var o,n,t=this;return c(t)?e!==p?(l.call(t.filter(":tinymce"),e),a.apply(t.not(":tinymce"),arguments),t):(o="",n=arguments,(s?t:t.eq(0)).each(function(e,t){var i=d(t);o+=i?s?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):a.apply(h(t),n)}),o):a.apply(t,arguments)}}),h.each(["append","prepend"],function(e,t){var o=r[t]=h.fn[t],n="prepend"===t;h.fn[t]=function(i){return c(this)?i!==p?("string"==typeof i&&this.filter(":tinymce").each(function(e,t){t=d(t);t&&t.setContent(n?i+t.getContent():t.getContent()+i)}),o.apply(this.not(":tinymce"),arguments),this):void 0:o.apply(this,arguments)}}),h.each(["remove","replaceWith","replaceAll","empty"],function(e,t){var i=r[t]=h.fn[t];h.fn[t]=function(){return o.call(this,t),i.apply(this,arguments)}}),r.attr=h.fn.attr,h.fn.attr=function(e,t){var i,o,n=arguments;return e&&"value"===e&&c(this)?t!==p?(l.call(this.filter(":tinymce"),t),r.attr.apply(this.not(":tinymce"),n),this):(o=d(i=this[0]))?o.getContent({save:!0}):r.attr.apply(h(i),n):r.attr.apply(this,n)},m=!0),u.each(function(e,t){var i=t.id,o=s.oninit;i||(t.id=i=tinymce.DOM.uniqueId()),tinymce.get(i)||(t=new tinymce.Editor(i,s,tinymce.EditorManager),n.push(t),t.on("init",function(){var e,t=o;u.css("visibility",""),o&&++a==n.length&&("string"==typeof t&&(e=-1===t.indexOf(".")?null:tinymce.resolve(t.replace(/\.\w+$/,"")),t=tinymce.resolve(t)),t.apply(e||tinymce,n))}))}),h.each(n,function(e,t){t.render()})}var e,i,o,n,u=this,a="";if(u.length){if(!s)return window.tinymce?tinymce.get(u[0].id):null;u.css("visibility","hidden"),f.tinymce||r||!(e=s.script_url)?1===r?l.push(t):t():(r=1,i=e.substring(0,e.lastIndexOf("/")),-1!=e.indexOf(".min")&&(a=".min"),f.tinymce=f.tinyMCEPreInit||{base:i,suffix:a},-1!=e.indexOf("gzip")&&(o=s.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(a)+"&themes="+escape(s.theme||"modern")+"&plugins="+escape(s.plugins||"")+"&languages="+(o||""),f.tinyMCE_GZ||(f.tinyMCE_GZ={start:function(){function i(e){tinymce.ScriptLoader.markDone(tinymce.baseURI.toAbsolute(e))}i("langs/"+o+".js"),i("themes/"+s.theme+"/theme"+a+".js"),i("themes/"+s.theme+"/langs/"+o+".js"),h.each(s.plugins.split(","),function(e,t){t&&(i("plugins/"+t+"/plugin"+a+".js"),i("plugins/"+t+"/langs/"+o+".js"))})},end:function(){}})),(n=document.createElement("script")).type="text/javascript",n.onload=n.onreadystatechange=function(e){e=e||window.event,2===r||"load"!=e.type&&!/complete|loaded/.test(n.readyState)||(tinymce.dom.Event.domLoaded=1,r=2,s.script_loaded&&s.script_loaded(),t(),h.each(l,function(e,t){t()}))},n.src=e,document.body.appendChild(n))}return u},h.extend(h.expr[":"],{tinymce:function(e){return!!(e.id&&"tinymce"in window&&((e=tinymce.get(e.id))&&e.editorManager===tinymce))}})}(jQuery),!function(l,d,c){d.infinitescroll=function(e,t,i){this.element=d(i),this._create(e,t)||(this.failed=!0)},d.infinitescroll.defaults={loading:{finished:c,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:c},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},debug:!1,behavior:c,binder:d(l),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:c,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:c,path:c,prefill:!1,maxPage:c},d.infinitescroll.prototype={_binding:function(e){var t=this,i=t.options;if(i.v="2.0b2.120520",i.behavior&&this["_binding_"+i.behavior]!==c)this["_binding_"+i.behavior].call(this);else{if("bind"!==e&&"unbind"!==e)return this._debug("Binding value  "+e+" not valid"),!1;"unbind"===e?this.options.binder.unbind("smartscroll.infscr."+t.options.infid):this.options.binder[e]("smartscroll.infscr."+t.options.infid,function(){t.scroll()}),this._debug("Binding",e)}},_create:function(e,o){var n=d.extend(!0,{},d.infinitescroll.defaults,e),a=(this.options=n,d(l));if(!this._validate(e))return!1;var t=d(n.nextSelector).attr("href");if(!t)return this._debug("Navigation selector not found"),!1;n.path=n.path||this._determinepath(t),n.contentSelector=n.contentSelector||this.element,n.loading.selector=n.loading.selector||n.contentSelector,n.loading.msg=n.loading.msg||d('<div id="infscr-loading"><img alt="Loading..." src="'+n.loading.img+'" /><div>'+n.loading.msgText+"</div></div>"),(new Image).src=n.loading.img,n.pixelsFromNavToBottom===c&&(n.pixelsFromNavToBottom=d(document).height()-d(n.navSelector).offset().top);var i=this;return n.loading.start=n.loading.start||function(){d(n.navSelector).hide(),n.loading.msg.appendTo(n.loading.selector).show(n.loading.speed,d.proxy(function(){this.beginAjax(n)},i))},n.loading.finished=n.loading.finished||function(){n.loading.msg.fadeOut(n.loading.speed)},n.callback=function(e,t,i){n.behavior&&e["_callback_"+n.behavior]!==c&&e["_callback_"+n.behavior].call(d(n.contentSelector)[0],t,i),o&&o.call(d(n.contentSelector)[0],t,n,i),n.prefill&&a.bind("resize.infinite-scroll",e._prefill)},e.debug&&Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind),this._setup(),n.prefill&&this._prefill(),!0},_prefill:function(){var e=this,t=d(document),i=d(l);function o(){return t.height()<=i.height()}this._prefill=function(){o()&&e.scroll(),i.bind("resize.infinite-scroll",function(){o()&&(i.unbind("resize.infinite-scroll"),e.scroll())})},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?1===Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(e){var t=this.options;if(t.behavior&&this["_determinepath_"+t.behavior]!==c)return this["_determinepath_"+t.behavior].call(this,e);if(t.pathParse)return this._debug("pathParse manual"),t.pathParse(e,this.options.state.currPage+1);if(e.match(/^(.*?)\b2\b(.*?$)/))e=e.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(e.match(/^(.*?)2(.*?$)/)){if(e.match(/^(.*?page=)2(\/.*|$)/))return e=e.match(/^(.*?page=)2(\/.*|$)/).slice(1);e=e.match(/^(.*?)2(.*?$)/).slice(1)}else{if(e.match(/^(.*?page=)1(\/.*|$)/))return e=e.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),t.state.isInvalidPage=!0}return this._debug("determinePath",e),e},_error:function(e){var t=this.options;t.behavior&&this["_error_"+t.behavior]!==c?this["_error_"+t.behavior].call(this,e):(this._debug("Error",e="destroy"!==e&&"end"!==e?"unknown":e),"end"===e&&this._showdonemsg(),t.state.isDone=!0,t.state.currPage=1,t.state.isPaused=!1)},_loadcallback:function(e,t,i){var o,n=this.options,a=this.options.callback,s=n.state.isDone?"done":n.appendCallback?"append":"no-append";if(n.behavior&&this["_loadcallback_"+n.behavior]!==c)this["_loadcallback_"+n.behavior].call(this,e,t);else{switch(s){case"done":return this._showdonemsg(),!1;case"no-append":"html"===n.dataType&&(t=d(t="<div>"+t+"</div>").find(n.itemSelector));break;case"append":var r=e.children();if(0===r.length)return this._error("end");for(o=document.createDocumentFragment();e[0].firstChild;)o.appendChild(e[0].firstChild);this._debug("contentSelector",d(n.contentSelector)[0]),d(n.contentSelector)[0].appendChild(o),t=r.get()}n.loading.finished.call(d(n.contentSelector)[0],n),n.animate&&(s=d(l).scrollTop()+d("#infscr-loading").height()+n.extraScrollPx+"px",d("html,body").animate({scrollTop:s},800,function(){n.state.isDuringAjax=!1})),n.animate||(n.state.isDuringAjax=!1),a(this,t,i),n.prefill&&this._prefill()}},_nearbottom:function(){var e=this.options,t=0+d(document).height()-e.binder.scrollTop()-d(l).height();return e.behavior&&this["_nearbottom_"+e.behavior]!==c?this["_nearbottom_"+e.behavior].call(this):(this._debug("math:",t,e.pixelsFromNavToBottom),t-e.bufferPx<e.pixelsFromNavToBottom)},_pausing:function(e){var t=this.options;if(!t.behavior||this["_pausing_"+t.behavior]===c){switch("pause"!==e&&"resume"!==e&&null!==e&&this._debug("Invalid argument. Toggling pause value instead"),e=!e||"pause"!==e&&"resume"!==e?"toggle":e){case"pause":t.state.isPaused=!0;break;case"resume":t.state.isPaused=!1;break;case"toggle":t.state.isPaused=!t.state.isPaused}return this._debug("Paused",t.state.isPaused),!1}this["_pausing_"+t.behavior].call(this,e)},_setup:function(){var e=this.options;if(!e.behavior||this["_setup_"+e.behavior]===c)return this._binding("bind"),!1;this["_setup_"+e.behavior].call(this)},_showdonemsg:function(){var e=this.options;e.behavior&&this["_showdonemsg_"+e.behavior]!==c?this["_showdonemsg_"+e.behavior].call(this):(e.loading.msg.find("img").hide().parent().find("div").html(e.loading.finishedMsg).animate({opacity:1},2e3,function(){d(this).parent().fadeOut(e.loading.speed)}),e.errorCallback.call(d(e.contentSelector)[0],"done"))},_validate:function(e){for(var t in e)if(t.indexOf&&-1<t.indexOf("Selector")&&0===d(e[t]).length)return this._debug("Your "+t+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(o){var n,a,e,s,r=this,t=o.path;if(o.state.currPage++,o.maxPage!=c&&o.state.currPage>o.maxPage)this.destroy();else switch(n=d(o.contentSelector).is("table")?d("<tbody/>"):d("<div/>"),a="function"==typeof t?t(o.state.currPage):t.join(o.state.currPage),r._debug("heading into ajax",a),e="html"===o.dataType||"json"===o.dataType?o.dataType:"html+callback",o.appendCallback&&"html"===o.dataType&&(e+="+callback"),e){case"html+callback":r._debug("Using HTML via .load() method"),n.load(a+" "+o.itemSelector,c,function(e){r._loadcallback(n,e,a)});break;case"html":r._debug("Using "+e.toUpperCase()+" via $.ajax() method"),d.ajax({url:a,dataType:o.dataType,complete:function(e,t){(s=void 0!==e.isResolved?e.isResolved():"success"===t||"notmodified"===t)?r._loadcallback(n,e.responseText,a):r._error("end")}});break;case"json":r._debug("Using "+e.toUpperCase()+" via $.ajax() method"),d.ajax({dataType:"json",type:"GET",url:a,success:function(e,t,i){s=void 0!==i.isResolved?i.isResolved():"success"===t||"notmodified"===t,o.appendCallback?o.template!==c?(i=o.template(e),n.append(i),s?r._loadcallback(n,i):r._error("end")):(r._debug("template must be defined."),r._error("end")):s?r._loadcallback(n,e,a):r._error("end")},error:function(){r._debug("JSON ajax request failed."),r._error("end")}})}},retrieve:function(e){e=e||null;var t=this.options;if(t.behavior&&this["retrieve_"+t.behavior]!==c)this["retrieve_"+t.behavior].call(this,e);else{if(t.state.isDestroyed)return this._debug("Instance is destroyed"),!1;t.state.isDuringAjax=!0,t.loading.start.call(d(t.contentSelector)[0],t)}},scroll:function(){var e=this.options,t=e.state;e.behavior&&this["scroll_"+e.behavior]!==c?this["scroll_"+e.behavior].call(this):t.isDuringAjax||t.isInvalidPage||t.isDone||t.isDestroyed||t.isPaused||this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(e){d.isPlainObject(e)&&(this.options=d.extend(!0,this.options,e))}},d.fn.infinitescroll=function(t,i){switch(typeof t){case"string":var o=Array.prototype.slice.call(arguments,1);this.each(function(){var e=d.data(this,"infinitescroll");return!!e&&(!(!d.isFunction(e[t])||"_"===t.charAt(0))&&void e[t].apply(e,o))});break;case"object":this.each(function(){var e=d.data(this,"infinitescroll");e?e.update(t):(e=new d.infinitescroll(t,i,this)).failed||d.data(this,"infinitescroll",e)})}return this};var n,e=d.event;e.special.smartscroll={setup:function(){d(this).bind("scroll",e.special.smartscroll.handler)},teardown:function(){d(this).unbind("scroll",e.special.smartscroll.handler)},handler:function(e,t){var i=this,o=arguments;e.type="smartscroll",n&&clearTimeout(n),n=setTimeout(function(){d(i).trigger("smartscroll",o)},"execAsap"===t?0:100)}},d.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}}(window,jQuery),!function(s){s.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var e,t,i=this,o=(this.element.is("input")?(this.tagList=s("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.addClass("tagit-hidden-field")):this.tagList=this.element.find("ul, ol").andSelf().last(),this.tagInput=s('<input type="text" />').addClass("ui-widget-content"),this.options.readOnly&&this.tagInput.attr("disabled","disabled"),this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex),this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText),this.options.autocomplete.source||(this.options.autocomplete.source=function(e,t){var i=e.term.toLowerCase(),e=s.grep(this.options.availableTags,function(e){return 0===e.toLowerCase().indexOf(i)});t(e=this.options.allowDuplicates?e:this._subtractArray(e,this.assignedTags()))}),this.options.showAutocompleteOnFocus&&(this.tagInput.focus(function(e,t){i._showAutocomplete()}),void 0===this.options.autocomplete.minLength&&(this.options.autocomplete.minLength=0)),s.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=s.proxy(this.options.autocomplete.source,this)),s.isFunction(this.options.tagSource)&&(this.options.tagSource=s.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(s('<li class="tagit-new"></li>').append(this.tagInput)).click(function(e){var t=s(e.target);t.hasClass("tagit-label")?(t=t.closest(".tagit-choice")).hasClass("removed")||i._trigger("onTagClicked",e,{tag:t,tagLabel:i.tagLabel(t)}):i.tagInput.focus()}),!1);this.options.singleField&&(this.options.singleFieldNode?(t=(e=s(this.options.singleFieldNode)).val().split(this.options.singleFieldDelimiter),e.val(""),s.each(t,function(e,t){i.createTag(t,null,!0),o=!0})):(this.options.singleFieldNode=s('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode))),o||this.tagList.children("li").each(function(){s(this).hasClass("tagit-new")||(i.createTag(s(this).text(),s(this).attr("class"),!0),s(this).remove())}),this.tagInput.keydown(function(e){var t;e.which==s.ui.keyCode.BACKSPACE&&""===i.tagInput.val()?(t=i._lastTag(),!i.options.removeConfirmation||t.hasClass("remove")?i.removeTag(t):i.options.removeConfirmation&&t.addClass("remove ui-state-highlight")):i.options.removeConfirmation&&i._lastTag().removeClass("remove ui-state-highlight"),(e.which===s.ui.keyCode.COMMA&&!1===e.shiftKey||e.which===s.ui.keyCode.ENTER||e.which==s.ui.keyCode.TAB&&""!==i.tagInput.val()||e.which==s.ui.keyCode.SPACE&&!0!==i.options.allowSpaces&&('"'!=s.trim(i.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==s.trim(i.tagInput.val()).charAt(0)&&'"'==s.trim(i.tagInput.val()).charAt(s.trim(i.tagInput.val()).length-1)&&0!=s.trim(i.tagInput.val()).length-1))&&(e.which===s.ui.keyCode.ENTER&&""===i.tagInput.val()||e.preventDefault(),i.options.autocomplete.autoFocus&&i.tagInput.data("autocomplete-open")||(i.tagInput.autocomplete("close"),i.createTag(i._cleanedInput())))}).blur(function(e){i.tagInput.data("autocomplete-open")||i.createTag(i._cleanedInput())}),(this.options.availableTags||this.options.tagSource||this.options.autocomplete.source)&&(s.extend(e={select:function(e,t){return i.createTag(t.item.value),!1}},this.options.autocomplete),e.source=this.options.tagSource||e.source,this.tagInput.autocomplete(e).bind("autocompleteopen.tagit",function(e,t){i.tagInput.data("autocomplete-open",!0)}).bind("autocompleteclose.tagit",function(e,t){i.tagInput.data("autocomplete-open",!1)}),this.tagInput.autocomplete("widget").addClass("tagit-autocomplete"))},destroy:function(){return s.Widget.prototype.destroy.call(this),this.element.unbind(".tagit"),this.tagList.unbind(".tagit"),this.tagInput.removeData("autocomplete-open"),this.tagList.removeClass("tagit ui-widget ui-widget-content ui-corner-all tagit-hidden-field"),this.element.is("input")?(this.element.removeClass("tagit-hidden-field"),this.tagList.remove()):(this.element.children("li").each(function(){s(this).hasClass("tagit-new")?s(this).remove():(s(this).removeClass("tagit-choice ui-widget-content ui-state-default ui-state-highlight ui-corner-all remove tagit-choice-editable tagit-choice-read-only"),s(this).text(s(this).children(".tagit-label").text()))}),this.singleFieldNode&&this.singleFieldNode.remove()),this},_cleanedInput:function(){return s.trim(this.tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var e=this,t=[];return this.options.singleField?""===(t=s(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter))[0]&&(t=[]):this._tags().each(function(){t.push(e.tagLabel(this))}),t},_updateSingleTagsField:function(e){s(this.options.singleFieldNode).val(e.join(this.options.singleFieldDelimiter)).trigger("change")},_subtractArray:function(e,t){for(var i=[],o=0;o<e.length;o++)-1==s.inArray(e[o],t)&&i.push(e[o]);return i},tagLabel:function(e){return this.options.singleField?s(e).find(".tagit-label:first").text():s(e).find("input:first").val()},_showAutocomplete:function(){this.tagInput.autocomplete("search","")},_findTagByLabel:function(t){var i=this,o=null;return this._tags().each(function(e){if(i._formatStr(t)==i._formatStr(i.tagLabel(this)))return o=s(this),!1}),o},_isNew:function(e){return!this._findTagByLabel(e)},_formatStr:function(e){return this.options.caseSensitive?e:s.trim(e.toLowerCase())},_effectExists:function(e){return Boolean(s.effects&&(s.effects[e]||s.effects.effect&&s.effects.effect[e]))},createTag:function(e,t,i){var o,n,a=this;return e=s.trim(e),""!==(e=this.options.preprocessTag?this.options.preprocessTag(e):e)&&(this.options.allowDuplicates||this._isNew(e)?this.options.tagLimit&&this._tags().length>=this.options.tagLimit?(this._trigger("onTagLimitExceeded",null,{duringInitialization:i}),!1):(o=s(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(e),n=s("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(t).append(o),this.options.readOnly?n.addClass("tagit-choice-read-only"):(n.addClass("tagit-choice-editable"),t=s("<span></span>").addClass("ui-icon ui-icon-close"),t=s('<a><span class="text-icon">×</span></a>').addClass("tagit-close").append(t).click(function(e){a.removeTag(n)}),n.append(t)),this.options.singleField||(o=o.html(),n.append('<input type="hidden" value="'+o+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />')),void(!1!==this._trigger("beforeTagAdded",null,{tag:n,tagLabel:this.tagLabel(n),duringInitialization:i})&&(this.options.singleField&&((o=this.assignedTags()).push(e),this._updateSingleTagsField(o)),this._trigger("onTagAdded",null,n),this.tagInput.val(""),this.tagInput.parent().before(n),this._trigger("afterTagAdded",null,{tag:n,tagLabel:this.tagLabel(n),duringInitialization:i}),this.options.showAutocompleteOnFocus&&!i&&setTimeout(function(){a._showAutocomplete()},0)))):(e=this._findTagByLabel(e),!1!==this._trigger("onTagExists",null,{existingTag:e,duringInitialization:i})&&this._effectExists("highlight")&&e.effect("highlight"),!1))},removeTag:function(e,t){var i,o,n;t=void 0===t?this.options.animate:t,e=s(e),this._trigger("onTagRemoved",null,e),!1!==this._trigger("beforeTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})&&(this.options.singleField&&(o=this.assignedTags(),i=this.tagLabel(e),o=s.grep(o,function(e){return e!=i}),this._updateSingleTagsField(o)),t?(e.addClass("removed"),o=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"],n=this,o.push(function(){e.remove(),n._trigger("afterTagRemoved",null,{tag:e,tagLabel:n.tagLabel(e)})}),e.fadeOut("fast").hide.apply(e,o).dequeue()):(e.remove(),this._trigger("afterTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})))},removeTagByLabel:function(e,t){var i=this._findTagByLabel(e);if(!i)throw"No such tag exists with the name '"+e+"'";this.removeTag(i,t)},removeAll:function(){var i=this;this._tags().each(function(e,t){i.removeTag(t,!1)})}})}(jQuery),!function(s){"use strict";function e(){return this.each(t)}function t(){var e,t,i,o,n=0,a=s(this).css({overflow:"hidden",resize:"none"});a.data("autogrow-origin")||(e=a.clone().val("").appendTo(a.parent()),t=e.get(0),o=e.height(),t.scrollHeight,t.scrollHeight!==o&&(i=e.innerHeight(),n=i-o),e.hide(),a.data("autogrow-origin",e).on("keyup change input paste autogrow",function(){r(a,e,t,o,n)}),r(a,e,t,o,n))}function r(e,t,i,o,n){var a=e.val();a!==r.prev&&(r.prev=a,t.val(a).show(),i.scrollHeight,a=i.scrollHeight-n,t.hide(),e.height(o<a?a:o))}s.fn.autoGrowTextarea=e,s.fn.autoGrowTextArea=e,"autoGrow"in s.fn||(s.fn.autoGrow=e)}(jQuery),!function(d){function c(e,t){e.data("flipped",!0);var i="rotate"+e.data("axis");e.find(e.data("front")).css({transform:i+(e.data("reverse")?"(-180deg)":"(180deg)"),"z-index":"0"}),e.find(e.data("back")).css({transform:i+"(0deg)","z-index":"1"}),e.one(o(),function(){d(this).trigger("flip:done"),void 0!==t&&t.call(this)})}function u(e,t){e.data("flipped",!1);var i="rotate"+e.data("axis");e.find(e.data("front")).css({transform:i+"(0deg)","z-index":"1"}),e.find(e.data("back")).css({transform:i+(e.data("reverse")?"(180deg)":"(-180deg)"),"z-index":"0"}),e.one(o(),function(){d(this).trigger("flip:done"),void 0!==t&&t.call(this)})}function o(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}d.fn.flip=function(r,l){return"function"==typeof r&&(l=r),this.each(function(){var e,t,i,o,n,a,s=d(this);void 0===r||"boolean"!=typeof r&&"string"!=typeof r?s.data("initiated")?!r||void 0===r.axis&&void 0===r.reverse||h.call(this,r,function(){s.trigger("flip:change"),void 0!==l&&l.call(this)}):(s.data("initiated",!0),"auto"==(e=d.extend({axis:"y",reverse:!1,trigger:"click",speed:500,forceHeight:!1,forceWidth:!1,autoSize:!0,front:"auto",back:"auto"},r)).front?e.front=0<s.find(".front").length?".front":"div:first-child":"autostrict"==e.front&&(e.front="div:first-child"),"auto"==e.back?e.back=0<s.find(".back").length?".back":"div:first-child + div":"autostrict"==e.back&&(e.back="div:first-child + div"),s.data("reverse",e.reverse),s.data("axis",e.axis),s.data("front",e.front),s.data("back",e.back),t="rotate"+("x"==e.axis.toLowerCase()?"x":"y"),i=2*s["outer"+("rotatex"==t?"Height":"Width")](),s.find(s.data("back")).css({transform:t+"("+(e.reverse?"180deg":"-180deg")+")"}),s.css({perspective:i}),o=e.speed/1e3||.5,n=s.find(e.front).add(e.back,s),e.forceHeight?n.outerHeight(s.height()):e.autoSize&&n.css({height:"100%"}),e.forceWidth?n.outerWidth(s.width()):e.autoSize&&n.css({width:"100%"}),n.css({"backface-visibility":"hidden","z-index":"1"}),n.find("*").css({"backface-visibility":"hidden"}),s.find(s.data("back")).css({transform:t+"("+(e.reverse?"180deg":"-180deg")+")","z-index":"0"}),(window.chrome||window.Intl&&Intl.v8BreakIterator)&&"CSS"in window&&s.css({"-webkit-transform-style":"preserve-3d"}),setTimeout(function(){n.css({transition:"all "+o+"s ease-out"}),void 0!==l&&l.call(this)},20),"click"==e.trigger.toLowerCase()?s.on(d.fn.tap?"tap.flip":"click.flip",function(e){e=e||window.event,s.find(d(e.target).closest('button, a, input[type="submit"]')).length||(s.find(".clickStrip").hide(),(s.data("flipped")?u:c)(s))}):"hover"==e.trigger.toLowerCase()&&(a=function(){u(s)},s.on("mouseenter.flip",function(){s.off("mouseleave.flip"),c(s),setTimeout(function(){s.on("mouseleave.flip",a),s.is(":hover")||u(s)},e.speed+150)}),s.on("mouseleave.flip",a))):((r="toggle"==r?!s.data("flipped"):r)?c:u)(s,l)}),this};var h=function(e,t){var i,o,n=!1;void 0!==e.axis&&d(this).data("axis")!=e.axis.toLowerCase()&&(d(this).data("axis",e.axis.toLowerCase()),n=!0),void 0!==e.reverse&&d(this).data("reverse")!=e.reverse&&(d(this).data("reverse",e.reverse),n=!0),n?(i=d(this).find(d(this).data("front")).add(d(this).data("back"),d(this)),o=i.css(["transition-property","transition-timing-function","transition-duration","transition-delay"]),i.css({transition:"none"}),e="rotate"+d(this).data("axis"),d(this).data("flipped")?d(this).find(d(this).data("front")).css({transform:e+(d(this).data("reverse")?"(-180deg)":"(180deg)"),"z-index":"0"}):d(this).find(d(this).data("back")).css({transform:e+"("+(d(this).data("reverse")?"180deg":"-180deg")+")","z-index":"0"}),setTimeout(function(){i.css(o),t.call(this)}.bind(this),0)):setTimeout(t.bind(this),0)}}(jQuery),!function(l,d){var c={after:["attr","value"],defaults:{},extensions:{},init:function(e,t,i,o,n){var a,s,r;if(d.isWriteableObservable(t()))return a=i.has("wysiwygConfig")?i.get("wysiwygConfig"):null,s=i.has("wysiwygExtensions")?i.get("wysiwygExtensions"):[],r=u(c.defaults,s,a,arguments),l(e).text(t()()),setTimeout(function(){l(e).tinymce(r)},0),d.utils.domNodeDisposal.addDisposeCallback(e,function(){l(e).tinymce().remove()}),{controlsDescendantBindings:!0};throw"valueAccessor must be writeable and observable"},update:function(e,t,i,o,n){e=l(e).tinymce(),t=t()();e&&e.getContent()!==t&&(e.setContent(t),e.execCommand("keyup"))}},u=function(e,o,t,n){function i(i){i.on("change keyup nodechange",function(e){for(var t in n[1]()(i.getContent()),o)o.hasOwnProperty(t)&&c.extensions[o[t]](i,e,n[2],n[4])})}var a,s=l.extend(!0,{},e);t&&(d.utils.objectForEach(t,function(e){"[object Array]"===Object.prototype.toString.call(t[e])&&(s[e]||(s[e]=[]),t[e]=d.utils.arrayGetDistinctValues(s[e].concat(t[e])))}),l.extend(!0,s,t)),s.plugins?-1===l.inArray("paste",s.plugins)&&s.plugins.push("paste"):s.plugins=["paste"];return"function"==typeof s.setup?(a=s.setup,s.setup=function(e){a(e),i(e)}):s.setup=i,s};d.bindingHandlers.wysiwyg=c}(jQuery,ko),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Scroll={didScroll:!1,init:function(){this.scrollCallback=$.Callbacks("unique");var e=this;$(window).scroll(function(){BoredPanda.Config.isTabletWidth?e.didScroll=!0:e.scrollCallback.fire()}),BoredPanda.Config.isTabletWidth&&setInterval(function(){e.didScroll&&(e.didScroll=!1,e.scrollCallback.fire())},250)}},$(document).ready(function(){BoredPanda.Scroll.init()})}(),!function(){"use strict";ko.bindingHandlers.fadeVisible={init:function(e,t){t=t();$(e).toggle(ko.unwrap(t))},update:function(e,t){t=t();ko.unwrap(t)?$(e).fadeIn():$(e).fadeOut()}},ko.bindingHandlers.slideVisible={init:function(e,t){t=t();$(e).toggle(ko.unwrap(t))},update:function(e,t){t=t();ko.unwrap(t)?$(e).slideDown():$(e).slideUp()}},ko.bindingHandlers.koSortable={init:function(e,t){var n=-1,a=t(),t={start:function(e,t){n=t.item.index(),t.placeholder.height(t.item.height())},stop:function(e,t){var i,o=t.item.index();-1<n&&(i=a()[n],a.remove(i),a.splice(o,0,i),t.item.remove())}};$(e).sortable(t)}},ko.bindingHandlers.iCheck={init:function(e,t){var e=$(e),i=t();e.on("ifClicked",function(e){e=$(e.target).val();i(e)})},update:function(e,t){e=$(e),t=ko.unwrap(t());t===e.val()?e.iCheck("check"):""!==t&&null!==t||e.iCheck("uncheck")}},ko.bindingHandlers.initializeValue={init:function(e,t){t()(e.getAttribute("value"))},update:function(e,t){t=t();e.setAttribute("value",ko.utils.unwrapObservable(t))}},ko.bindingHandlers.initializeValueTextarea={init:function(e,t){t()(e.value)},update:function(e,t){t=t();e.value=ko.utils.unwrapObservable(t)}},ko.bindingHandlers.wysiwyg.defaults={plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code"],toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",menubar:!1,statusbar:!1,setup:function(e){e.on("init",function(e){this.getBody().style.fontFamily="Source Sans Pro",this.getBody().style.fontSize="18px",this.getBody().style.fontWeight="400",this.getBody().style.lineHeight="26px",this.iframeElement.style.resize="vertical"})}}}(),!function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,function(e,t){let i=e.console,d=void 0===i?function(){}:function(e){i.error(e)};return function(r,n,l){(l=l||t||e.jQuery)&&(n.prototype.option||(n.prototype.option=function(e){e&&(this.options=Object.assign(this.options||{},e))}),l.fn[r]=function(e,...t){if("string"!=typeof e)return o=e,this.each(function(e,t){let i=l.data(t,r);i?(i.option(o),i._init()):(i=new n(t,o),l.data(t,r,i))}),this;{var i=this,a=e,s=t;let o,n=`$().${r}("${a}")`;return i.each(function(e,t){var i,t=l.data(t,r);t?(i=t[a])&&"_"!=a.charAt(0)?(i=i.apply(t,s),o=void 0===o?i:o):d(n+" is not a valid method"):d(r+" not initialized. Cannot call method "+n)}),void 0!==o?o:i}var o})}}),function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var i;return e&&t&&((i=(i=this._events=this._events||{})[e]=i[e]||[]).includes(t)||i.push(t)),this},t.once=function(e,t){var i;return e&&t&&(this.on(e,t),((i=this._onceEvents=this._onceEvents||{})[e]=i[e]||{})[t]=!0),this},t.off=function(e,t){e=this._events&&this._events[e];return e&&e.length&&(-1!=(t=e.indexOf(t))&&e.splice(t,1)),this},t.emitEvent=function(e,t){let i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];var o,n=this._onceEvents&&this._onceEvents[e];for(o of i)n&&n[o]&&(this.off(e,o),delete n[o]),o.apply(this,t)}return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e):e.fizzyUIUtils=t(e)}(this,function(t){let o={extend:function(e,t){return Object.assign(e,t)},modulo:function(e,t){return(e%t+t)%t},makeArray:function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?[...e]:[e]},removeFrom:function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},getParent:function(e,t){for(;e.parentNode&&e!=document.body;)if((e=e.parentNode).matches(t))return e},getQueryElement:function(e){return"string"==typeof e?document.querySelector(e):e},handleEvent:function(e){var t="on"+e.type;this[t]&&this[t](e)},filterFindElements:function(e,i){return(e=o.makeArray(e)).filter(e=>e instanceof HTMLElement).reduce((e,t)=>{if(!i)return e.push(t),e;t.matches(i)&&e.push(t);t=t.querySelectorAll(i);return e.concat(...t)},[])},debounceMethod:function(e,t,i){i=i||100;let o=e.prototype[t],n=t+"Timeout";e.prototype[t]=function(){clearTimeout(this[n]);let e=arguments;this[n]=setTimeout(()=>{o.apply(this,e),delete this[n]},i)}},docReady:function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},toDashed:function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()}},l=t.console;return o.htmlInit=function(s,r){o.docReady(function(){let n="data-"+o.toDashed(r),e=document.querySelectorAll(`[${n}]`),a=t.jQuery;[...e].forEach(e=>{let t,i=e.getAttribute(n);try{t=i&&JSON.parse(i)}catch(t){return void(l&&l.error(`Error parsing ${n} on ${e.className}: `+t))}var o=new s(e,t);a&&a.data(e,r,o)})})},o}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter"),require("fizzy-ui-utils")):e.InfiniteScroll=t(e,e.EvEmitter,e.fizzyUIUtils)}(window,function(t,e,n){let a=t.jQuery,s={};function r(e,t){var i,o=n.getQueryElement(e);if(o){if((e=o).infiniteScrollGUID)return(i=s[e.infiniteScrollGUID]).option(t),i;this.element=e,this.options={...r.defaults},this.option(t),a&&(this.$element=a(this.element)),this.create()}else console.error("Bad element for InfiniteScroll: "+(o||e))}r.defaults={},r.create={},r.destroy={};var i=r.prototype;Object.assign(i,e.prototype);let o=0,l=(i.create=function(){var e=this.guid=++o;if(this.element.infiniteScrollGUID=e,(s[e]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var t in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),r.create)r.create[t].call(this);else console.error("Disabling InfiniteScroll")},i.option=function(e){Object.assign(this.options,e)},i.callOnInit=function(){var e=this.options.onInit;e&&e.call(this,this)},i.dispatchEvent=function(t,i,o){this.log(t,o);var n=i?[i].concat(o):o;if(this.emitEvent(t,n),a&&this.$element){let e=t+=".infiniteScroll";i&&((n=a.Event(i)).type=t,e=n),this.$element.trigger(e,o)}},{initialized:e=>"on "+e,request:e=>"URL: "+e,load:(e,t)=>`${e.title||""}. URL: `+t,error:(e,t)=>e+". URL: "+t,append:(e,t,i)=>i.length+" items. URL: "+t,last:(e,t)=>"URL: "+t,history:(e,t)=>"URL: "+t,pageIndex:function(e,t){return`current page determined to be: ${e} from `+t}}),d=(i.log=function(i,o){if(this.options.debug){let e="[InfiniteScroll] "+i,t=l[i];t&&(e+=". "+t.apply(this,o)),console.log(e)}},i.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.scrollY},i.updateScroller=function(){var e=this.options.elementScroll;if(e){if(this.scroller=!0===e?this.element:n.getQueryElement(e),!this.scroller)throw new Error("Unable to find elementScroll: "+e)}else this.scroller=t},i.updateGetPath=function(){var e,t=this.options.path;t?"function"!=(e=typeof t)?"string"==e&&t.match("{{#}}")?this.updateGetPathTemplate(t):this.updateGetPathSelector(t):this.getPath=t:console.error("InfiniteScroll path option required. Set as: "+t)},i.updateGetPathTemplate=function(t){this.getPath=()=>{var e=this.pageIndex+1;return t.replace("{{#}}",e)};var e=t.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),e=new RegExp(e),e=location.href.match(e);e&&(this.pageIndex=parseInt(e[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))},[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/]),c=r.getPathParts=function(e){if(e)for(var t of d){var i,o,t=e.match(t);if(t)return[,t,i,o]=t,{begin:t,index:i,end:o}}};i.updateGetPathSelector=function(e){var t=document.querySelector(e);if(t){var t=t.getAttribute("href"),o=c(t);if(o){let{begin:e,index:t,end:i}=o;this.isPathSelector=!0,this.getPath=()=>e+(this.pageIndex+1)+i,this.pageIndex=parseInt(t,10)-1,this.log("pageIndex",[this.pageIndex,"next link"])}else console.error("InfiniteScroll unable to parse next link href: "+t)}else console.error("Bad InfiniteScroll path option. Next link not found: "+e)},i.updateGetAbsolutePath=function(){var n=this.getPath();if(n.match(/^http/)||n.match(/^\//))this.getAbsolutePath=this.getPath;else{let e=location["pathname"],t=n.match(/^\?/),i=e.substring(0,e.lastIndexOf("/")),o=t?e:i+"/";this.getAbsolutePath=()=>o+this.getPath()}},r.create.hideNav=function(){var e=n.getQueryElement(this.options.hideNav);e&&(e.style.display="none",this.nav=e)},r.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},i.destroy=function(){for(var e in this.allOff(),r.destroy)r.destroy[e].call(this);delete this.element.infiniteScrollGUID,delete s[this.guid],a&&this.$element&&a.removeData(this.element,"infiniteScroll")},r.throttle=function(o,n){let a,s;return n=n||200,function(){let e=+new Date,t=arguments,i=()=>{a=e,o.apply(this,t)};a&&e<a+n?(clearTimeout(s),s=setTimeout(i,n)):i()}},r.data=function(e){e=(e=n.getQueryElement(e))&&e.infiniteScrollGUID;return e&&s[e]},r.setJQuery=function(e){a=e},n.htmlInit(r,"infinite-scroll"),i._init=function(){};e=t.jQueryBridget;return a&&e&&e("infiniteScroll",r,a),r}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("./core")):t(e,e.InfiniteScroll)}(window,function(t,n){var e=n.prototype;Object.assign(n.defaults,{loadOnScroll:!0,checkLastPage:!0,responseBody:"text",domParseResponse:!0}),n.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},e.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()};let a=new DOMParser;function c(e){var t=document.createDocumentFragment();return e&&t.append(...e),t}return e.loadNextPage=function(){if(!this.isLoading&&this.canLoad){let{responseBody:i,domParseResponse:o,fetchOptions:e}=this.options,n=this.getAbsolutePath();this.isLoading=!0,"function"==typeof e&&(e=e());var t=fetch(n,e).then(t=>{var e;return t.ok?t[i]().then(e=>("text"==i&&o&&(e=a.parseFromString(e,"text/html")),204==t.status?(this.lastPageReached(e,n),{body:e,response:t}):this.onPageLoad(e,n,t))):(e=new Error(t.statusText),this.onPageError(e,n,t),{response:t})}).catch(e=>{this.onPageError(e,n)});return this.dispatchEvent("request",null,[n,t]),t}},e.onPageLoad=function(e,t,i){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[e,t,i]),this.appendNextPage(e,t,i)},e.appendNextPage=function(e,t,i){var{append:o,responseBody:n,domParseResponse:a}=this.options;if("text"!=n||!a||!o)return{body:e,response:i};let s=e.querySelectorAll(o),r={body:e,response:i,items:s};if(!s||!s.length)return this.lastPageReached(e,t),r;let l=c(s),d=()=>(this.appendItems(s,l),this.isLoading=!1,this.dispatchEvent("append",null,[e,t,s,i]),r);return this.options.outlayer?this.appendOutlayerItems(l,d):d()},e.appendItems=function(e,t){if(e&&e.length){var i;for(i of(t=t||c(e)).querySelectorAll("script")){var o,n=document.createElement("script");for(o of i.attributes)n.setAttribute(o.name,o.value);n.innerHTML=i.innerHTML,i.parentNode.replaceChild(n,i)}this.element.appendChild(t)}},e.appendOutlayerItems=function(e,i){let o=n.imagesLoaded||t.imagesLoaded;return o?new Promise(function(t){o(e,function(){var e=i();t(e)})}):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},e.onAppendOutlayer=function(e,t,i){this.options.outlayer.appended(i)},e.checkLastPage=function(e,t){let i,{checkLastPage:o,path:n}=this.options;o&&("function"!=typeof n||this.getPath()?("string"==typeof o?i=o:this.isPathSelector&&(i=n),i&&e.querySelector&&(e.querySelector(i)||this.lastPageReached(e,t))):this.lastPageReached(e,t))},e.lastPageReached=function(e,t){this.canLoad=!1,this.dispatchEvent("last",null,[e,t])},e.onPageError=function(e,t,i){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[e,t,i]),e},n.create.prefill=function(){var e;this.options.prefill&&((e=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+e))},e.prefill=function(){var e=this.getPrefillDistance();this.isPrefilling=0<=e,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},e.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},e.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},n}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("./core"),require("fizzy-ui-utils")):t(e,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(i,e,t){var o=e.prototype;return Object.assign(e.defaults,{scrollThreshold:400}),e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var e=this.options.scrollThreshold;!e&&0!==e||this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},o.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},o.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},o.bindScrollWatchEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.pageScrollHandler),i[e]("resize",this.resizeHandler)},o.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),o.getBottomDistance=function(){let e,t;return t=this.options.elementScroll?(e=this.scroller.scrollHeight,this.scroller.scrollTop+this.scroller.clientHeight):(e=this.top+this.element.clientHeight,i.scrollY+this.windowHeight),e-t},o.onResize=function(){this.updateMeasurements()},t.debounceMethod(e,"onResize",150),e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("./core"),require("fizzy-ui-utils")):t(e,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(o,e,t){var i=e.prototype;Object.assign(e.defaults,{history:"replace"});let n=document.createElement("a");return e.create.history=function(){this.options.history&&(n.href=this.getAbsolutePath(),(n.origin||n.protocol+"//"+n.host)==location.origin?this.options.append?this.createHistoryAppend():this.createHistoryPageLoad():console.error(`[InfiniteScroll] cannot set history with different origin: ${n.origin} on ${location.origin} . History behavior disabled.`))},i.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPage=this.scrollPages[0],this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},i.bindHistoryAppendEvents=function(e){e=e?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.scrollHistoryHandler),o[e]("unload",this.unloadHandler)},i.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=i.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},i.onAppendHistory=function(e,t,i){i&&i.length&&(i=i[0],i=this.getElementScrollY(i),n.href=t,this.scrollPages.push({top:i,path:n.href,title:e.title}))},i.getElementScrollY=function(e){return this.options.elementScroll?e.offsetTop-this.top:e.getBoundingClientRect().top+o.scrollY},i.onScrollHistory=function(){var e=this.getClosestScrollPage();e!=this.scrollPage&&(this.scrollPage=e,this.setHistory(e.title,e.path))},t.debounceMethod(e,"onScrollHistory",150),i.getClosestScrollPage=function(){let e,t;e=this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:o.scrollY+this.windowHeight/2;for(var i of this.scrollPages){if(i.top>=e)break;t=i}return t},i.setHistory=function(e,t){var i=this.options.history;i&&history[i+"State"]&&(history[i+"State"](null,e,t),this.options.historyTitle&&(document.title=e),this.dispatchEvent("history",null,[e,t]))},i.onUnload=function(){var e;0!==this.scrollPage.top&&(e=o.scrollY-this.scrollPage.top+this.top,this.destroyHistory(),scrollTo(0,e))},i.onPageLoadHistory=function(e,t){this.setHistory(e.title,t)},e}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("./core"),require("fizzy-ui-utils")):t(e,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,i){class o{constructor(e,t){this.element=e,this.infScroll=t,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),t.on("request",this.disable.bind(this)),t.on("load",this.enable.bind(this)),t.on("error",this.hide.bind(this)),t.on("last",this.hide.bind(this))}onClick(e){e.preventDefault(),this.infScroll.loadNextPage()}enable(){this.element.removeAttribute("disabled")}disable(){this.element.disabled="disabled"}hide(){this.element.style.display="none"}destroy(){this.element.removeEventListener("click",this.clickHandler)}}return t.create.button=function(){var e=i.getQueryElement(this.options.button);e&&(this.button=new o(e,this))},t.destroy.button=function(){this.button&&this.button.destroy()},t.Button=o,t}),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("./core"),require("fizzy-ui-utils")):t(e,e.InfiniteScroll,e.fizzyUIUtils)}(window,function(e,t,i){var o=t.prototype;function n(e){s(e,"none")}function a(e){s(e,"block")}function s(e,t){e&&(e.style.display=t)}return t.create.status=function(){var e=i.getQueryElement(this.options.status);e&&(this.statusElement=e,this.statusEventElements={request:e.querySelector(".infinite-scroll-request"),error:e.querySelector(".infinite-scroll-error"),last:e.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},o.bindHideStatus=function(e){var t=this.options.append?"append":"load";this[e](t,this.hideAllStatus)},o.showRequestStatus=function(){this.showStatus("request")},o.showErrorStatus=function(){this.showStatus("error")},o.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},o.showStatus=function(e){a(this.statusElement),this.hideStatusEventElements(),a(this.statusEventElements[e])},o.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},o.hideStatusEventElements=function(){for(var e in this.statusEventElements)n(this.statusEventElements[e])},t}),function(t,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("ev-emitter")):t.imagesLoaded=i(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var a=t.jQuery,s=t.console;function r(e,t){for(var i in t)e[i]=t[i];return e}var l=Array.prototype.slice;function d(e,t,i){if(!(this instanceof d))return new d(e,t,i);var o,n=e;(n="string"==typeof e?document.querySelectorAll(e):n)?(this.elements=(o=n,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?l.call(o):[o]),this.options=r({},this.options),"function"==typeof t?i=t:r(this.options,t),i&&this.on("always",i),this.getImages(),a&&(this.jqDeferred=new a.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(n||e))}(d.prototype=Object.create(e.prototype)).options={},d.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},d.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var i=e.querySelectorAll("img"),o=0;o<i.length;o++){var n=i[o];this.addImage(n)}if("string"==typeof this.options.background)for(var a=e.querySelectorAll(this.options.background),o=0;o<a.length;o++){var s=a[o];this.addElementBackgroundImages(s)}}};var c={1:!0,9:!0,11:!0};function i(e){this.img=e}function o(e,t){this.url=e,this.element=t,this.img=new Image}return d.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,o=i.exec(t.backgroundImage);null!==o;){var n=o&&o[2];n&&this.addBackground(n,e),o=i.exec(t.backgroundImage)}},d.prototype.addImage=function(e){e=new i(e);this.images.push(e)},d.prototype.addBackground=function(e,t){e=new o(e,t);this.images.push(e)},d.prototype.check=function(){var o=this;function t(e,t,i){setTimeout(function(){o.progress(e,t,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},d.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+i,e,t)},d.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(i.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},i.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(o.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},o.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(d.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(e,t){return new d(this,e,t).jqDeferred.promise(a(this))})})(),d}),!function(u,h){"use strict";var t;function l(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||n(),this.isIntersecting=!!e.intersectionRect;var e=this.boundingClientRect,e=e.width*e.height,t=this.intersectionRect,t=t.width*t.height;this.intersectionRatio=e?Number((t/e).toFixed(4)):this.isIntersecting?1:0}function e(e,t){var i,o,n,t=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(t.root&&1!=t.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,n=null,function(){n=n||setTimeout(function(){i(),n=null},o)}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(t.rootMargin),this.thresholds=this._initThresholds(t.threshold),this.root=t.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function i(e,t,i,o){"function"==typeof e.addEventListener?e.addEventListener(t,i,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i)}function o(e,t,i,o){"function"==typeof e.removeEventListener?e.removeEventListener(t,i,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i)}function p(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?t.width&&t.height?t:{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}:n()}function n(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(e,t){for(var i=t;i;){if(i==e)return!0;i=m(i)}return!1}function m(e){e=e.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}"IntersectionObserver"in u&&"IntersectionObserverEntry"in u&&"intersectionRatio"in u.IntersectionObserverEntry.prototype?"isIntersecting"in u.IntersectionObserverEntry.prototype||Object.defineProperty(u.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(t=[],e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){var e=this._observationTargets.some(function(e){return e.element==t});if(!e){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},e.prototype._initThresholds=function(e){e=e||[0];return(e=Array.isArray(e)?e:[e]).sort().filter(function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]})},e.prototype._parseRootMargin=function(e){e=(e||"0px").split(/\s+/).map(function(e){e=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(e)return{value:parseFloat(e[1]),unit:e[2]};throw new Error("rootMargin must be specified in pixels or percent")});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},e.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(u,"resize",this._checkForIntersections,!0),i(h,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in u&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(h,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(u,"resize",this._checkForIntersections,!0),o(h,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var s=this._rootIsInDom(),r=s?this._getRootRect():n();this._observationTargets.forEach(function(e){var t=e.element,i=p(t),o=this._rootContainsTarget(t),n=e.entry,a=s&&o&&this._computeTargetAndRootIntersection(t,r),e=e.entry=new l({time:u.performance&&performance.now&&performance.now(),target:t,boundingClientRect:i,rootBounds:r,intersectionRect:a});n?s&&o?this._hasCrossedThreshold(n,e)&&this._queuedEntries.push(e):n&&n.isIntersecting&&this._queuedEntries.push(e):this._queuedEntries.push(e)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=u.getComputedStyle(e).display){for(var i,o,n,a,s=p(e),r=m(e),l=!1;!l;){var d=null,c=1==r.nodeType?u.getComputedStyle(r):{};if("none"==c.display)return;if(r==this.root||r==h?(l=!0,d=t):r!=h.body&&r!=h.documentElement&&"visible"!=c.overflow&&(d=p(r)),d&&(c=d,d=s,a=n=o=i=void 0,i=Math.max(c.top,d.top),o=Math.min(c.bottom,d.bottom),n=Math.max(c.left,d.left),c=Math.min(c.right,d.right),a=o-i,!(s=0<=(d=c-n)&&0<=a&&{top:i,bottom:o,left:n,right:c,width:d,height:a})))break;r=m(r)}return s}},e.prototype._getRootRect=function(){var e,t;return t=this.root?p(this.root):(t=h.documentElement,e=h.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(t)},e.prototype._expandRectByRootMargin=function(i){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?i.width:i.height)/100}),e={top:i.top-e[0],right:i.right+e[1],bottom:i.bottom+e[2],left:i.left-e[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},e.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==o)for(var n=0;n<this.thresholds.length;n++){var a=this.thresholds[n];if(a==i||a==o||a<i!=a<o)return!0}},e.prototype._rootIsInDom=function(){return!this.root||a(h,this.root)},e.prototype._rootContainsTarget=function(e){return a(this.root||h,e)},e.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},e.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},u.IntersectionObserver=e,u.IntersectionObserverEntry=l)}(window,document),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Utils={generateRandomString:function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),i=(e=e||Math.floor(Math.random()*t.length),""),o=0;o<e;o++)i+=t[Math.floor(Math.random()*t.length)];return i},getParameterByName:function(e,t){-1!==(t=void 0===t?location.search:t).indexOf("?")&&(t=t.slice(t.indexOf("?"))),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," ").replace(/(<([^>]+)>)/gi,"").trim())},generateLink:function(e){var t=document.createElement("a"),t=(t.href=e,t.hostname);return t=(t=(t=(t="undefined"!==t&&""!==t&&t!==location.hostname?t:e).replace("www.","")).replace("http://","")).replace("https://","")},annotatePath:function(e,t){var i;return null==e?e:(i=e.substr(e.lastIndexOf(".")+1),e.replace("."+i,t+"."+i))},wpAjax:function(e,t){return t=t||"json",$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:t})},wpUpload:function(e){return $.ajax({type:"POST",url:ajax_object.ajax_url,data:e,contentType:!1,processData:!1})},nAjax:function(e,t,i){var o=BoredPanda.Config.notificationServiceUrl;return i=i||{},$.ajax({type:e,url:o+t,crossDomain:!0,xhrFields:{withCredentials:!0},data:i,dataType:"json",contentType:"application/json"})},gatewayAjax:function(e,t,i){var o=BoredPanda.Config.gatewayUrl;return i=i||{},$.ajax({type:e,url:o+t,crossDomain:!0,data:i,dataType:"json",contentType:"application/json"})},prettyDate:function(e){var e=new Date(e||""),e=((new Date).getTime()-e.getTime())/1e3,t=Math.floor(e/86400),i=Math.ceil(t/7);if(!(isNaN(t)||t<0))return 0===t&&((e<60?"now":e<3600&&Math.floor(e/60)+" min")||e<86400&&Math.floor(e/3600)+" h")||t<7&&t+" d"||i+" w"},isPasswordSecure:function(e){return new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})").test(e)},reloadAds:function(e){for(var t,i=0;i<e.length;i++)if(0<$(e[i]).find(".dfp-ad").length)if(void 0!==googletag.pubads){if(t=$(e[i]).find("div div")[0].id)for(var o in googletag.pubads().getSlots())googletag.pubads().getSlots()[o].getSlotElementId()===t&&googletag.pubads().refresh([googletag.pubads().getSlots()[o]])}else void 0!==window.adnet&&(t=$(e[i]).find("div div")[1].id,window.adnet.push(["_requestHeaderBidderBanners",t]))},loadAnchor:function(){if("com"===BoredPanda.Config.bpVersion&&(BoredPanda.Config.experimentVariation<2||12<BoredPanda.Config.experimentVariation))window.freestar.queue.push(function(){window.freestar.newStickyFooter("boredpandacom_stickyfooter")}),$(".fixed-bottom-overlay.socialbar").hide(),$(".bp-pwa-promotion-container").hide(),$(".sticky-bar").addClass("lift-up");else if("es"===BoredPanda.Config.bpVersion)window.freestar.queue.push(function(){window.freestar.newStickyFooter("boredpandaes_anchor")}),$(".fixed-bottom-overlay.socialbar").hide(),$(".bp-pwa-promotion-container").hide(),$(".sticky-bar").addClass("lift-up");else for(var e=$(".bp-mobile-anchor .dfp-ad div"),t=0;t<e.length;t++){var i=$(e[t]).attr("data-id");if($(e[t]).attr("id",i),void 0!==googletag.pubads&&i.includes("div-gpt")){if(i)for(var o in googletag.pubads().getSlots())googletag.pubads().getSlots()[o].getSlotElementId()===i&&(googletag.cmd.push(function(){googletag.display(i)}),Quickwrap.refresh([i]));$(".fixed-bottom-overlay.socialbar").hide(),($(".sticky-bar.variation_2").is(":visible")||$(".sticky-bar.variation_3").is(":visible"))&&$(e[t]).closest(".mobile-anchor").css("bottom","90px"),$(".bp-pwa-promotion-container").hide(),$(e[t]).closest(".mobile-anchor").show(),$(".sticky-bar").addClass("lift-up");break}}},loadScript:function(e,t,i){var o=document.createElement("script"),t=(o.async=t||!0,o.type="text/javascript",o.src=e,i&&(o.onload=i),document.getElementsByTagName("head")[0]);t.insertBefore(o,t.firstChild)},getPageLoadTime:function(){var e;if(window.performance&&window.performance.getEntriesByType)return 0<(e=window.performance.getEntriesByType("navigation")).length?(e=(e=e[0]).loadEventEnd-e.startTime,Math.round(100*(e/1e3+Number.EPSILON))/100):0}},BoredPanda.generateShareablePermalink=function(e){void 0===e&&(e=location.href);var t=BoredPanda.Utils.getParameterByName("image_id",e);return-1!==e.indexOf("?")&&0<t.length?e.slice(0,e.indexOf("?"))+"?image_id="+t:e},Promise.prototype.always=function(t){return this.then(t,function(e){throw t(e),e})}}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Cropper=function(t){var n=this,e=(n.visible=ko.observable(!1),n.columns=ko.observable(1),n.separator=t.separator,n.saveText=ko.observable("Save"),n.error=ko.observable(""),n.thumb=t.thumb,n.images=t.images,n.width=t.width||490,n.ratio=t.ratio||1.42857143,n.height=t.height||ko.observable(Math.round(367*n.ratio)),n.postId=t.postId||ko.observable(""),n.imageSide=t.imageSide||ko.observable(""),n.imageId=t.imageId||ko.observable(""),n.loading=t.loading||ko.observable(!1),n.cropOneColumn={api:null,originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},n.cropTwoColumnLeft={api:null,originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},n.cropTwoColumnRight={api:null,originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},n.initCropper=function(){a(),n.changed()},n.show=function(){e(),n.visible(!0),a(),n.changed(),$("body").css("overflow","hidden")},n.setColumns=function(e){n.setApi("cropOneColumn"),n.setApi("cropTwoColumnLeft"),n.setApi("cropTwoColumnRight"),n.columns(e),a()},n.changed=function(){n.cropOneColumn.api.cropit("previewSize",{width:"fb-generator"===t.type?n.width/n.ratio:n.width,height:n.height()/n.ratio}),n.cropTwoColumnLeft.api.cropit("previewSize",{width:i("left"),height:n.height()/n.ratio}),n.cropTwoColumnRight.api.cropit("previewSize",{width:i("right"),height:n.height()/n.ratio}),$(t.selector+" .left-column").css("width",i("left")+"px"),$(t.selector+" .right-column").css("width",i("right")+"px")},n.hide=function(){n.visible(!1),$("body").css("overflow","")},n.save=function(){var e={};if(n.error(""),n.saveText("Save"),1===n.columns()){if(""===n.cropOneColumn.originalImg())return n.error("Please select image to edit.");e={action:t.action,type:"one_column",filename:t.filename,coverWidth:t.coverWidth||"",height:n.height(),width:n.width,ratio:n.ratio,post_id:n.postId(),image_side:n.imageSide(),image_id:n.imageId(),image:{originalImg:n.cropOneColumn.originalImg(),offset:n.cropOneColumn.api.cropit("offset"),zoom:n.cropOneColumn.api.cropit("zoom")}}}else if(2===n.columns()){if(""===n.cropTwoColumnLeft.originalImg()||""===n.cropTwoColumnRight.originalImg())return n.error("Please select both sides of the image to edit.");e={action:t.action,type:"two_column",filename:t.filename,coverWidth:t.coverWidth||"",height:n.height(),width:n.width,post_id:n.postId(),image_side:n.imageSide(),image_id:n.imageId(),separator:n.separator(),images:[{originalImg:n.cropTwoColumnLeft.originalImg(),offset:n.cropTwoColumnLeft.api.cropit("offset"),zoom:n.cropTwoColumnLeft.api.cropit("zoom")},{originalImg:n.cropTwoColumnRight.originalImg(),offset:n.cropTwoColumnRight.api.cropit("offset"),zoom:n.cropTwoColumnRight.api.cropit("zoom")}]}}n.saveText("Saving..."),n.loading(!0),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){t.callback(e,n),n.hide(),n.saveText("Save"),n.loading(!1)})},n.saveLeft=function(){n.imageSide("left"),n.save()},n.saveRight=function(){n.imageSide("right"),n.save()},n.chooseColumnImage=function(e,t,i){var o=t.originalUrl();n[e].originalImg(o),n.setApi("cropOneColumn"),n.setApi("cropTwoColumnLeft"),n.setApi("cropTwoColumnRight"),a(),i&&(n.height(parseInt(t.originalHeight())),n.changed(),$(event.currentTarget).closest(".cover-image-wrapper").find(".resizable-block").height(n.height()))},n.setApi=function(e){var t=n[e].api.cropit("offset");void 0!==t&&(n[e].offset.x(t.x||0),n[e].offset.y(t.y||0),n[e].zoom=n[e].api.cropit("zoom"))},function(){function e(e){t.imgs[e]?(n[e].originalImg(t.imgs[e].originalImg()),n[e].zoom=t.imgs[e].zoom,n[e].offset.x(t.imgs[e].offset.x()),n[e].offset.y(t.imgs[e].offset.y())):(n[e].originalImg(""),n[e].zoom=0,n[e].offset.x(0),n[e].offset.y(0))}e("cropOneColumn"),e("cropTwoColumnLeft"),e("cropTwoColumnRight"),0===n.cropOneColumn.originalImg().length&&0===n.cropTwoColumnLeft.originalImg().length&&0===n.cropTwoColumnRight.originalImg().length&&0<n.thumb().length&&(n.cropOneColumn.originalImg(n.thumb()),n.cropOneColumn.offset.x(0),n.cropOneColumn.offset.x(0))}),a=function(){function e(e){n[e].api.cropit("imageSrc")!==n[e].originalImg()&&n[e].api.cropit("imageSrc",n[e].originalImg()),0<n[e].zoom&&n[e].api.cropit("zoom",n[e].zoom),n[e].api.cropit("offset",{x:n[e].offset.x(),y:n[e].offset.y()})}null===n.cropOneColumn.api?n.cropOneColumn.api=$(t.selector+" .one-column .thumbnail-crop").cropit({imageState:{src:n.cropOneColumn.originalImg(),offset:{x:n.cropOneColumn.offset.x(),y:n.cropOneColumn.offset.y()},zoom:n.cropOneColumn.zoom},previewSize:{width:"fb-generator"===t.type?n.width/n.ratio:n.width,height:n.height()/n.ratio},exportZoom:n.ratio,maxZoom:3}):e("cropOneColumn"),null===n.cropTwoColumnLeft.api?n.cropTwoColumnLeft.api=$(t.selector+" .two-column .left-column .thumbnail-crop").cropit({imageState:{src:n.cropTwoColumnLeft.originalImg(),offset:{x:n.cropTwoColumnLeft.offset.x(),y:n.cropTwoColumnLeft.offset.y()},zoom:n.cropTwoColumnLeft.zoom},previewSize:{width:n.width/2-2,height:n.height()/n.ratio},exportZoom:n.ratio}):e("cropTwoColumnLeft"),null===n.cropTwoColumnRight.api?n.cropTwoColumnRight.api=$(t.selector+" .two-column .right-column .thumbnail-crop").cropit({imageState:{src:n.cropTwoColumnRight.originalImg(),offset:{x:n.cropTwoColumnRight.offset.x(),y:n.cropTwoColumnRight.offset.y()},zoom:n.cropTwoColumnRight.zoom},previewSize:{width:n.width/2-2,height:n.height()/n.ratio},exportZoom:n.ratio}):e("cropTwoColumnRight")},i=function(e){var t=n.width-6;return"left"===e?t/100*n.separator():t/100*(100-n.separator())};$(t.selector).each(function(){ko.applyBindings(n,this)})}}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Analytics={STORAGE_KEY:"bp-analytics",available:void 0,init:function(){this.testStorageAvailability()?(this.isStorageInitialized()||this.setup(),this.available=!0,this.getUserId(),this.addPageView(),this.updateHistoryInCookies()):this.available=!1},migrations:function(){var e=this.getStorageContents();void 0!==e.finished_reading&&0!==e.finished_reading.length||void 0===e.pageviews||(e.finished_reading=e.pageviews),this.saveStorageContents(e)},updateHistoryInCookies:function(){$.cookie("bp_hist",JSON.stringify([]),{expires:365,path:"/"}),$.cookie("bp_skipped_posts",JSON.stringify([]),{expires:365,path:"/"}),$.cookie("bp_unfinished",JSON.stringify([]),{expires:365,path:"/"})},setup:function(){var e=JSON.stringify({pageviews:[],finished_reading:[],events:[],showed_recommendations:[],showed_recipe_posts:[],guest_user_id:null,skipped_posts:[]});localStorage.setItem(this.STORAGE_KEY,e)},getUserId:function(){var e,t;return void 0!==BoredPanda.Config.userId&&0<BoredPanda.Config.userId?"r"+parseInt(BoredPanda.Config.userId).toString():void 0!==(e=this.getStorageContents()).guest_user_id&&null!==e.guest_user_id?e.guest_user_id:(t=this.generateGuestUserId(),e.guest_user_id=t,this.saveStorageContents(e),t)},generateGuestUserId:function(){var e=Math.ceil(Math.random()*(void 0!==Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:99999999)),t=(t=new Date).getTime();return"g"+e.toString()+t.toString()},isStorageInitialized:function(){return null!==localStorage.getItem(this.STORAGE_KEY)},finishedReading:function(){var e=this.getStorageContents(),t=(void 0===e.finished_reading&&(e.finished_reading=[]),this.createCurrentPageView());return e.finished_reading.push(t),this.saveStorageContents(e),t},addPageView:function(){var e,t=this.getStorageContents();for(e in(void 0===t.pageviews||0<t.pageviews.length&&t.pageviews[0].timestamp<1597909061)&&(t.pageviews=[]),200<t.pageviews.length&&(t.pageviews=t.pageviews.slice(-200)),t.pageviews)if(parseInt(t.pageviews[e].postId)===BoredPanda.Config.postId)return 0;var i=this.createCurrentPageView();return t.pageviews.push(i),this.saveStorageContents(t),i},addSkippedPosts:function(e){if(e&&0!==e.length){var t,i=this.getStorageContents(),o=(void 0!==i.skipped_posts&&Array.isArray(i.skipped_posts)||(i.skipped_posts=[]),this._unixTimestamp()),n=this.getUniquePostIds();for(t in e){var a=parseInt(e[t]);-1===n.indexOf(a)&&i.skipped_posts.push({id:a,timestamp:o})}this.saveStorageContents(i)}},getSkippedPosts:function(){var e=this.getStorageContents();if(void 0===e.skipped_posts||!Array.isArray(e.skipped_posts))return[];var t,i=[];for(t in e.skipped_posts){var o=e.skipped_posts[t];void 0!==o.id&&i.push(o.id)}return i},setRecommendationsAsSeen:function(e){var t,i=this.getStorageContents();for(t in void 0===i.showed_recommendations&&(i.showed_recommendations=[]),e){var o=e[t];-1===i.showed_recommendations.indexOf(o)&&i.showed_recommendations.push(o)}100<i.showed_recommendations.length&&(i.showed_recommendations=i.showed_recommendations.slice(-100)),this.saveStorageContents(i)},getSeenRecipePosts:function(){var e=this.getStorageContents();return void 0!==e.showed_recipe_posts&&Array.isArray(e.showed_recipe_posts)?e.showed_recipe_posts:[]},setVisibleRecommendationsAsSeen:function(){var e=[];BoredPanda.Config.isMobileWidth?$(".post-recommendations-main-block section.recommended-posts article").slice(0,3).each(function(){e.push($(this).attr("data-post-id"))}):$(".post-recommendations-main-block section.recommended-posts article").each(function(){e.push(parseInt($(this).attr("data-post-id")))}),this.setRecommendationsAsSeen(e)},getSeenRecommendations:function(){var i,e=this.getStorageContents();return void 0===e.showed_recommendations?[]:(e=e.showed_recommendations,i=[],$.each(e,function(e,t){i.push(parseInt(t))}),i)},getUniquePostIds:function(e){var t,i=[],o=("pageviews"===(e=e||"finished_reading")&&(i=this.getPageViews()),{});for(t in i="finished_reading"===e?this.getFinishedReading():i){var n=i[t];o[parseInt(n.postId)]=1}var e=Object.keys(o),a=[];return $.each(e,function(e,t){a.push(parseInt(t))}),a},getPageViews:function(){return this.available?this.getStorageContents().pageviews:[]},getFinishedReading:function(){var e=this.getStorageContents();return void 0===e.finished_reading?[]:e.finished_reading},getUnfinishedPosts:function(){var e=this.getUniquePostIds(),t=this.getUniquePostIds("pageviews");return $(t).not(e).get()},getStorageContents:function(){var e;return this.available?(e=JSON.parse(localStorage.getItem(this.STORAGE_KEY)),this.afterGettingStorageContents(e)):{}},afterGettingStorageContents:function(e){var t=this._unixTimestamp(),i=[];if(void 0!==e.skipped_posts)for(var o in e.skipped_posts){o=e.skipped_posts[o];void 0!==o.timestamp&&o.timestamp+43200>t&&i.push(o)}return e.skipped_posts=i,e},saveStorageContents:function(e){this.available&&localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))},createCurrentPageView:function(){return{timestamp:(new Date).getTime()/1e3,url:location.pathname+location.search,postId:parseInt(BoredPanda.Config.postId)}},testStorageAvailability:function(){var e="foobar";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}},_unixTimestamp:function(){return Math.floor((new Date).getTime()/1e3)}},$(document).ready(function(){BoredPanda.Analytics.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Tracking={PAGE_REGION_TOP:"page-top",PAGE_REGION_CONTENT:"in-content",PAGE_REGION_CONTENT_BOTTOM:"content-bottom",PAGE_REGION_BOTTOM:"page-bottom",init:function(){var e,t=this;t.postsWithStickyFooterTracked=[],t.postsProgressTracked=[],t.postsMiddlePorgressTracked=[],t.postContentBottomThreshold=void 0,BoredPanda.Config.isStaffMember||void 0!==BoredPanda.Config.postJson||t.trackAddPostInputs();t.trackDarkMode(),t.trackDetectColorScheme(),t.trackStaffLinks(),t.trackElem(".presented-turkish-airlines .turkish-airlines-logo","Ads","Turkish Airlines"),t.trackElem(".bp-jobs-banner","Ads","BoredPanda Job Ad"),t.trackElem(".sidebar .sidebar-top .newsletter-form .btn",e="Newsletter Form","Sidebar Top"),t.trackElem(".sidebar .sticky .newsletter-form .btn",e,"Sidebar Bottom Sticky"),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),location.origin.length>=location.href.length-1?$(".bottom-bar-share-button").each(function(){t.trackElem(this,"Facebook","Home Page Share")}):($(".bottom-bar-share-button.fb-custom-share, .bottom-bar-share-button.fb-custom-share-mobile").each(function(){t.trackElem(this,"Facebook","Post Footer Share")}),$(".bottom-bar-share-button.pinterest-custom-share").each(function(){t.trackElem(this,"Pinterest","Desktop Post Bottom Bar")})),t.trackClick(".facebook-page-promotion .share-button",e="Facebook","In Content Fan Banner Mobile"),t.trackClick(".facebook-page-promotion .fb-page-title a",e,"In Content Fb Page Link"),t.trackClick(".facebook-page-promotion .fb-page-image",e,"In Content Fb Page Link"),t.trackClick(".facebook-page-promotion-text h3 a",e,"In Content Fb Page Link"),t.trackClick(".sidebar .social-buttons .facebook .link",e="Sidebar Social Buttons","Facebook"),t.trackClick(".sidebar .social-buttons .gplus .link",e,"Pinterest"),t.trackClick(".sidebar .social-buttons .gplus .social-widget",e,"Pinterest"),t.trackClick(".sidebar .social-buttons .twitter .link",e,"Twitter"),t.trackClick(".post .post-submission-line.post-footer .add-post-link",e="Add Post Button","Submission In Content"),t.trackClick(".header .add-post-top-button",e,"Submission Top Bar"),t.trackClick(".header .add-post-menu-button",e,"Submission User Menu"),t.trackClick(".header .mobile .add-post-tablet",e,"Submission Tablet Portrait"),t.trackClick(".single-post-author .author-communication-line .learn-more",e,"Success Stories Below Post"),t.trackClick(".app-promotion .updated .ios-app .install-block .install-button",e="iOS app","custom widget"),t.trackClickDelegated(".top-message",".ios-download-desktop-top-link",e,"top desktop message"),t.trackClick(".sticky-bottom .get-app .get-ios-app",e,"Desktop Sidebar"),t.trackClick(".get-app.sidebar-top .get-ios-app",e,"Desktop Sidebar Top"),t.trackClick(".app-promotion .updated .android-app .install-block .install-button",e="Android app","custom widget"),t.trackClick(".sticky-bottom .get-app .get-android-app",e,"Desktop Sidebar"),t.trackClick(".get-app.sidebar-top .get-android-app",e,"Desktop Sidebar Top"),t.trackClick(".sticky-bottom .get-app .sidebar-gnews-promotion",e="Google News","Desktop Sidebar"),t.trackClick(".post-submission-line.post-footer.post-footer-gnews-promotion",e,"post bottom"),t.trackElem(".header .logotype a",e="Navigation","Homepage",!1,!0),t.trackElem(".top-level-navigation li:not('.more') a",e,"Top Bar Categories",!1,!0),t.trackElem(".top-level-navigation li.more a",e,"Top Bar More",!1,!0),t.trackElem(".top-categories .popular",e,"Top Bar Popular",!1,!0),t.trackElem(".top-categories a.trending",e,"Top Bar Trending",!1,!0),t.trackElem(".top-categories a.latest",e,"Top Bar Latest",!1,!0),t.trackElem(".top-categories a.newsletter",e,"Top Bar Newsletter",!1,!0),t.trackElem(".header .nav.right a",e,"Top Bar Right Action",!1,!0),t.trackElem(".header .mobile .logotype",e,"Homepage",!1,!0),t.trackElem(".responsive-sub-menu ul li a",e,"Top Bar Categories",!1,!0),t.trackElem(".mobile-category-list li.popular a",e,"Top Bar Popular",!1,!0),t.trackElem(".mobile-category-list li.trending a",e,"Top Bar Trending",!1,!0),t.trackElem(".mobile-category-list li.latest a",e,"Top Bar Latest",!1,!0),t.trackElem(".header .mobile.bp-container .search ",e,"Top Bar Right Action",!1,!0),t.trackElem(".header .mobile.bp-container .notifications",e,"Top Bar Right Action",!1,!0),t.trackElem(".header .mobile.bp-container .add-post",e,"Top Bar Right Action",!1,!0),t.trackElem(".header .mobile.bp-container .my-menu",e,"Top Bar Right Action",!1,!0),t.trackElem(".header .mobile.bp-container .submenu a",e,"Top Bar Right Action",!1,!0),t.trackElem(".post .post-header .post-cover-container a",e,"Feed Cover Image"),t.trackElem(".posts .post h2 a",e,"Feed Title"),BoredPanda.Config.isHome&&(t.trackElem(".post .post-header .post-cover-container a",e,"Homepage Cover Image"),t.trackElem(".posts .post h2 a",e,"Homepage Title")),t.trackClick(".nav-right .my-pandas-menu",e="My Pandas","User Navigation","desktop"),t.trackClick(".header .mobile.bp-container .submenu .my-pandas-menu",e,"User Navigation","mobile"),t.trackClick(".single-post-author .author-info-block .follow",e,"Follow","post bottom"),t.trackClick(".single-post-author .author-info-block .unfollow",e,"Unfollow","post bottom"),t.trackClick(".author-follow-tooltip .follow",e,"Follow","comments"),t.trackClick(".author-follow-tooltip .unfollow",e,"Unfollow","comments"),t.trackClick(".author.archive .author-info-header .author-info-container.visible-downto-m .follow",e,"Follow","author page desktop"),t.trackClick(".author.archive .author-info-header .author-info-container.visible-downto-m .unfollow",e,"Unfollow","author page desktip"),t.trackClick(".author.archive .author-info-header .author-info-container.mobile-follow .follow",e,"Follow","author page mobile"),t.trackClick(".author.archive .author-info-header .author-info-container.mobile-follow .unfollow",e,"Unfollow","author page mobile"),t.trackElem(".subscribe-form .input-group .subscribe-button","Mobile Newsletter","Newsletter Submit"),t.trackClick(".author-info-contact-author a","Contact Author","Contact"),t.trackClick(".post-content .read-more-block .read-more-button","Post","Read More"),t.trackClick(".sharebar .vote-panel.vote-post .btn-up","Votes","Sharebar","up",!0,!0),t.trackClick(".sharebar .vote-panel.vote-post .btn-down","Votes","Sharebar","down",!0,!0),t.trackClick(".post-info-block.mobile .vote-panel.vote-post .btn-up","Votes","Mobile Post Bottom","up",!0),t.trackClick(".post-info-block.mobile .vote-panel.vote-post .btn-down","Votes","Mobile Post Bottom","down",!0),t.trackClickDelegated("main.bp-container","footer.footer .vote-panel.vote-post .btn-up","Votes","Post Footer","up",!0),t.trackClickDelegated("main.bp-container","footer.footer .vote-panel.vote-post .btn-down","Votes","Post Footer","down",!0),t.trackClickDelegated("main.bp-container",".fixed-bottom-overlay.socialbar .vote .btn-up","Votes","Mobile Footer","up",!0,!1,!0),t.trackClickDelegated("main.bp-container",".fixed-bottom-overlay.socialbar .vote .btn-down","Votes","Mobile Footer","down",!0,!1,!0),t.trackClickDelegated("main.bp-container",".comment-container .comment .vote .btn-up","Votes","Comment","up",!0),t.trackClickDelegated("main.bp-container",".comment-container .comment .vote .btn-down","Votes","Comment","down",!0),t.trackClickDelegated("main.bp-container",".open-list-footer .vote .btn-up","Votes","Open List Submission","up",!0),t.trackClickDelegated("main.bp-container",".open-list-footer .vote .btn-down","Votes","Open List Submission","down",!0),t.trackClickDelegated("main.bp-container",".comment-add-block .post-comment","Comment","Post Comment","Top Level",!0),t.trackClickDelegated("main.bp-container",".comment-container .comment-add-block .post-comment","Comment","Post Comment","Reply",!0),t.trackClickDelegated("main.bp-container",".entry .open-list-item h2.open-list-header a","Open List","Submission Heading","click",!0),t.trackClickDelegated("main.bp-container",".append-open-list .publish-button","Open List","Add Submission Desktop","submit",!0),t.trackClickDelegated("main.bp-container",".append-open-list.mobile .post-button","Open List","Add Submission Mobile","submit",!0),t.trackClickDelegated("main.bp-container",".open-list-pagination-block .open-list-pagination-new a.pagination","Open List","Show More","click"),t.trackClickDelegated("main.bp-container",".open-list-pagination-block .open-list-pagination-new a.open-list-pagination-previous","Open List","Show Previous","click"),t.trackClickDelegated("main.bp-container",".open-list-pagination-block .open-list-pagination-new a.open-list-pagination-first","Open List","Show First","click"),t.trackClick(".open-list-full-list-link","Open List","Show Full Post","click"),t.trackClickDelegated("main.bp-container",".single-post-pagination-block .single-post-pagination-new a.pagination","Post","Show More","click"),t.trackClickDelegated("main.bp-container",".single-post-pagination-block .single-post-pagination-new a.single-post-pagination-previouss","Post","Show Previous","click"),t.trackClickDelegated("main.bp-container",".single-post-pagination-block .single-post-pagination-new a.single-post-pagination-first","Post","Show First","click"),t.trackClick(".sidebar .staff-stats-box.users-banner .create-challenge","Challenges","Sidebar Banner","click"),t.trackClick("#scrollToTopDesktop","ScrollTop","Desktop Scroll To Top Button","desktop"),t.trackClick(".more-on-this .suggestion-title","More on This","More on this suggestion click","click"),t.trackClick("#videoCategoryLink","VideosLink","Videos link in categories list","click"),t.trackClick("#videoCategoryLinkMobile","VideosLink","Videos link in categories list Mobile","click"),"com"===BoredPanda.Config.bpVersion&&t.trackPostCommentTitle(),t.trackFooterShares(),t.trackStickyFooter(),t.trackPostProgress(),t.trackAdClicks(),t.trackAuthorInvitationInvitees(),t.trackLoginFormButtons(),t.trackImageSharesByDevice(),t.trackYoutubeSubscribe(),t.trackImageRightClicks(),t.trackRecommendations(),t.trackAds(),t.trackPWA(),t.trackCarousel(),t.trackWebShare(),t.trackCTA(),t.trackPageScroll(),BoredPanda.Config.isStaffMember||t.trackSwiper(),BoredPanda.Config.isTabletWidth?(t.trackClick(".single-image-template .horizontal-fb-share","Facebook","Single Image Share Button Mobile"),t.trackClick(".single-image-template .post-info-block .vote-panel.vote-post .btn-up","Votes","Single Image Vote Mobile","up",!0),t.trackClick(".single-image-template .post-info-block .vote-panel.vote-post .btn-down","Votes","Single Image Vote Mobile","down",!0)):(t.trackClick(".single-image-template .fb-custom-share.bottom-bar-share-button","Facebook","Single Image Share Button Desktop"),t.trackClick(".single-image-template .footer .vote-panel.vote-post .btn-up","Votes","Single Image Vote Desktop","up",!0),t.trackClick(".single-image-template .footer .vote-panel.vote-post .btn-down","Votes","Single Image Vote Desktop","down",!0)),BoredPanda.Utils.getParameterByName("pageid")&&t.trackInviteeClicks(),$(document).on("fbload",function(){t.trackFacebook()})},sendHJEvent:function(e){"undefined"!=typeof hj&&hj("event",e)},trackStickyBars:function(){const o=this;$(".sticky-bar:visible").each(function(e,t){t=$(t).attr("data-version");o.sendGA4Event("Mobile sticky bar",t,"loaded")});let n=!1;$(".sticky-bar .bar a").on("click",function(e){var t=$(this).attr("data-element"),i=$(this).closest(".sticky-bar").attr("data-version");n||(n=!0,o.sendGA4Event("Mobile sticky bar",i+"_"+t,"clicked"))})},trackSwiper:function(){const o=this;var e=0===$('.shareable-post-image[data-image-ctr-fixed="false"]').length?"optimized":"training";const i=parseInt(BoredPanda.Config.swiperExperimentVariant)?"lictr_var_"+e+"_"+BoredPanda.Config.openListId:"lictr_base_"+BoredPanda.Config.openListId,n=$('.shareable-post-image[data-has-additional-image="1"]').length;n&&o.sendGA4Event(i,"load"),$(".swiper").bind("inview",function(e,t){var i=$(this).closest('.shareable-post-image[data-image-ctr-fixed="true"]').length;t&&void 0!==$(this).attr("data-submission-id")&&"false"!==$(this).attr("data-track-impression")&&!i&&($(this).attr("data-track-impression",!1),t=$(this).attr("data-submission-id"),i=$(this).find(".swiper-slide-active img").attr("src"),o.sendSimpleGA4Event("swiper_seen",{post_id:t,image:i.split("/").pop()}))}),$(".shopping-buy-it-now-button, .buy-it-now-button").on("click",function(){var e=$(event.currentTarget).data().postId,e=$('.swiper[data-submission-id="'+e+'"] .swiper-slide-active img').attr("src"),t=$(event.currentTarget).closest('.shareable-post-image[data-image-ctr-fixed="true"]').length;e&&!t&&o.sendSimpleGA4Event("swiper_cta_click",{post_id:$(event.currentTarget).data().postId,image:e.split("/").pop()}),n&&o.sendGA4Event(i,"click")})},trackRecommendations:function(){let o=this;$(".bp-recommendations").each(function(e,t){var i=$(t).attr("data-type");i&&0<$(t).height()&&"true"!==!$(t).attr("data-loaded")&&($(t).attr("data-loaded",!0),o.sendGA4Event("Recommendations",i,"loaded"),o.sendHJEvent("rec_"+i+"_loaded"))}),$(".bp-recommendations").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&0<$(this).height()&&((t=$(this).attr("data-type"))&&(o.sendGA4Event("Recommendations",t,"viewed"),o.sendHJEvent("rec_"+t+"_viewed")),$(this).attr("data-viewed",!0))}),$(".bp-recommendations .recommendations-training-variant-1").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-article-viewed")&&0<$(this).height()&&(t=parseInt($(this).attr("data-post-id")),1===parseInt($(this).attr("data-recommendations-variant"))&&o.sendGA4Event("Recs","training","impression",{post_id:t}),$(this).attr("data-article-viewed",!0))}),$(document).on("mousedown",".bp-recommendations .recommendations-training-variant-1",function(){var e=parseInt($(this).attr("data-post-id"));1===parseInt($(this).attr("data-recommendations-variant"))&&o.sendGA4Event("Recs","training","click",{post_id:e})}),$(document).on("mousedown",".bp-recommendations article",function(){var e=$(this).closest(".bp-recommendations").attr("data-type");o.trackEvent("Recommendations",e,"clicked"),o.sendHJEvent("rec_"+e+"_clicked")})},trackPostReviews:function(e){let a=this;e=e||document,$(e).find("#bp-post-review-block").each(function(){a.sendGA4Event("post","review","loaded"),a.sendHJEvent("post_review_loaded")}),$(e).find("#bp-post-review-block").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&(a.sendGA4Event("post","review","viewed"),a.sendHJEvent("post_review_viewed"),$(this).attr("data-viewed",!0))}),$(e).on("mousedown","#bp-post-review-block .bp-post-review-body .bp-post-review-body-review-icon",function(){var e=$(this).attr("data-value");a.sendGA4Event("post","review","rate1",{score:e}),a.sendHJEvent("post_review_rate1_"+e)}),$(e).on("mousedown","#bp-post-review-block .bp-post-review-body-expanded .bp-post-review-body-expanded-submit-button",function(){var e=$(this).closest(".bp-post-review-body-expanded").find(".bp-post-review-research .bp-post-review-body-expanded-button.active").text(),t=$(this).closest(".bp-post-review-body-expanded").find(".bp-post-review-readability .bp-post-review-body-expanded-button.active").text(),i=$(this).closest(".bp-post-review-body-expanded").find(".bp-post-review-topic .bp-post-review-body-expanded-button.active").text(),o=$(this).closest(".bp-post-review-body-expanded").find(".bp-post-review-body-expanded-comment").val(),n=$(this).closest(".bp-post-review-body-expanded").find(".bp-post-review-body-expanded-improve-suggestion.active").length;a.sendGA4Event("post","review","rate2",{score:e}),a.sendGA4Event("post","review","rate3",{score:t}),a.sendGA4Event("post","review","rate4",{score:i}),a.sendGA4Event("post","review","comment",{comment:!!o}),a.sendGA4Event("post","review","suggestions",{count:n}),a.sendGA4Event("post","review","done"),a.sendHJEvent("post_review_rate2_"+e),a.sendHJEvent("post_review_rate3_"+t),a.sendHJEvent("post_review_rate4_"+i),a.sendHJEvent("post_review_comment_"+!!o),a.sendHJEvent("post_review_suggestions_"+n),a.sendHJEvent("post_review_done")}),$(e).on("mousedown","#bp-post-review-block .bp-post-review-header-back",function(){a.sendGA4Event("post","review","back"),a.sendHJEvent("post_review_back")})},trackAds:function(){let i=this;$(".dfp-ad").each(function(e,t){var t=$(t).find(".pg-loaded");0<t.length&&!$(t).attr("data-loaded")&&($(t).attr("data-loaded",!0),t=t[0].id,i.sendGA4Event("ad","loaded","",{name:t}),i.sendHJEvent("ad_"+t+"_loaded"))}),$(".dfp-ad .pg-loaded").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&0<$(this).height()&&((t=this.id)&&(i.sendGA4Event("ad","viewed","",{name:t}),i.sendHJEvent("ad_"+t+"_viewed")),$(this).attr("data-viewed",!0))});{focus();const t=window.addEventListener("blur",()=>{var e;"IFRAME"===document.activeElement.nodeName&&void 0!==document.activeElement.closest(".pg-loaded")&&(e=document.activeElement.closest(".pg-loaded")?.id,i.sendGA4Event("ad","clicked","",{name:e}),i.sendHJEvent("ad_"+e+"_clicked")),window.removeEventListener("blur",t),focus()})}BoredPanda.Scroll.scrollCallback.add(function(){document.querySelectorAll("#primis_container_div")?.forEach(function(e,t){$(e).attr("data-loaded")||($(e).attr("data-loaded",!0),i.sendGA4Event("ad","loaded","",{name:"primis"}),i.sendHJEvent("ad_primis_loaded"),e.querySelector("video")?.addEventListener("play",function(){"true"!==$(this).attr("data-clicked")&&($(this).attr("data-clicked",!0),i.sendGA4Event("ad","clicked","",{name:"primis"}),i.sendHJEvent("ad_primis_clicked"))}),$(e).bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&0<$(this).height()&&(i.sendGA4Event("ad","viewed","",{name:"primis"}),i.sendHJEvent("ad_primis_viewed"),$(this).attr("data-viewed",!0))}))})}),window.freestar=window.freestar||{},freestar.queue=freestar.queue||[],freestar.queue.push(function(){const t=e=>{"boredpandacom_stickyfooter"!==e.slot.getSlotElementId()&&"boredpandaes_anchor"!==e.slot.getSlotElementId()||(googletag.pubads().removeEventListener("slotRenderEnded",t),0<(e=document.querySelectorAll("#fs-slot-footer-wrapper > button")).length&&e[0].addEventListener("click",function(){i.sendSimpleGA4Event("anchor_closed")}))};googletag.pubads().addEventListener("slotRenderEnded",t)})},trackPostCommentTitle:function(){var i=this;$("#post-comments span").bind("inview",function(e,t){t&&void 0!==BoredPanda.Analytics&&"true"!==$(this).attr("data-seen")&&(t=$(this).text(),$(this).attr("data-seen","true"),i.trackEvent("Comment Title","Seen",t))})},trackPWA:function(){const t=this;window.addEventListener("appinstalled",()=>{t.trackEvent("PWA","app","install")}),window.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(display-mode: standalone)").addListener(e=>{e.matches?t.trackEvent("PWA","app","transfer"):t.trackEvent("PWA","browser","transfer")})})},trackLoginFormButtons:function(){var e="Login form";this.trackClickDelegated("body",".login-form .fb-login",e,"Facebook"),this.trackClickDelegated("body",".login-form .google-login",e,"Google"),this.trackClickDelegated("body",".login-form .links .btn-primary",e,"Login Email"),this.trackClickDelegated("body",".signup-form .links .btn-primary",e,"Sign Up Submit"),this.trackClickDelegated("body",".login-form .links .sign-up-link",e,"Sign Up"),this.trackClickDelegated("body",".add-post-login .fb-login",e="Add Post Login Form","Facebook"),this.trackClickDelegated("body",".add-post-login .google-login",e,"Google"),this.trackClickDelegated("body",".add-post-login .login-form .links .submit-button",e,"Login Email"),this.trackClickDelegated("body",".add-post-login .signup-form .links .submit-button",e,"Sign Up"),this.trackClickDelegated("body",".add-post-login .login-form .sign-up-link a",e,"Sign Up Link in Log In Form"),this.trackClickDelegated("body",".add-post-login .signup-form .login-link a",e,"Log In Link in Sign Up Form")},trackFooterShares:function(){var e="Post footer shares",t="mobile";this.trackClickDelegated("body",".shares.mobile .horizontal-fb-share",e,"Facebook",t),this.trackClickDelegated("body",".small-social-icons a.whatsapp",e,"Whatsapp",t),this.trackClickDelegated("body",".small-social-icons a.email",e,"Email Sharing",t),this.trackClickDelegated("body",".small-social-icons a.pintrest",e,"Pinterest",t),this.trackClickDelegated("body",".small-social-icons a.twitter",e,"Twitter",t),this.trackClickDelegated("body",".small-social-icons a.gplus",e,"G Plus",t),this.trackClickDelegated("body",".post-shares-footer.mobile .fb-footer-share",e,"Facebook",t),this.trackClickDelegated("body",".post-shares-footer.mobile .email-footer-share",e,"Email Sharing",t),this.trackClickDelegated("body",".post-shares-footer.mobile .pinterest-footer-share",e,"Pinterest",t),this.trackClickDelegated("body",".post-shares-footer.mobile .beloud-footer-share",e,"Beloud",t),this.trackClickDelegated("body",".post-shares-footer.mobile .twitter-footer-share",e,"Twitter",t),this.trackClickDelegated("body",".post-shares-footer.mobile .additional-shares-row.whatsapp",e,"Whatsapp",t),this.trackClickDelegated("body",".post-shares-footer.mobile .additional-shares-row.tumblr",e,"Tumblr",t),this.trackClickDelegated("body",".post-shares-footer.mobile .additional-shares-row.twitter",e,"Twitter",t),this.trackClickDelegated("body",".post-shares-footer.mobile .additional-shares-row.beloud",e,"Beloud",t),this.trackClickDelegated("body",".post-shares-footer.mobile .additional-shares-row.email",e,"Email Sharing",t),this.trackClickDelegated("body",".post-shares-footer.mobile .additional-shares-row.sms",e,"Sms",t),this.trackClickDelegated("body",".post-shares-footer.mobile .shares-newsletter-sign-up .form .sign-up",e,"Newsletter Sign Up",t),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .fb-footer-share",e,"Facebook",t="desktop"),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .email-footer-share",e,"Email Sharing",t),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .pinterest-footer-share",e,"Pinterest",t),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .tumblr-footer-share ",e,"Tumblr",t),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .twitter-footer-share ",e,"Twitter",t),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .beloud-footer-share ",e,"Beloud",t),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .google-footer-share ",e,"Google Plus",t),this.trackClickDelegated("body",".post-shares-footer:not(.mobile) .reddit-footer-share ",e,"Reddit",t)},trackPageview:function(e,t){this.sendGA4Event(category,t,finalLabel)},trackAdClicks:function(){const e=this;$("main.bp-container").on("click",".outbrain-widget .ob-dynamic-rec-container",function(){e.trackEvent("Ads","Post Bottom Outbrain","click")}),$("div.cover-banner").on("click",".bp-container .backup-ad",function(){e.trackEvent("Ads","970x250 clickbank","click")})},trackImageRightClicks:function(){const t=this;$(document).on("contextmenu",".shareable-post-image",function(e){t.trackEvent("Image","Post Image Right Click","click")})},trackAdImpression:function(e,t){this.sendGA4Event(e,t,"impression")},trackFacebook:function(){var o=this;FB.Event.subscribe("comment.create",function(){o.trackEvent("Comment","Post Facebook Comment","click")}),FB.Event.subscribe("edge.create",function(e,t){var i="Facebook";$(".post .right .fb-like")[0]===t?o.trackEvent(i,"Post Top Right Like","click"):$(".sharebar .fb-like")[0]===t?o.trackEvent(i,"Post Sharebar Like","click"):$(".post .footer .fb-like")[0]===t?o.trackEvent(i,"Post Footer Like","click"):$(".top-message .fb-like")[0]===t?o.trackEvent(i,"Spanish Message Like","click"):$(".bottom-bar-facebook .fb-like")[0]===t?o.trackEvent(i,"Fixed Bottom Bar Fan","click"):$(".single-image-template .footer .left .fb-like")[0]===t?o.trackEvent(i,"Single Image Share Button Desktop","click"):$(".single-image-template .post-info-block .right .fb-like")[0]===t?o.trackEvent(i,"Single Image Share Button Mobile","click"):$(".facebook-block .like-block .fb-like")[0]===t?o.trackEvent(i,"Mobile Fan Bottom","click"):t.classList.contains("post-bottom-fb-like-bpanimals")||$(".facebook-page-promotion-text .native-fb-like .fb-like")[0]===t?o.trackEvent(i,"In Content Fan Banner","click"):$(".fb-mobile-page-like-widget .install-block .fb-like")[0]===t?(o.trackEvent(i,"Mobile Fixed Top Widget","click"),$.cookie("disablefbmobilewidget","1",{expires:60,path:"/"}),$(".app-promotion").remove()):$(".fixed-bottom-facebook-widget .fb-like")[0]===t?(o.trackEvent(i,"Desktop Fixed Bottom Widget","click"),$.cookie("disablefbdesktopwidget","1",{expires:60,path:"/"}),$(".fixed-bottom-facebook-widget").remove()):$(".sidebar .social-buttons .social-widget .fb-like")[0]===t&&o.trackEvent("Sidebar Social Buttons","Facebook","click")}),"undefined"!=typeof twttr&&twttr.ready(function(e){e.events.bind("follow",function(e){$(e.target.parentElement).hasClass("install-block")?o.trackEvent("Twitter","Mobile Fixed Top Widget","click"):$(e.target.parentElement).hasClass("sidebar-twitter-follow")&&o.trackEvent("Sidebar Social Buttons","Twitter","click")})}),o.trackClick(".fb-mobile-page-like-widget .close-icon","Facebook","Mobile Fixed Top Widget","close"),o.trackClick(".twitter-mobile-page-like-widget .close-icon","Twitter","Mobile Fixed Top Widget","close"),o.trackClick(".fixed-bottom-facebook-widget .widget-block .modal-close","Facebook","Desktop Fixed Bottom Widget","close"),o.trackClick(".fixed-bottom-facebook-widget .widget-block .close-text","Facebook","Desktop Fixed Bottom Widget","no")},trackClick:function(e,i,o,n,a,s){void 0===n&&(n="click");var r=this;$(e).on("mousedown",function(){var e,t;a&&!BoredPanda.Config.isLoggedIn||(s=s||!1,new Object(n),e={},s&&""!==(t=r.getCurrentPageRegion())&&(e.region=t),r.sendGA4Event(i,o,n,e))})},trackClickDelegated:function(e,t,i,o,n,a,s,r){void 0===n&&(n="click"),s=s||!1,r=r||!1;var l=this;$(e).on("mousedown",t,function(){var e,t;a&&!BoredPanda.Config.isLoggedIn||(t=new Object(n),t=!s||979<$(window).width()?t:t+"-mobile",r&&""!==(e=l.getCurrentPageRegion())&&(t=t+"-"+e),l.sendGA4Event(i,o,t+=""))})},trackImpression:function(e,t,i){const o=this;$(e).each(function(){o.sendGA4Event(t,i,"impression")})},trackElem:function(e,t,i,o,n){var a=this;$(e).each(function(){a.trackClick(this,t,i,"click",o,n)})},trackDarkMode:function(){var e;BoredPanda.Config.detectColorScheme||(e="dark_mode_tracked",sessionStorage.getItem(e)||(sessionStorage.setItem(e,"1"),BoredPanda.Config.darkMode?BoredPanda.Tracking.sendSimpleGA4Event("dark_mode_on"):BoredPanda.Tracking.sendSimpleGA4Event("dark_mode_off")))},trackDetectColorScheme:function(){var e;BoredPanda.Config.detectColorScheme&&(e="detect_color_scheme_tracked",sessionStorage.getItem(e)||(sessionStorage.setItem(e,"1"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?BoredPanda.Tracking.sendSimpleGA4Event("dark_mode_prefers_dark"):BoredPanda.Tracking.sendSimpleGA4Event("dark_mode_prefers_light")))},trackStaffLinks:function(){const e=".staff-link";$(document).ready(function(){0<$(e).length&&BoredPanda.Tracking.sendSimpleGA4Event("staff_link_load")}),$(e).on("click",function(){var e=$(this).attr("href");BoredPanda.Tracking.sendSimpleGA4Event("staff_link_click",{value:e})}),$(e).bind("inview",function(e,t){t&&0<$(this).height()&&($(".staff-link").unbind("inview"),BoredPanda.Tracking.sendSimpleGA4Event("staff_link_seen"))})},trackPostProgress:function(){var i,e=this.getCurrentPostFromUrl();void 0!==e&&""!==e&&(i=this,$(".post-submission-line .app-store-link").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&$(this).is(":visible")&&void 0!==BoredPanda.Analytics&&($(this).attr("data-viewed",!0),t=$(this).attr("data-name"),i.trackEvent(t,"Post Bottom","Seen"))}),$(".sidebar .sticky-bottom .get-app a").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&$(this).is(":visible")&&void 0!==BoredPanda.Analytics&&($(this).attr("data-viewed",!0),t=$(this).attr("data-name"),i.trackEvent(t,"Sidebar bottom","Seen"))}))},trackCarousel:function(){$(".boredpanda-carousel-widget").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&$(this).is(":visible")&&(t=$(this).attr("data-type"),$(this).attr("data-viewed",!0),gtag("event","hp_"+t+"_carousel-seen",{}))}),$(".boredpanda-carousel-widget .boredpanda-carousel-footer").click(function(){var e=$(this).closest(".boredpanda-carousel-widget").attr("data-type");gtag("event","hp_"+e+"_carousel-click_more",{})}),$(".boredpanda-carousel-widget .boredpanda-carousel-logo").click(function(){var e=$(this).closest(".boredpanda-carousel-widget").attr("data-type");gtag("event","hp_"+e+"_carousel-click_news_tag",{})}),$(".boredpanda-carousel-widget .boredpanda-carousel-post a.title, .boredpanda-carousel-widget .boredpanda-carousel-post .post-cover-container a").click(function(){var e=$(this).closest(".boredpanda-carousel-widget").attr("data-type");gtag("event","hp_"+e+"_carousel-click_post",{})})},trackWebShare:function(){let i=[],o=($(".web-share-button:visible").each(function(e,t){t=$(t).attr("data-location");-1===i.indexOf(t)&&(i.push(t),gtag("event","social-var-"+t+"-load",{}))}),[]),t=($(".web-share-button").bind("inview",function(e,t){var i=$(this).attr("data-location");-1===o.indexOf(i)&&t&&"true"!==$(this).attr("data-viewed")&&$(this).is(":visible")&&(o.push(i),$(this).attr("data-viewed",!0),gtag("event","social-var-"+i+"-seen",{}))}),[]);$(".web-share-button").on("click",function(){var e=$(this).attr("data-location");-1===t.indexOf(e)&&"true"!==$(this).attr("data-clicked")&&(t.push(e),$(this).attr("data-clicked",!0),gtag("event","social-var-"+e+"-click",{}))})},trackCTA:function(){let n=this,a=[];$(document).on("click",".shopping-description-block a, .submission-description a, .open-list-submission-source, .open-list-post-description a, .buy-it-now-button, .shopping-buy-it-now-button",function(){var t=$(this).attr("href");if(-1!==t.indexOf("amazon.")&&-1===a.indexOf(t)){var i=BoredPanda.Utils.getParameterByName("tag",t)||"",o=new RegExp(/(dp\/)([A-Z0-9]{10})/).exec(t);let e="";o&&(e=o[2]),a.push(t),n.sendSimpleGA4Event("shopping_cta_click",{amazon_aff_id:i,amazon_item_id:e})}})},trackPageScroll:function(){if(BoredPanda.Config.postId){const i=this;BoredPanda.Scroll.scrollCallback.add(function(){[10,20,30,40,50,60,70,80,90].forEach(function(e){var t="scroll-"+e+"-tracked";$("body").data(t)||e<($(document).scrollTop()+$(window).height())/$(document).height()*100&&($("body").data(t,!0),i.sendSimpleGA4Event("scroll_"+e+"%"))});var e=$("body").data("scroll-100-tracked");e||100==($(document).scrollTop()+$(window).height())/$(document).height()*100&&($("body").data("scroll-100-tracked",!0),i.sendSimpleGA4Event("scroll_100%+recs")),$(".single-post-author").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&0<$(this).height()&&(i.sendSimpleGA4Event("scroll_100%"),$(this).attr("data-viewed",!0))}),$("#post-comments-area").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&0<$(this).height()&&(i.sendSimpleGA4Event("scroll_100%+coms"),$(this).attr("data-viewed",!0))})})}},getCurrentPageRegion:function(){var e,t;return 0===BoredPanda.Config.postId?"":(e=$(window).scrollTop())<=350?this.PAGE_REGION_TOP:(t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),void 0!==this.postContentBottomThreshold&&e>=this.postContentBottomThreshold-.8*t&&e<=this.postContentBottomThreshold+.25*t?this.PAGE_REGION_CONTENT_BOTTOM:void 0!==this.postContentBottomThreshold&&e>=this.postContentBottomThreshold+.25*t?this.PAGE_REGION_BOTTOM:this.PAGE_REGION_CONTENT)},trackStickyFooter:function(e){if(!($(document).width()<=979))return!1;void 0===e&&(e=(e=window.location.pathname).substr(1,e.length-2)),-1<this.postsWithStickyFooterTracked.indexOf(e)||(this.postsWithStickyFooterTracked.push(e),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay.bottom-bar-newsletter a',"Newsletter Form","Mobile Fixed Bottom Bar"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .share-button .facebook',"Mobile Fixed Bottom Bar Share","Facebook"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .share-button .twitter',"Mobile Fixed Bottom Bar Share","Twitter"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .share-button .whatsapp',"Mobile Fixed Bottom Bar Share","Whatsapp"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .share-button .pinterest',"Mobile Fixed Bottom Bar Share","Pinterest"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .share-button .email',"Mobile Fixed Bottom Bar Share","Email"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .instagram-follow-button .instagram',"Mobile Fixed Bottom Bar Follow","Instagram"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .facebook-col',"Mobile Fixed Bottom Bar Share","Facebook"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .messenger-col',"Mobile Fixed Bottom Bar Share","Messenger"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .whatsapp-col',"Mobile Fixed Bottom Bar Share","WhatsApp"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .pinterest-col',"Mobile Fixed Bottom Bar Share","Pinterest"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .linkedin-col',"Mobile Fixed Bottom Bar Share","Linkedin"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .twitter-col',"Mobile Fixed Bottom Bar Share","Twitter"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .flipboard-col',"Mobile Fixed Bottom Bar Share","Flipboard"),this.trackElem('article[data-post-name="'+e+'"] .fixed-bottom-overlay .fixed-social-shares-inline .next-story',"Mobile Fixed Bottom Bar Next Story","Next Story"))},getCurrentPostFromUrl:function(){var e=window.location.pathname;return e=e.substr(1,e.length-2)},trackEvent:function(e,t,i){this.sendGA4Event(e,t,i)},trackAddPostInputs:function(){var e=!1,t=!1,i=!1,o=!1,n=!1,a=!1;const s=this;$(".post-title .add-post-form-input").on("change",function(){!e&&10<=$(".post-title .add-post-form-input").val().length&&BoredPanda.Config.trackAddPost&&(e=!0,s.trackEvent("Add Post Form","Title","True"))}),$(".post-description .add-post-form-input").on("change",function(){!t&&50<=$(".post-description .add-post-form-input").val().length&&BoredPanda.Config.trackAddPost&&(t=!0,s.trackEvent("Add Post Form","Description","True"))}),$(".contribution-facebook-image-overlay").on("click",function(){!i&&BoredPanda.Config.trackAddPost&&(i=!0,s.trackEvent("Add Post Form","Facebook Image Generator","click"))}),$(".button.fb-image-save").on("click",function(){!o&&BoredPanda.Config.trackAddPost&&(o=!0,s.trackEvent("Add Post Form","Facebook Image Save Btn","click"))}),$(".contribution-thumbnail-images-overlay").on("click",function(){!n&&BoredPanda.Config.trackAddPost&&(n=!0,s.trackEvent("Add Post Form","Thumb Image Generator","click"))}),$(".button.save-thumbnails").on("click",function(){!a&&BoredPanda.Config.trackAddPost&&(a=!0,s.trackEvent("Add Post Form","Thumb Image Save Btn","click"))})},publishSent:!1,trackAddPostPublish:function(){!BoredPanda.Config.trackAddPost||BoredPanda.Tracking.publishSent||(BoredPanda.Tracking.publishSent=!0,this.trackEvent("Add Post Form","Publish","click"))},trackAddPostPublishError:function(){BoredPanda.Config.trackAddPost&&this.trackEvent("Add Post Form","Missing Mandatory Fields","True")},categorySent:!1,trackAddPostCategories:function(){!BoredPanda.Config.trackAddPost||BoredPanda.Tracking.categorySent||(BoredPanda.Tracking.categorySent=!0,this.trackEvent("Add Post Form","Category","True"))},imageSent:!1,trackAddPostImage:function(){!BoredPanda.Config.trackAddPost||BoredPanda.Tracking.imageSent||(BoredPanda.Tracking.imageSent=!0,this.trackEvent("Add Post Form","Images","True"))},imageTooSamllSent:!1,trackImageTooSmallError:function(){BoredPanda.Config.trackAddPost&&!BoredPanda.Tracking.imageTooSamllSent&&(BoredPanda.Tracking.imageTooSamllSent=!0,this.sendGA4Event("Add Post Form","Small Image","True"))},trackAuthorInvitationInvitees:function(){BoredPanda.Config.authorInvitationId&&!BoredPanda.Config.isStaffMember&&$.cookie("invitation",BoredPanda.Config.authorInvitationId,{expires:90,path:"/"})},trackInviteeAddPost:function(e){BoredPanda.Utils.wpAjax({action:"track_invitation_conversion",post_id:e})},trackInviteeAction:function(e){BoredPanda.Utils.wpAjax({action:"track_invitation_action",invitation_action:e})},trackInviteeClicks:function(e){var t,i,o="",n="";BoredPanda.Utils.getParameterByName("pageid")?(o=(t=BoredPanda.Utils.getParameterByName("pageid")).substring(0,t.length-2),n=t.substring(t.length-2,t.length)):$.cookie("invitation")&&(o=$.cookie("invitation")),""!==o&&(t="desktop",BoredPanda.Config.isMobileWidth?(t="mobile",BoredPanda.Config.isiPhone()&&(t="iphone")):BoredPanda.Config.isMobileWidth&&(t="tablet"),i="other-page-visit",-1<window.location.href.indexOf("info-for-invited-author")?i="landing-visit":void 0!==e&&"login"===e?i="logged-in":void 0!==e&&"download"===e?i="download-app":-1<window.location.href.indexOf("add-new-post")&&(i="add-post-visit"),BoredPanda.Utils.wpAjax({action:"track_invitation_click",value:"event:"+i+"|link_nr:"+n+"|device:"+t,id:o}))},trackFeedSkippedArticles:function(){$("section.posts article.post[data-post-id] header a, section.posts article.post[data-post-id] h2 a").on("mousedown",function(){var e=[];$(this).closest("article").prevAll("article[data-post-id]").each(function(){e.push($(this).attr("data-post-id"))})})},trackOpenListCommentSubmit:function(){this.trackEvent("Open List","First Level Comment","submit")},trackAddPostFormLoggedIn:function(){BoredPanda.Utils.wpAjax({action:"add_meta_current_user",meta:"logged-in-via-add-post",value:"true"})},trackImageShares:function(e,t,i,o){t=BoredPanda.ContentTracking.generateEvent("image_share",[{name:"post_id",value:t},{name:"parent_list_id",value:o},{name:"image",value:i},{name:"social_network",value:e}]);BoredPanda.ContentTracking.sendEvent(t)},trackImageSharesByDevice:function(){var e="desktop",t=(BoredPanda.Config.isTabletWidth&&(e="mobile"),"Shares on images");this.trackClick(".image-share-box .whatsapp-share",t,"Whatsapp",e),this.trackClick(".image-share-box .email-share-mobile",t,"Email share",e),this.trackClick(".image-share-box .fb-share",t,"Facebook",e),this.trackClick(".image-share-box .pinterest-share",t,"Pinterest",e),this.trackClick(".image-share-box .tumblr-share",t,"Tumblr",e),this.trackClick(".image-share-box .twitter-share",t,"Twitter",e),this.trackClick(".image-share-box .email-share",t,"Email",e);const i=this;$(".link-share-modal .link").bind("copy",function(){i.trackEvent(t,"Link",e)}),this.trackClick(".email-share-modal .form .submit-button",t,"Email send",e),this.trackClick(".email-share-modal .success .sign-up",t,"Email newsletter sign-up",e)},trackYoutubeSubscribe:function(){const t=this;$(".youtube-subscribe-button").click(function(){var e=(e=$(this).data("track-label"))||"not set";t.trackEvent("Youtube","Subscribe",e)})},generate_ga4_event_name:function(e,t,i){var o=[];return e&&o.push(e),t&&o.push(t),i&&o.push(i),o.join("_").toLowerCase().replaceAll(" ","_")},sendGA4Event:function(e,t,i,o){e=this.generate_ga4_event_name(e,t,i);gtag("event",e,o||{})},sendSimpleGA4Event:function(e,t={}){gtag("event",e,t)},sendNewShareEventToGA4:function(e,t,i,o){let n=t;0<$(e).parents("footer.the-loop").length?n+=" card shares":0<$(e).parents(".post-share-social-icons-footer").length?n+=" footer shares":n+=" header shares",this.sendGA4Event(n,i,o,{})}},$(document).ready(function(){BoredPanda.Tracking.init()}),$(window).on("load",function(){setTimeout(function(){var e=BoredPanda.Utils.getPageLoadTime();0<e&&gtag("event","page_load_time",{loading_time_sec:e})},0)})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.AppPromotion={cookie:"disablepromotion",cookieTakeOver:"disabletakeover",campaignReferrer:-1<document.referrer.indexOf("utm_campaign="),campaign:BoredPanda.Utils.getParameterByName("utm_campaign"),androidAppHomeDeeplink:"intent://deeplink/home/?referrer=utm_source%3Dwebsite%26utm_medium%3Dtakeover#Intent;scheme=boredpanda;package=com.boredpanda.android;end",androidAppPostDeeplink:"intent://deeplink/post?post_id="+BoredPanda.Config.postId+"&referrer=utm_source%3Dwebsite%26utm_medium%3Dtakeover#Intent;scheme=boredpanda;package=com.boredpanda.android;end",takeovers:{iOS:{default:{3:{text:"Bored Panda works better on our iPhone app",imageClass:"icon-3"}}},Android:{default:{1:{text:"Bored Panda works best if you switch to our Android app",imageClass:"icon-android-1"}}}},banners:{iOS:{1:{text:"Get the latest inspiring stories via our awesome iOS app!",class:"banner-with-logo"}},Android:{1:{text:"Get the latest inspiring stories via our awesome Android app!",class:"banner-with-logo"}}},isPromotionVisible:function(){return void 0===$.cookie(this.cookie)&&(BoredPanda.Config.isiPad()||BoredPanda.Config.isiPhone()||BoredPanda.Config.isAndroid())&&!BoredPanda.Config.isWindowsPhone()&&!$("body").hasClass("page-template-add-post-template-php")&&!$("body").hasClass("page")},isTakeOverVisible:function(){return(BoredPanda.Config.isiPhone()||BoredPanda.Config.isAndroid())&&($("body").hasClass("home")&&!document.referrer||this.campaignReferrer)&&$("body").width()<=480&&-1===BoredPanda.Config.homeUrl.indexOf("boredpanda.es")&&!BoredPanda.Config.isWindowsPhone()},isBannerVisible:function(){return(BoredPanda.Config.isiPhone()||BoredPanda.Config.isAndroid())&&this.campaign&&$("body").width()<=480},initUpdated:function(){this.isPromotionVisible()&&(this.initLinks(),(BoredPanda.Config.isAndroid()?$(".app-promotion .updated .android-app"):$(".app-promotion .updated .ios-app")).show(),$(".app-promotion .updated-app").show(),$(".header").addClass("promotion-updated"),$(".main.bp-container").addClass("promotion-updated"),$(".page-template").hasClass("page-template-add-post-template-php")&&($(".header.promotion-updated").attr("style","top: 49px;"),$(".main.promotion-updated").attr("style","margin-top: 6.5em !important;")))},initLinks:function(){$(".app-promotion .close-block a.close-icon").on("click",function(){$(".page-template").hasClass("page-template-add-post-template-php")&&($(".header.promotion-updated").removeAttr("style"),$(".main.promotion-updated").removeAttr("style")),$(".header").hasClass("promotion-updated")&&($(".header").removeClass("promotion-updated"),$(window).scroll()),$(".main.bp-container").hasClass("promotion-updated")&&$(".main.bp-container").removeClass("promotion-updated"),$.cookie("disablepromotion","1",{expires:60,path:"/"}),$(".app-promotion").remove()})},getCampaign:function(e){var t="default";return t=this.campaignReferrer||this.campaign?BoredPanda.Utils.getParameterByName("utm_campaign",e).toLowerCase():t},initPostBottomMessage:function(){BoredPanda.Config.isTabletWidth&&-1!==document.referrer.indexOf("flipboard.com")&&($(".post-submission-line.post-footer.post-footer-gnews-promotion").hide(),$(".post-submission-line.post-footer.post-footer-flipboard-btn").show(),BoredPanda.Tracking.trackClick(".post-submission-line.post-footer.post-footer-flipboard-btn","Flipboard btn","post bottom"))},initPostFixedPromotion:function(){!BoredPanda.Config.isTabletWidth||$(".fixed-bottom-overlay.newsletterbar").length<=0||((BoredPanda.Config.isiPhone()||BoredPanda.Config.isiPad())&&"es"!==BoredPanda.Config.bpVersion?($(".fixed-bottom-overlay.app-promotion .ios").show(),$(".fixed-bottom-overlay.app-promotion").show(),$(".fixed-bottom-overlay.app-promotion").css("visibility","hidden"),BoredPanda.Tracking.trackClick(".fixed-bottom-overlay.app-promotion .ios","iOS app","fixed bottom")):BoredPanda.Config.isAndroid()&&"es"!==BoredPanda.Config.bpVersion?($(".fixed-bottom-overlay.app-promotion .android").show(),$(".fixed-bottom-overlay.app-promotion").show(),$(".fixed-bottom-overlay.app-promotion").css("visibility","hidden"),BoredPanda.Tracking.trackClick(".fixed-bottom-overlay.app-promotion .android","Android app","fixed bottom")):($(".fixed-bottom-overlay.bottom-bar-newsletter").show(),$(".fixed-bottom-overlay.bottom-bar-newsletter").css("visibility","hidden")))},initTakeOver:function(){var e,t,i,o,n,a=this;this.isTakeOverVisible()&&(e=$(".app-takeover"),t=this.getCampaign(document.referrer),i=BoredPanda.Config.isiPhone()?"iOS":"",BoredPanda.Config.isAndroid()&&(i="Android",e.find(".takeover-icon").addClass("android"),o=this.androidAppHomeDeeplink,!BoredPanda.Config.isHome&&BoredPanda.Config.postId&&(o=this.androidAppPostDeeplink+BoredPanda.Config.postId),e.find(".takeover-button").attr("href",o)),this.takeovers[i][t]&&void 0===$.cookie(this.cookieTakeOver)&&void 0===$.cookie(this.cookieTakeOver+"_"+t)&&(n=Math.floor(Math.random()*(1+Object.keys(this.takeovers[i][t]).length-1))+1,"iOS"===i&&(n=3),e.find(".takeover-icon").addClass(this.takeovers[i][t][n].imageClass),e.find(".takeover-description").text(this.takeovers[i][t][n].text),$("body").addClass("takeover-open"),e.show(),$.cookie(this.cookieTakeOver+"_"+t,"1",{expires:60,path:"/"}),BoredPanda.Tracking.trackEvent(i+" app","Takeover App Store "+t,"impression"+n),$(".takeover-button").on("click",function(){BoredPanda.Tracking.trackEvent(i+" app","Takeover App Store "+t,"click"+n),$(".app-takeover").hide(),$("body").removeClass("takeover-open")}),$(".takeover-link").on("click",function(){BoredPanda.Tracking.trackEvent(i+" app","Takeover Website "+t,"click"+n),$(".app-takeover").hide(),$("body").removeClass("takeover-open")}),$(window).resize(function(){a.isTakeOverVisible()&&$(".app-takeover").is(":visible")?$("body").addClass("takeover-open"):$("body").removeClass("takeover-open")})))},initAddPostDownloadApp:function(){(BoredPanda.Config.isiPad()||BoredPanda.Config.isiPhone())&&$(".download-app").show()},initBpEsYoutubePromotion:function(){var e=$(".post-recommendations.youtube-promotion");if(!BoredPanda.Config.isMobileWidth&&0<e.length){for(var n=["GitDV_XY22w","ZCuj8Qmtx_4","AAj7j9z3nlw","rJXpQdvOHSc"],a="",s=0;s<n.length;s++)if(!$.cookie("youtube_"+n[s])){a=n[s];break}(a=a||n.pop())&&(e.show(),e.find(".youtube-wrapper").append('<iframe width="880" height="495" src="https://www.youtube.com/embed/'+a+'" frameborder="0" allowfullscreen></iframe>'),e.bind("inview",function(e,t,i,o){!t||$.cookie("youtube_"+n[s])||$.cookie("youtube_"+a,"1",{expires:60,path:"/"})}))}}},$(document).ready(function(){BoredPanda.AppPromotion.initAddPostDownloadApp(),BoredPanda.AppPromotion.initPostBottomMessage(),BoredPanda.AppPromotion.initPostFixedPromotion()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Notice=function(){var t=this;t.noticeVisible=ko.observable(!1),t.notice=ko.observable(""),t.showNotice=function(e){void 0===e&&(e=$.cookie("notice"),$.removeCookie("notice",{path:"/"})),void 0!==e&&(t.notice(e),t.noticeVisible(!0),setTimeout(function(){t.noticeVisible(!1)},5e3))},t.setNotice=function(e){$.cookie("notice",e,{expires:1,path:"/"})},t.showNotice()},$(document).ready(function(){0<$("#notice").length&&(BoredPanda.notice=new BoredPanda.Notice,ko.applyBindings(BoredPanda.notice,$("#notice")[0]))})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{};BoredPanda.Notifications;var t=function(){var o=this,i="/notifications/",n=10,a=1,s=(o.open=!1,o.exists=ko.observable(!1),o.visible=ko.observable(!1),o.noMoreLeft=ko.observable(!1),o.loading=ko.observable(!1),o.initiating=ko.observable(!0),o.unseen=ko.observable(0),o.notifications=ko.observableArray(),function(e){return BoredPanda.Utils.prettyDate(new Date(1e3*e).toISOString())}),r=function(e){var t=document.createElement("div");return t.innerHTML=e,$(t).find("a").each(function(){$(this).contents().unwrap().wrap("<strong/>")}),$(t).find("p").each(function(){$(this).contents().unwrap()}),$(t).html()},l=BoredPanda.Utils.nAjax,d=(o.markSeen=function(){l("POST",i).done(function(){o.unseen(0)})},o.getOlder=function(){c(o.notifications().length)},function(e,t){t=t||!1,e.time=s(e.created_at),e.text=r(e.text),e.thumb||(e.thumb=BoredPanda.Config.assetsBaseUrl+"/wp-content/themes/boredpanda/images/notifications-default-image.png"),t?o.notifications.push(e):o.notifications.unshift(e)}),c=function(t){o.loading(!0);var e=l("GET",i+n+"/"+t);e.always(function(){o.loading(!1)}),e.done(function(e){var t=e.data;o.unseen(t.unseenCount);for(var i=0;i<t.notifications.length;i++)d(t.notifications[i],!0);o.noMoreLeft(0===t.notifications.length),o.exists(0<o.notifications().length),o.initiating(!1)}),e.fail(function(e){401===e.status&&0<a&&(a--,$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:{action:"renew_boredpanda_auth_cookie"}}).done(function(){c(t)}))})},e=function(){"undefined"==typeof io?setTimeout(e,1e3):(o.socket=io(BoredPanda.Config.notificationServiceUrl,{path:"/socket",secure:!0,transports:["websocket"]}),o.socket.on("new notification",function(e){d(e),o.unseen(o.unseen()+1)}))};BoredPanda.Config.isLoggedIn&&-1===window.location.hostname.indexOf("dev.boredpanda")&&-1===window.location.hostname.indexOf("ci.boredpanda")&&-1===window.location.hostname.indexOf("boredpanda.es")&&-1===window.location.hostname.indexOf("boredpanda.de")&&"1"!==BoredPanda.Utils.getParameterByName("disable_notifications")&&(c(0),e())};$(document).ready(function(e){BoredPanda.Config.isLoggedIn&&(BoredPanda.notifications=new t,e(".notifications").each(function(){ko.applyBindings(BoredPanda.notifications,this)}))})}(),!function(){"use strict";function adjustCarouselPostWidthToContainerWidth(){var e=$(".boredpanda-carousel-widget .boredpanda-carousel-posts-list-container .boredpanda-carousel-post"),t=e.length,i=Math.ceil($("section.posts").width()),e=(e.css("width",i+"px"),(t+1)*i);$(".boredpanda-carousel-widget .boredpanda-carousel-posts-list-container").css("width",e+"px")}function putOverlayOnListImages(){$("img.image-size-full-overlay").each(function(){var e=$(this).next("img.image-size-full");$(this).height(e.height()),$(this).width(e.width())})}window.BoredPanda=window.BoredPanda||{},BoredPanda.GeoIP={},BoredPanda.GeoIP.spanishLangs=["MX","PH","ES","CO","AR","PE","VE","CL","EC","GT","CU","BO","DO","HN","PY","SV","NI","CR","PR","PA","UY","GQ","EH"],BoredPanda.GeoIP.messageLangs=["LT"],BoredPanda.GeoIP.europeLangs=["EU","AD","AL","AT","BA","BE","BG","BY","CH","CS","CZ","DE","DK","EE","ES","FI","FO","FR","FX","GB","GI","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MC","MD","MK","MT","NL","NO","PL","PT","RO","SE","SI","SJ","SK","SM","UA","VA"],BoredPanda.init=function(){this.ScrollableMenu.init(),this.ReportButton.init(),this.SocialWidgets.init(),this.TableScrollAndShadow.init(),this.ScrollCom.init(),this.FacebookLoader.init(),this.Header.init(),this.Layout.init(),this.SocialIcons.init(),this.Header.mobileHeader(),this.Sidebar.init(),this.Post.init(),this.ICheck.init(),this.TableOfContents.init(),this.SubscribtionValidation.init(),this.ShowMatureContent.init(),this.ContactForm.changeSubject(),this.ShareBox.init(),this.ScrollToImage.init(),this.ScrollToComment.init(),this.BookPayPalLanding.init(),this.Shares.init(),this.Advertise.init(),this.Quiz.init(),this.InitCloseButton.init(),this.ContactPage.scrollToLocation(),this.AuthorBlock.init(),this.AdmiralConfig.init(),this.InfiniteScroll.initExperiment(),this.SpentTime.init()},BoredPanda.SpentTime={init:function(){setTimeout(function(){BoredPanda.Tracking.trackEvent("page_30sec")},3e4),setTimeout(function(){BoredPanda.Tracking.trackEvent("page_60sec")},6e4)}},BoredPanda.InfiniteScroll={posts:[],infScroll:null,scriptsToInit:{},initExperiment(){void 0!==BoredPanda.Config.experimentVariation?2<BoredPanda.Config.experimentVariation&&this.init():setTimeout(BoredPanda.InfiniteScroll.initExperiment,100)},async init(){this.posts=JSON.parse(BoredPanda.Config.infinitePosts||"[]"),this.initInfinite()},async initPosts(){try{var e,t=BoredPanda.Analytics.getStorageContents().pageviews,i=[];for(e in t)i.indexOf(t[e].postId)<0&&i.push(t[e].postId);var o=await BoredPanda.Utils.wpAjax({action:"get_infinite_scroll_posts",post_id:BoredPanda.Config.postId,seen_posts:i}).done();o.success?this.posts=o.data.posts:console.log(o.data.message)}catch(e){console.log(e.responseJSON?.error||e.message)}},initInfinite(){const self=this,$container=$(".main.bp-container .left-content-column > section");0<$container.length&&($container.infiniteScroll({append:".left-content-column > section",status:".post-load-status",debug:!0,history:"replace",scrollThreshold:5e4,checkLastPage:!0,fetchOptions:{headers:{"X-Infinite-Scroll":"1"}},path:function(){if(self.posts.length>this.loadCount){var e=self.posts[this.loadCount];if(void 0!==e.path)return e.path}}}),self.infScroll=$container.data("infiniteScroll"),$container.on("append.infiniteScroll",function(e,t,i,o){BoredPanda.Config.postId=self.posts[self.infScroll.loadCount-1].postId,BoredPanda.Comment.destroyCommentImages(),BoredPanda.Comment.initCommentImages(),BoredPanda.Slider.bindDrag(),BoredPanda.Flipper.bind(),BoredPanda.ShareBox.sharesCount(),BoredPanda.PostReview.init(o[0]),BoredPanda.FacebookLoader.init(o[0]);o=$(t).find("#bp-pageview-script");0<o.length&&(t=new URL("https://www.boredpanda.com"+i),self.scriptsToInit[t.pathname]={script:o.html()}),BoredPanda.Tracking.trackAds(),BoredPanda.Tracking.trackPostProgress(),BoredPanda.Tracking.trackImageSharesByDevice(),BoredPanda.Tracking.trackYoutubeSubscribe(),BoredPanda.Tracking.trackImageRightClicks(),BoredPanda.Tracking.trackRecommendations(),"com"===BoredPanda.Config.bpVersion&&BoredPanda.Tracking.trackPostCommentTitle()}),$container.on("history.infiniteScroll",function(event,title,path){document.querySelector('meta[property="og:url"]').setAttribute("content",path),document.querySelector('link[rel="canonical"]').setAttribute("href",path);const url=new URL(path);self.scriptsToInit[url.pathname]&&(eval(self.scriptsToInit[url.pathname].script),delete self.scriptsToInit[url.pathname],fbq("trackCustom","com PageView")),BoredPanda.Tracking.trackEvent("Infinite scroll","load","")}))}},BoredPanda.CopyPostLink={init:function(){$(".copy-post-link").on("click",function(){var e=$(this).data("share-url"),t=$(this).data("backlink-title"),i=document.createElement("a"),e=(i.setAttribute("href",e),i.setAttribute("title",t),i.innerText=t,$(".post-shares-footer .link-share-modal:first"));e.find(".link").val(i.outerHTML),$(this).parent().attr("style","display:block;"),e.css("margin-top","70px"),e.show(),e.find(".link").focus().select()})}},BoredPanda.AdmiralConfig={init:function(){"true"===BoredPanda.Utils.getParameterByName("admiral_config")&&(window.admiral("show","cmp.main"),window.admiral("show","cmp.settings"))}},BoredPanda.InitCloseButton={init:function(){this.initFreestar(),setInterval(function(){0<$(".closeable-div").height()&&$(".closeable-div .modal-close").show()},1e3),$(".closeable-div .modal-close").on("click",function(){$(this).parent().hasClass("bp-mobile-anchor")&&($(".sticky-bar").removeClass("lift-up"),"google"===BoredPanda.Utils.getParameterByName("utm_source")&&"com"===BoredPanda.Config.bpVersion&&setTimeout(function(){BoredPanda.PwaPromotion.init(!0)},5e3)),$(this).parent().remove(),BoredPanda.Config.isTabletWidth&&$(".fixed-bottom-overlay").show()})},initFreestar(){$(document).on("click",".fs-close-button-sticky",function(){$(".sticky-bar").removeClass("lift-up"),"google"===BoredPanda.Utils.getParameterByName("utm_source")&&"com"===BoredPanda.Config.bpVersion&&setTimeout(function(){BoredPanda.PwaPromotion.init(!0)},5e3)})}},BoredPanda.ScrollCom={init:function(){Scroll.config.detected&&(document.body.className+=" scroll-user",$("#scrollToTopDesktop").css("margin-right","30px"))}},BoredPanda.SocialWidgets={init:function(){("com"!==BoredPanda.Config.bpVersion||1!==BoredPanda.Config.experimentVariation&&BoredPanda.Config.experimentVariation<=12)&&!BoredPanda.Config.isTabletWidth&&0<BoredPanda.Config.postId&&(BoredPanda.Utils.loadScript("https://assets.pinterest.com/js/pinit.js"),BoredPanda.Utils.loadScript("https://platform.twitter.com/widgets.js"),BoredPanda.Utils.loadScript("https://connect.facebook.net/"+BoredPanda.Config.wp_lang+"/sdk.js"))}},BoredPanda.ReportButton={init:function(){$(document).on("click",".report .open-list-submission-report",function(e){window.open($(e.target).attr("data-href"),"_blank")})}},BoredPanda.ContactPage={scrollToLocation:function(){$("#scrollToLocation").on("click",function(){$(".office-location").get(0).scrollIntoView()})}},BoredPanda.ContactForm={changeSubject:function(){location.search.split("report-post=")[1]&&$('select[name="your-recipient"]').val("Report Post"),$("input[name=subject-timestamp]").val(Math.round((new Date).getTime()/1e3))}},BoredPanda.ScrollToImage={init:function(){var e=BoredPanda.Utils.getParameterByName("media_id",window.location.href),e=$('[id="'+e+'"]');e.length&&e.get(0).scrollIntoView()}},BoredPanda.ScrollToComment={init:function(){var e,t=BoredPanda.Utils.getParameterByName("comment_id",window.location.href);t&&($(".child-comments, .child-comments .comment").show(),0<(e=$('[id="bp-comment-id-'+t+'"]')).length&&setTimeout(function(){navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)?window.scrollTo(0,e.offset().top-$("header.header").height()):$("html, body").animate({scrollTop:e.offset().top-$("header.header").height()},600)},3e3))}},BoredPanda.AuthorBlock={init:function(){$("#showAllContributors").on("click",function(){$(".single-post-author .additional-authors").toggle(),this.innerText="Hide Contributors"==this.innerText?"Show All Contributors":"Hide Contributors"}),$(".single-post-author .follow, .author-follow-tooltip .follow, .author-actions #follow-user, .author-actions #follow-author").on("click",function(){var e,t;BoredPanda.Config.isLoggedIn?(e=$(this).data("user-id"),t=$(this),$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"follow_user",user_id:e},dataType:"json"}).done(function(e){!0===e.success&&(t.hide(),t.parent().find(".unfollow").show())})):BoredPanda.Login.form.show()}),$(".single-post-author .unfollow, .author-follow-tooltip .unfollow, .author-actions #unfollow-user, .author-actions #unfollow-author").on("click",function(){var e,t;BoredPanda.Config.isLoggedIn?(e=$(this).data("user-id"),t=$(this),$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"unfollow_user",user_id:e},dataType:"json"}).done(function(e){!0===e.success&&(t.hide(),t.parent().find(".follow").show())})):BoredPanda.Login.form.show()})}},BoredPanda.BookPayPalLanding={init:function(){var e;0<$(".page-template-book-landing").length&&(e=function(){var e=$(".book-image");e.height(e.width())},BoredPanda.Config.windowWidth<=940&&($(window).on("resize",e),e()))}},BoredPanda.ShareBox={init:function(){$("body").on("click",".shareable-image-block",function(e){var t;BoredPanda.Config.isTabletWidth&&-1===$.inArray("social-button",e.target.classList)&&0===$(this).find(".image-slider-info").length&&0===$(this).find(".mature-content-image").length&&(t=$(this).find(".image-share-box"),$(".shareable-image-block .image-share-box").each(function(){$(this).get(0)!==t.get(0)&&$(this).hide()}),t.toggle())}),this.linkShare(),this.copyLink(),this.sharesCount()},sharesCount:function(){var e;BoredPanda.Config.isStaffMember&&BoredPanda.Config.postId&&!BoredPanda.Config.isTabletWidth&&(e={action:"image_share_stats",property_type:BoredPanda.Config.inOpenList?"parent_list_id":"post_id",property_value:BoredPanda.Config.postId},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){!0===e.success&&$.each(e.data,function(e,t){e=$('.shareable-post-image img[src*="'+e+'"]').closest(".shareable-image-block").find(".image-share-box");e.find(".fb-share .statistics").text(t.facebook||0),e.find(".pinterest-share .statistics").text(t.pinterest||0),e.find(".twitter-share .statistics").text(t.twitter||0),e.find(".tumblr-share .statistics").text(t.tumblr||0),e.find(".email-share .statistics").text(t.email||0),e.find(".link-share .statistics").text(t.link||0)})}))},emailShare:function(){$("body").on("click",".email-share",function(){var e=$(this).closest(".shareable-post-image"),t=e.find(".email-share-modal:first");t.css("top",$(this).offset().top-e.offset().top-t.height()/2+$(this).outerHeight()/2),$(this).parent().attr("style","display:block;"),t.show()}),$("body").on("click",".email-share-modal .modal-close",function(){o($(this).closest(".email-share-modal"))}),$("body").on("click",".email-share-modal .sign-up",function(){var i=$(this).closest(".email-share-modal");if(!i.find('input[name="email"]').val())return t("Please fill your email address",i),!1;var e={action:"email_share_subscribe_newsletter",email:i.find('input[name="email"]').val()};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(){var e=i.closest(".shareable-post-image"),t=e.find(".email-share");i.find(".success").hide(),i.removeClass("subscribe-form"),i.addClass("subscribed"),i.find(".success-subscribe").show(),0<e.length&&0<t.length&&i.css("top",t.offset().top-e.offset().top-i.height()/2+t.outerHeight()/2),setTimeout(function(){o(i)},2e3)})}),$("body").on("click",function(e){!$(e.target).closest("a").hasClass("email-share")&&!$(e.target).closest("a").hasClass("email-footer-share")&&$(e.target).closest(".email-share-modal").length<1&&$(".email-share-modal:visible").each(function(){$(this).hide(),$(this).parent().find(".image-share-box").removeAttr("style")})});var o=function(e){e.hide(),e.parent().find(".image-share-box").removeAttr("style"),e.removeClass("subscribed"),e.addClass("subscribe-form"),e.find(".success").show(),e.find(".success-subscribe").hide(),e.find("input").val(""),i(e)},t=function(e,t){t.find(".error .error-text").text(e),t.find(".error").show()},i=function(e){e.find(".error").hide()}},linkShare:function(){$("body").on("click",".link-share",function(){var e=$(this).closest(".shareable-post-image"),t=e.find(".link-share-modal:first");t.css("top",$(this).offset().top-e.offset().top-t.height()/2+$(this).outerHeight()/2),t.find(".link").val($(this).data("link")),$(this).parent().attr("style","display:block;"),t.show(),t.find(".link").focus().select()}),$("body").on("click",function(e){!$(e.target).closest("a").hasClass("link-share")&&!$(e.target).closest("a").hasClass("post-footer-copy")&&!$(e.target).closest("a").hasClass("email-footer-share")&&$(e.target).closest(".email-share-modal").length<1&&$(".email-share-modal:visible").each(function(){$(this).hide(),$(this).parent().find(".image-share-box").removeAttr("style")})})},copyLink:function(){$("body").on("click",".copy-link",function(){var e=document.createElement("textarea");e.value=$(this).data("link"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),$(this).text("Copied!")})}},BoredPanda.Quiz={init:function(){var e=$(".post-content.quiz-post");0<e.length&&$(".post-content.quiz-post .quiz-submit").click(function(){e.find(".quiz-block").length===e.find(".quiz-block input:checked").length?(e.find(".quiz-error").hide(),e.find(".quiz-result").show(),$("html, body").animate({scrollTop:e.find(".quiz-result").offset().top-$("header.header").height()},600)):e.find(".quiz-error").show()})}},BoredPanda.ShowMatureContent={init:function(){$(".mature-content-image").each(function(){$(this).append('<div class="mature-content"><div class="mature-title">'+BoredPanda.Translate.Post.mature_content+'</div><div class="mature-explanation">'+BoredPanda.Translate.Post.mature_content_confirm+"</div></div>")}),$(document).on("click",".mature-content-image",function(e){e.preventDefault(),$(this).removeClass("mature-content-image")})}},BoredPanda.TableScrollAndShadow={init:function(){this.applyDraggableScroll(),this.applyShadowEffect()},applyDraggableScroll:function(){$(".table-container").each(function(){const t=$(this);let i=!1,o,n;t.on("mousedown",function(e){i=!0,o=e.pageX-t.offset().left,n=t.scrollLeft()}),t.on("mouseleave",function(){i=!1}),t.on("mouseup",function(){i=!1}),t.on("mousemove",function(e){i&&(e.preventDefault(),e=3*(e.pageX-t.offset().left-o),t.scrollLeft(n-e))})})},applyShadowEffect:function(){$(".table-container").each(function(){const i=$(this);let o=i.siblings(".shadow-left"),n=i.siblings(".shadow-right");0===o.length&&(o=$('<div class="shadow-left"></div>').insertBefore(i)),0===n.length&&(n=$('<div class="shadow-right"></div>').insertAfter(i));var e=()=>{var e=i[0].scrollWidth-i[0].clientWidth,e=i.scrollLeft()<e?1:0,t=0<i.scrollLeft()?1:0;n.css("opacity",e),o.css("opacity",t)};i.on("scroll",e),e()})}},BoredPanda.ScrollableMenu={init:function(){const t=document.querySelector(".scrollable-categories-list");let i=!1,o,n;const a=()=>{t.scrollWidth>t.offsetWidth?(0<t.scrollLeft?t.classList.add("scrolled-left"):t.classList.remove("scrolled-left"),t.scrollLeft+t.offsetWidth<t.scrollWidth?t.classList.contains("scrolled-right")||t.classList.add("scrolled-right"):t.classList.remove("scrolled-right")):t.classList.remove("scrolled-left","scrolled-right")};t.addEventListener("mousedown",e=>{i=!0,o=e.pageX-t.offsetLeft,n=t.scrollLeft,t.classList.add("dragging"),a()}),t.addEventListener("mouseleave",()=>{i=!1,t.classList.remove("dragging"),a()}),t.addEventListener("mouseup",()=>{i=!1,t.classList.remove("dragging"),a()}),t.addEventListener("mousemove",e=>{i&&(e.preventDefault(),e=3*(e.pageX-t.offsetLeft-o),t.scrollLeft=n-e,a())}),a(),window.addEventListener("resize",a)}},BoredPanda.SubscribtionValidation={init:function(){let t=[],i=!1;$(".post-bottom-subscribe-form .subscribe-btn").on("click",function(){if(!i){let e=[];var t;$("#more-categories-modal .category-option input:checked, .post-bottom-subscribe-form .subscription-option input:checked").each(function(){-1===e.indexOf($(this).val())&&e.push($(this).val())}),$(".post-bottom-subscribe-form .newsletter-spinner").show(),e.length&&(t=$('.post-bottom-subscribe-form input[name="email"]').val(),t={action:"newsletter_subscribe_groups",groups:e,email:t},i=!0,(t=$.ajax({url:ajax_object.ajax_url,data:t,type:"POST"})).done(function(){$(".post-bottom-subscribe-form .success-message").removeClass("hidden"),$(".post-bottom-subscribe-form .newsletter-spinner").hide(),$.cookie("newsletter_subscribed","1",{expires:365,path:"/"})}),t.fail(function(){}))}}),$(".subscription-block .email-field").on("input",function(){$(this).val()&&/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test($(this).val())?$(".subscription-block .subscribe-btn").removeClass("disabled").removeAttr("disabled"):$(".subscription-block .subscribe-btn").addClass("disabled").attr("disabled","disabled")}),$("#more-categories-modal .category-option input").on("click",function(){$(this).closest(".category-option").toggleClass("checked",$(this).is(":checked"))}),$(".subscription-block .subscription-option input").on("click",function(){$(this).closest(".subscription-option").toggleClass("checked",$(this).is(":checked"))}),$("#more-categories-modal .cancel-btn").on("click",function(){$("#more-categories-modal").modal("hide")}),$("#more-categories-modal .save-btn").on("click",function(){t=[],$("#more-categories-modal .category-option input").each(function(){$(this).is(":checked")&&t.push($(this).val()),$('.subscription-block .subscription-option input[value="'+$(this).val()+'"]').prop("checked",$(this).is(":checked")).closest(".subscription-option").toggleClass("checked",$(this).is(":checked"))}),$("#more-categories-modal").modal("hide")}),$(".subscription-block .more-categories").on("click",function(){let e=[];$(".subscription-block .subscription-option input:not(:checked)").each(function(){e.push($(this).val())}),$(".subscription-block .subscription-option input:checked").each(function(){t.push($(this).val())}),$("#more-categories-modal .category-option input").each(function(){-1!==e.indexOf($(this).val())||-1===t.indexOf($(this).val())?$(this).removeAttr("checked").closest(".category-option").removeClass("checked"):$(this).prop("checked",!0).closest(".category-option").addClass("checked")}),$("#more-categories-modal").modal("show")}),$(".newsletter-subscribe").on("submit",function(){var e=$(this),t=e.find(".email-field");e.find(".subscribe-block"),e.find(".response-block");if(""===t.val()||!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t.val()))return t.addClass("invalid-email"),e.find(".error").show(),!1;e.find(".newsletter-spinner").show();var t=e.attr("data-form-name"),i="click";0<e.parent(".newsletter-variation").length&&(i+=e.parent(".newsletter-variation").data("variation")),BoredPanda.Tracking.trackEvent("Newsletter Form",t,i)})}},BoredPanda.FacebookLoader={init:function(e){function t(){"undefined"!=typeof FB?setTimeout(function(){FB.XFBML.parse()},500):setTimeout(t,500)}var i;e=e||document,BoredPanda.Config.isMobileWidth||($(e).find(".post-info-block .right:not(.spanish-panda)").append('<div class="fb-like" data-href="https://www.facebook.com/boredpanda" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false" data-page-like-position="home_page" data-page-like-category="post_like"></div>'),$(e).find(".post-info-block .right.spanish-panda").append('<div class="fb-like" data-href="https://www.facebook.com/pandacurioso" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false" data-page-like-position="home_page" data-page-like-category="post_like"></div>'),$(e).find(".social-box .button.facebook .social-widget:not(.spanish-panda)").append('<div class="fb-like" data-href="https://www.facebook.com/boredpanda" data-layout="button_count" data-action="like" data-width="140" data-show-faces="false" data-share="false"></div>'),$(e).find(".social-box .button.facebook .social-widget.spanish-panda").append('<div class="fb-like" data-href="https://www.facebook.com/pandacurioso" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>'),void 0!==(i=$(e).find("#sharebar .fb-sharebar-box").attr("data-post"))&&(i=i.replace("http://","https://"),$(e).find("#sharebar .fb-sharebar-box").append('<div class="fb-like" data-href="'+i+'" data-layout="box_count" data-action="like" data-show-faces="false" data-share="true"></div>'))),t()}},BoredPanda.Sticky=function(e){var t,i=this;t=$("header").length?12:0,i.$sticky=$(e),function e(){i.$sticky.topOffset=i.$sticky.offset().top-parseInt(i.$sticky.css("margin-top")),i.$sticky.topOffset?0<i.$sticky.length&&BoredPanda.Scroll.scrollCallback.add(function(){i.$sticky.is(":visible")&&((window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)+t>i.$sticky.topOffset?i.$sticky.addClass("fixed"):(i.$sticky.removeClass("fixed"),i.$sticky.topOffset=i.$sticky.offset().top-parseInt(i.$sticky.css("margin-top"))+(parseInt(i.$sticky.css("top"))||0)))}):setTimeout(e,500)}()},BoredPanda.Header={init:function(){(!BoredPanda.Config.isTabletWidth||BoredPanda.Config.isTabletWidth&&90===Math.abs(window.orientation))&&(this.search(),this.checkCategoriesWidth()),this.searchMobile(),this.userMenuHover(),this.cookieMessage(),this.mobileNavbar()},cookieMessage:function(){window.top.VM_API=window.top.VM_API||[],window.top.VM_API.push({call:"is-country",args:{in:["GB"]},onResult:function(e){e||BoredPanda.Header.topMessage()},onError:function(){}})},checkCategoriesWidth:function(){210<$("div.logotype").width()&&($(".more-categories .last-visible-category").show(),$(".nav.left.top-level-navigation ul:first > li:not(.more):last").hide())},mobileNavbar:function(){BoredPanda.Config.isAndroid()?$(".mobile-more-categories-list .get-the-app-link .get-android-app").css("display","block"):(BoredPanda.Config.isiPad()||BoredPanda.Config.isiPhone())&&$(".mobile-more-categories-list .get-the-app-link .get-ios-app").css("display","block")},sticky:function(){var e=$("body").hasClass("page-template-add-post-template-php")?0:$(".cover").height();BoredPanda.Scroll.scrollCallback.add(function(){$(document).scrollTop()>e?$(".header").addClass("fixed"):$(".header").removeClass("fixed")})},stickySidebarAd:function(){$(".sidebar .sticky-bottom").addClass("fixed-bottom"),BoredPanda.Scroll.scrollCallback.add(function(){$(".sidebar .sticky-bottom").hasClass("fixed")?($(".sidebar .sticky-bottom").css("top","271px"),$(".sidebar .sticky-top").addClass("fixed-bottom")):($(".sidebar .sticky-top").removeClass("fixed-bottom"),$(".sidebar .sticky-bottom").css("top","0"))})},mobileHeader:function(){$("#mobile-categories-show").on("click",function(){$(".mobile-more-categories-list").is(":visible")?$(".mobile-more-categories-list").hide():($(document).scrollTop(0),$(".mobile-more-categories-list").show())}),$(".my-menu").on("click",function(){$("nav.submenu").is(":visible")?($("nav.submenu").hide(),$(".my-menu").removeClass("active")):($("nav.submenu").show(),$(".my-menu").addClass("active"))}),$("header.static-pages-header .top-menu-mobile").change(function(){window.location.href=$(this).val()})},topMessage:function(){var o="disabletopmessage1",n="disablecookiemessage",a=this;void 0!==$.cookie(o)&&void 0!==$.cookie(n)||$.ajax({type:"GET",url:"https://geoip.boredpanda.com/",dataType:"json"}).done(function(e){var t=BoredPanda.GeoIP.spanishLangs.indexOf(e.countrycode),i=BoredPanda.GeoIP.europeLangs.indexOf(e.countrycode),e=(BoredPanda.GeoIP.messageLangs.indexOf(e.countrycode),"");void 0===$.cookie(o)&&-1<t&&(e='<span>¿Te gusta Bored Panda? ¡Ahora puedes leernos en español! </span><div class="fb-like" data-href="https://www.facebook.com/pandacurioso" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false" data-page-like-position="home_page" data-page-like-category="post_like"></div>'),!BoredPanda.Config.isTabletWidth||979<window.innerWidth&&window.innerWidth>window.innerHeight?$("body").hasClass("home")&&0<e.length&&($(".top-message").addClass("top-message-visible"),$(".top-message").html(e+'<a title="" href="javascript:void(0);" class="close-box"></a>'),$(".main").css("margin-top","50px"),$(".top-message .close-box").on("click",function(e){e.preventDefault(),$.cookie(o,"1",{expires:60,path:"/"}),a.hideTopMessage()})):void 0===$.cookie(n)&&-1<i&&(BoredPanda.Config.isCookiePolicyVisible=!0,a.initMobileCookiePolicy(n))})},initDesktopCookieMessage:function(){$(".cookie-message").show(),$(".cookie-message .cookie-policy .got-it, .cookie-message .cookie-policy .close-box").on("click",function(){$(".cookie-message").remove(),$.cookie("disablecookiemessage","1",{expires:60,path:"/"})})},initMobileCookiePolicy:function(e){$(".cookie-policy-mobile").show(),$(".main.bp-container").addClass("show-cookie-message"),$(".cookie-policy-mobile .got-it").on("click",function(){$.cookie(e,"1",{expires:60,path:"/"}),$(".cookie-policy-mobile").remove(),$(".main.bp-container").removeClass("show-cookie-message")})},hideCookiePolicy:function(e){BoredPanda.Config.isCookiePolicyVisible=!1,$.cookie("disablecookiemessage","1",{expires:60,path:"/"}),void 0===$.cookie(e)?$(".cookie-policy").animate({"margin-top":"-28px"},1e3):this.hideTopMessage()},hideTopMessage:function(){$(".top-message").hide(),$(".main").css("margin-top","25px")},userMenuHover:function(){var e=$(".nav.right .user-menu .submenu");$(".header").on("click",".user-menu .button",function(){e.toggle()}),$(".header").on("mouseleave",".nav.right .user-menu .submenu",function(){e.hide()})},search:function(){var e=$(".header .search"),t=e.find(".search-icon"),i=e.find(".search-box"),o=e.find(".text"),e=e.find(".search-close");t.on("click",function(e){e.preventDefault(),i.toggle(),t.toggleClass("hover"),o.focus()}),o.on("focusout",function(e){e.relatedTarget&&"submit"===e.relatedTarget.className||(i.toggle(),t.toggleClass("hover"))}),e.on("click",function(e){i.hide(),t.removeClass("hover")})},searchMobile:function(){var e=$(".header .mobile .search"),t=e.parent().find(".search-form"),i=e.parent().find(".text"),o=e.parent().find(".modal-close");e.on("click",function(e){e.preventDefault(),t.toggle(),i.focus()}),o.on("click",function(e){e.preventDefault(),t.hide()})}},BoredPanda.Sidebar={init:function(){function e(){$(".sidebar .sticky").each(function(){new BoredPanda.Sticky(this)})}function t(){if(void 0!==BoredPanda.Config.countryCode)if("LT"!==BoredPanda.Config.countryCode||"com"!==BoredPanda.Config.bpVersion){if(window.adsbygoogle=window.adsbygoogle||[],"undefined"!=typeof adsbygoogle)try{adsbygoogle.push({})}catch(e){console.log(e)}}else document.getElementById("native-sidebar-ad")&&document.getElementById("native-sidebar-ad").remove();else setTimeout(t,50)}e(),$(window).resize(function(){768<=$(window).width()&&$(window).scrollTop($(window).scrollTop()+1).trigger("scroll"),e()});var i=$("aside.sidebar"),n=(0<i.length&&(BoredPanda.sidebar=new BoredPanda.SidebarController,ko.applyBindings(BoredPanda.sidebar,i.get(0))),t(),!1);$("#trending-seo-article").bind("inview",function(e,t,i,o){!n&&t&&(n=!0,t={action:"increase_seo_article_stats",post_id:e.currentTarget.getAttribute("data-post-id"),field:"impressions"},$.ajax({url:ajax_object.ajax_url,data:t,type:"POST"}))})}},BoredPanda.SocialIcons={init:function(){this.genericSocialIcons()},genericSocialIcons:function(){$("a.social.twitter.share").each(function(){$(this).click(function(){window.open("https://www.twitter.com/share?url="+encodeURIComponent(BoredPanda.generateShareablePermalink())+"&via=boredpanda&text="+encodeURIComponent(document.title),"twitter-share-dialog","width=626,height=273")})}),$("a.social.pintrest.share").each(function(){$(this).click(function(){window.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(BoredPanda.generateShareablePermalink())+"&media="+encodeURIComponent($('meta[property="og:image"]').attr("content"))+"&description="+encodeURIComponent(document.title),"pintrest-pin-dialog","width=750,height=328")})})},widgets:{facebook:function(e){return'<div class="fb-like" data-href="'+e+'" data-send="false" data-layout="button_count" data-show-faces="false"></div>'},pinterest:function(e,t,i){return'<a href="//www.pinterest.com/pin/create/button/?url='+encodeURIComponent(e)+"&media="+encodeURIComponent(t)+"&description="+encodeURIComponent(i)+'" class="pin-it" data-pin-do="buttonPin" data-pin-config="beside"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a>'}}},BoredPanda.Post={init:function(){BoredPanda.Post.Votes.init(),0<$(".gallery-nav").length&&this.gallery(),this.checkSidebarClick(),BoredPanda.Config.postId&&(BoredPanda.Config.isMobileWidth&&this.lazyLoadingByTimeAnchor(),this.recipeChecklist()),"com"===BoredPanda.Config.bpVersion&&0<BoredPanda.Config.postId&&-1===document.URL.indexOf("add-new-post")&&this.detectAffiliateLinks()},nextStory:function(){var e,t=BoredPanda.Analytics.getStorageContents().pageviews,i=[];for(e in t)i.indexOf(t[e].postId)<0&&i.push(t[e].postId);var o=window.location.pathname,o=("/"===(o="/"===o.slice(-1)?o.slice(0,-1):o).slice(0,1)&&(o=o.slice(1)),{action:"get_recommendations",post_id:BoredPanda.Config.postId,allUnseenPosts:!0,method:"original",post_count:1,post_name:o,seen_post_ids:i});$.ajax({url:ajax_object.ajax_url,data:o,type:"POST"}).done(function(e){e.success&&e.data[0]&&(e=e.data[0],$(".shortcuts-block .next-post").attr("href",BoredPanda.Config.homeUrl+"/"+e.permalink+"?utm_source=nextstory&utm_medium=social&utm_content=stickybar"))})},lazyLoadingAnchor:function(){let i=!1;$("img.image-size-full[data-index]").bind("inview",function(e,t){19<e.currentTarget.dataset.index&&t&&!i&&(BoredPanda.Utils.loadAnchor(),i=!0,BoredPanda.Tracking.trackEvent("anchor_ad_loaded"))})},lazyLoadingByTimeAnchor:function(){let e=!1;e||setTimeout(function(){e||(BoredPanda.Utils.loadAnchor(),e=!0,BoredPanda.Tracking.trackEvent("anchor_ad_loaded"))},1e4)},recipeChecklist:function(){$(".recipe-checklist ul").each(function(e,i){var t=BoredPanda.Config.postId+"_"+i.id,t=$.cookie(t);(t=void 0!==t?JSON.parse(t):[])&&$.each(t,function(e,t){$(i).find('.styled-checkbox[value="'+e+'"]').attr("checked",t)})}),$(".recipe-checklist .styled-checkbox").click(function(){var e=BoredPanda.Config.postId+"_"+$(this).closest("ul").attr("id"),t=$(this).val(),i=$(this).is(":checked"),o=$.cookie(e);(o=void 0!==o?JSON.parse(o):[])[t]=i,$.cookie(e,JSON.stringify(o),{expires:365,path:"/"})})},getUrlParameter:function(e){for(var t,i=window.location.search.substring(1).split("&"),o=0;o<i.length;o++)if((t=i[o].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1]).replace(/(<([^>]+)>)/gi,"").trim()},checkSidebarClick:function(){window.location.href;var e=this.getUrlParameter("utm_source"),t=this.getUrlParameter("utm_campaign");"trending"==e&&"sidebar"==t&&(e={action:"increase_seo_article_stats",post_id:BoredPanda.Config.postId,field:"clicks"},$.ajax({url:ajax_object.ajax_url,data:e,type:"POST"}))},sharebar:function(t){BoredPanda.Sticky(t),BoredPanda.Scroll.scrollCallback.add(function(){var e=$("#post-comments-area").offset().top+$("#post-comments-area").height();$(document).scrollTop()>e?t.hide():t.show()})},gallery:function(){function o(o,e){$("a.mobile-gallery-nav."+e).addClass("gallery-spinner"),(e=$.ajax({url:o,data:{only_post:1},type:"POST"})).done(function(e){var t=$(".left-content-column"),i=t.parent();t.remove(),i.append(e),window.history.replaceState({html:e,pageTitle:document.title},"",o),BoredPanda.Slider.bindDrag(),BoredPanda.Flipper.bind(),$(document).scrollTop(0),BoredPanda.SocialIcons.init(),BoredPanda.FooterControl.init(),void 0!==FB&&FB.XFBML.parse(),0<$("#div-gpt-ad-1426006150012-0").length?$("#div-gpt-ad-1426006150012-0").html("<script type=\"text/javascript\">if (BoredPanda.Config.isMobileWidth) { googletag.cmd.push(function() { googletag.display('div-gpt-ad-1426006150012-0'); }); }<\/script>"):$("#div-gpt-ad-1426085663937-0").html("<script type=\"text/javascript\">if (BoredPanda.Config.isMobileWidth) { googletag.cmd.push(function() { googletag.display('div-gpt-ad-1426085663937-0'); }); }<\/script>"),googletag.pubads().refresh()}),e.fail(function(){})}$(document).keydown(function(e){var t,i;$("input, textarea").is(":focus")||(t=39,e.keyCode===37?(i=$(".gallery-nav.prev").attr("href"))&&o(i,"prev"):e.keyCode===t&&(i=$(".gallery-nav.next").attr("href"))&&o(i,"next"))}),$(document).on("click",".mobile-gallery-nav.prev",function(e){e.preventDefault(),o($(this).attr("href"),"prev")}),$(document).on("click",".mobile-gallery-nav.next",function(e){e.preventDefault(),o($(this).attr("href"),"next")})},detectAffiliateLinks:function(e){var t,i=this,o=(e=e||0,"undefined"!=typeof __SKIM_JS_GLOBAL__?__SKIM_JS_GLOBAL__.getDebugInfo().runTimeInfo.aff_domains:{});for(t in o){if(null===o[t]&&e<5)return e++,void setTimeout(function(){i.detectAffiliateLinks(e)},500);if("itunes.apple.com"!==t&&"quora.com"!==t&&"gettyimages.com"!==t&&o[t])return void i.showAffiliateLinkExist()}(i.isAffLinkExists("amazon.com")||i.isAffLinkExists("awin1.com")||i.isAffLinkExists("zanox.com"))&&i.showAffiliateLinkExist()},isAffLinkExists:function(e){return $(".post").html()&&-1!==$(".post").html().indexOf(e)},showAffiliateLinkExist:function(){var e,t,i,o=$(".disclaimer-link-block"),n=$(".affiliate-links-block");n.length||(t=(e=$(".post .post-content")).find(".shareable-post-image").index(),i=e.find(".shareable-post-image"),e.find("h2").length&&e.find("h2").index()<t?i=e.find("h2"):e.find("h3").length&&e.find("h3").index()<t&&(i=e.find("h3")),i.length&&$('<div class="affiliate-links-block"><p class="affiliate-links">This post may include <a target="_blank" href="/affiliate-disclosure">affiliate links.</a></p></div>').insertBefore(i[0])),o.length&&o.addClass("disclaimer-block-no-padding"),n.show()}},BoredPanda.Post.Votes={init:function(){this.registerVotes(),this.votesFromAMPPage()},registerVotes:function(){var c=this;$(document).on("click",".vote-panel.vote-post .btn, .trigger-vote-panel .btn",function(){var e=$(this),t=$(this).parent().parent().parent(),i=$(this).hasClass("btn-up");let o,n,a="";e[0].classList.contains("generic-vote-button")?(o=t.find(".trigger-vote-panel .btn."+(i?"btn-up":"btn-down")),n=t.find(".trigger-vote-panel .btn."+(i?"btn-down":"btn-up")),a="font-normal text-light-gray"):(o=t.find(".vote-panel.vote-post .btn."+(i?"btn-up":"btn-down")),n=t.find(".vote-panel.vote-post .btn."+(i?"btn-down":"btn-up")));var i=$(".voting-panda"),s=$(this).hasClass("btn-up")?1:-1,r=$(this).data("postId"),l=s,d=s;BoredPanda.Config.isLoggedIn?(BoredPanda.Config.isSuperVoter?(o.toggleClass("active"),n.removeClass("active")):(o.hasClass("active")?(d=-s,l=0):n.hasClass("active")&&(d*=2,n.removeClass("active")),o.toggleClass("active"),i.removeClass("panda-happy").removeClass("panda-sad"),i.addClass(0<l?"panda-happy":l<0?"panda-sad":"")),c.updatePoints(d,t,a),c.updateSharebarPanda(e.closest(".vote-panel"),l),-1<window.location.href.indexOf("ampvote")&&$("html,body").animate({scrollTop:e.offset().top},"fast"),i=c.sendRequest(s,r),"1"!==BoredPanda.Utils.getParameterByName("offline_voting")&&i.error(function(e){void 0===e.responseJSON&&BoredPanda.Config.isSuperVoter?alert("Error! Vote was not saved."):!1===e.responseJSON.success&&void 0!==e.responseJSON.error&&BoredPanda.Config.isSuperVoter&&alert(e.responseJSON.error),c.updatePoints(-1*d,t)})):(l=window.location.pathname+"?afterlogin=savevote&post="+r+"&score="+s,window.history.pushState("Vote","Vote",l),BoredPanda.Login.form.show(l,void 0,BoredPanda.Translate.Signup.please_login_vote))}),$(document).on("click",".buy-it-now-button, .shopping-buy-it-now-button",function(){var e=$(this).attr("data-post-id");BoredPanda.Utils.wpAjax({action:"vote_for_affiliate_post",post_id:e}).done(function(e){})})},votesFromAMPPage:function(){var e,t,i,o=""!==BoredPanda.Config.returnUrl?BoredPanda.Config.returnUrl:document.URL,n=BoredPanda.Utils.getParameterByName("score");-1<o.indexOf("ampvote")&&n&&(-1<o.indexOf("savecommentvote")?(t=BoredPanda.Utils.getParameterByName("comment"),e=1==n?"btn-up":"btn-down",i=$("#bp-comment-id-"+t).find("."+e)):-1<o.indexOf("savevote")&&(t=BoredPanda.Utils.getParameterByName("post"),i=-1<o.indexOf("media_id")?$("#"+(1==n?"upvote-submission-id-":"downvote-submission-id-")+t):$(".footer-author-info-mobile .vote ."+(1==n?"btn-up":"btn-down"))),$(window).on("load",function(){i.trigger("click")}))},updateSharebarPanda:function(e,t){e=$(e).find(".mood .panda");0<e.length&&(t<0?e.removeClass("happy neutral").addClass("sad"):0<t?e.removeClass("sad neutral").addClass("happy"):0===t&&e.removeClass("happy sad").addClass("neutral"))},updatePoints:function(e,t,o=""){function n(e,t){t=Math.pow(10,t||0);return Math.round(e*t)/t}t.find(".vote-panel .points, .trigger-vote-panel .points").each(function(){let t=$(this).data("points")+e;$(this).data("points",t);var i=$(this).attr("class").includes("points-only-digits");if(1===t||-1===t){let e=t;i||(e+=` <span class="${o}">point</span>`),$(this).html(e)}else{1<=t/1e3&&t<1e6?t=n(t/1e3,1)+"K":1<=t/1e6&&(t=n(t/1e6,1)+"M");let e=t;i||(e+=` <span class="${o}">points</span>`),$(this).html(e)}})},sendRequest:function(e,t){return BoredPanda.Utils.wpAjax({action:"vote_for_post",score:e,post_id:t})}},BoredPanda.ICheck={init:function(){var e=$(".radio.iwhite, .checkbox.iwhite"),e=(0<e.length&&e.iCheck({increaseArea:"20%",checkboxClass:"checkbox-white",radioClass:"radio-white"}),$(".radio.iblack, .checkbox.iblack"));0<e.length&&e.iCheck({increaseArea:"20%",checkboxClass:"checkbox-black",radioClass:"radio-black"})}},BoredPanda.Newsletter=function(){var t=this;t.visible=ko.observable(!1),t.group=ko.observable("Daily"),t.email=ko.observable(""),t.submit=function(){var e={action:"newsletter_subscribe",group:t.group(),email:t.email,user_id:BoredPanda.Login.form.accountActivation.userId()},e=(BoredPanda.Login.form.buffering(!0),$.ajax({url:ajax_object.ajax_url,data:e,type:"POST"}));e.done(function(){BoredPanda.Login.afterNewsletter()}),e.fail(function(){BoredPanda.Login.afterNewsletter()})}},BoredPanda.Layout={init:function(){this.hiddenLoggedIn(),this.hiddenCookie(),this.newsletterCookie(),this.showFullText()},hiddenLoggedIn:function(){var e=this;$(".hidden-logged-in").each(function(){BoredPanda.Config.isLoggedIn?e.hide(this):$(this).show()})},hiddenCookie:function(){var e=this;$(".hidden-cookie").each(function(){$(this).data("cookie")&&$.cookie($(this).data("cookie"))?e.hide(this):$(this).show()})},hide:function(e){$(e).hide(),$(e).removeClass("hidden-cookie hidden-logged-in")},newsletterCookie:function(){var e="newsletter_subscribed";$(".newsletter-form form, .post-subscribe-form form, .ml-subscribe-form form").each(function(){$(this).submit(function(){$(this).closest(".ml-subscribe-form")?.data("cookie")&&(e=$(this).closest(".ml-subscribe-form").data("cookie")),$.cookie(e,"1",{expires:365,path:"/"})})})},showFullText:function(){$(".post-content .read-more-block .read-more-button").click(function(){$(this).closest(".post-content").find(".read-more-block").hide(),$(this).closest(".post-content").find(".hidden-mobile-paragraphs").show()})}},BoredPanda.ResponsiveImagePlaceholders={init:function(){$(document).ajaxComplete(function(){clearTimeout(this.timeout),this.timeout=setTimeout(placeholderImages,100)})}},BoredPanda.InfiniteScrollFeed={init:function(){BoredPanda.ContentTracking.onFeedPageLoad(),BoredPanda.ChallengesFeed.init()}},BoredPanda.TableOfContents={init:function(){this.handleTocLinks(),this.handleTocItems()},handleTocLinks:function(){$(document).on("click",".toc-link",function(e){e.preventDefault();var e=$(this).data("header-text"),t=$('h2:contains("'+e+'"), h3:contains("'+e+'"), h4:contains("'+e+'"), h5:contains("'+e+'"), h6:contains("'+e+'")'),i=t.filter(function(){return this.id});0<i.length?$("html, body").animate({scrollTop:i.first().offset().top},500):0<t.length?$("html, body").animate({scrollTop:t.first().offset().top},500):console.error("No target header found for: "+e)})},handleTocItems:function(){var t,i=$("#toc"),o=i.find("ol"),n=o.find("> li");o.css("max-height",415),10<n.length&&(i.addClass("has-more-items"),i.find(".toc-show-more").length||i.append('<button class="toc-show-more">See more »</button>'),(t=i.find(".toc-show-more")).on("click",function(){var e;o.hasClass("expanded")?(o.css("max-height",415).removeClass("expanded"),t.text("See more »"),i.addClass("has-more-items")):(e=BoredPanda.TableOfContents.calculateHeight(n,n.length),o.css("max-height",e).addClass("expanded"),t.text("« See less"),i.removeClass("has-more-items"))}))},calculateHeight:function(e,t){var i=0;return e.each(function(e){e<t&&(i+=$(this).outerHeight(!0))}),i}},BoredPanda.ChallengesFeed={init:function(){var e=this;$(".post-widget").each(function(){e.isBound(this)||ko.applyBindings(new BoredPanda.ChallengesWidget,this)}),e.resizeWidgets()},isBound:function(e){return!!ko.dataFor(e)},resizeWidgets:function(){var e=".post-widget-challenges",t=$(e);$.each(t,function(){var e=$(this).data("width");BoredPanda.Config.isMobileWidth&&(e/=1.3714),$(this).width(e)}),$(e).find(".post-widget-challenge").show()}},BoredPanda.SidebarController=function(){var e=this;e.tooltips={subs:{showTooltip:ko.observable(!1)},challenges:{showTooltip:ko.observable(!1)}},e.hoverSubsOn=function(){e.tooltips.subs.showTooltip(!0)},e.hoverSubsOff=function(){e.tooltips.subs.showTooltip(!1)},e.hoverChallengesOn=function(){e.tooltips.challenges.showTooltip(!0)},e.hoverChallengesOff=function(){e.tooltips.challenges.showTooltip(!1)}},BoredPanda.AdvertiseController=function(){var o=this;o.name=ko.observable(""),o.email=ko.observable(""),o.phone=ko.observable(""),o.company=ko.observable(""),o.description=ko.observable(""),o.loading=ko.observable(!1),o.successMessage=ko.observable(!1),o.errorMessage=ko.observable(""),o.error=ko.observable(!1),o.errorSend=ko.observable(!1),o.submit=function(){o.successMessage(!1),o.errorSend(!1),o.error(!1);var e,t,i=$.extend({},this);for(e in delete i.loading,delete i.successMessage,delete i.errorSend,delete i.error,delete i.errorMessage,delete i.submit,i)if(""===i[e]())return o.error(!0),void o.errorMessage("Please fill all fields!");i.description().length<50?(o.error(!0),o.errorMessage("Description must be at least 50 characters length")):(t={action:"advertise_send_data",data:ko.toJSON(i)},o.loading(!0),$.ajax({type:"POST",url:ajax_object.ajax_url,data:t,dataType:"json"}).done(function(e){o.loading(!1),!0===e.success?(o.successMessage(!0),o.name(""),o.email(""),o.phone(""),o.company(""),o.description("")):(o.error(!0),o.errorMessage("Error sending email. Please try again."))}))}},BoredPanda.Advertise={init:function(){var e=$("body.page-template-advertise section.contact");0<e.length&&(BoredPanda.advertise=new BoredPanda.AdvertiseController,ko.applyBindings(BoredPanda.advertise,e.get(0)))}},BoredPanda.Shares={init:function(){this.initShares(this),this.mobileAdditionalShares(),this.mobileEmailShare(),this.youtubeSubscribe()},initShares:function(e){$(".tumblr-post-share").each(function(){var e=$(this).data("share-url");$(this).click(function(){window.open("http://tumblr.com/widgets/share/tool?posttype=photo&canonicalUrl="+encodeURIComponent(e||BoredPanda.generateShareablePermalink())+"&content="+encodeURIComponent($('meta[property="og:image"]').attr("content"))+"&title="+encodeURIComponent(document.title),"tumblr-share-dialog","width=540,height=600")})}),$(".beloud-post-share").each(function(){var e=$(this).data("share-url");$(this).click(function(){window.open("https://www.beloud.com/share?url="+encodeURIComponent(e||BoredPanda.generateShareablePermalink()))})}),$(".reddit-post-share").each(function(){var e=$(this).data("share-url");$(this).click(function(){window.open("http://reddit.com/submit?url="+encodeURIComponent(e||BoredPanda.generateShareablePermalink())+"&title="+encodeURIComponent(document.title),"reddit-share-dialog","width=540,height=600")})}),$(".google-post-share").each(function(){var e=$(this).data("share-url");$(this).click(function(){window.open("https://plus.google.com/share?url="+encodeURIComponent(e||BoredPanda.generateShareablePermalink())+"&title="+encodeURIComponent(document.title),"google-share-dialog","width=540,height=600")})}),$(".post-shares-footer .email-footer-share").click(function(){$(this).parent().find(".email-share-modal").show()})},formatGa4LabelBasedOnWindowWidth:function(){return 768<$(window).width()?"desktop":"mobile"},mobileAdditionalShares:function(){$(".post-shares-footer.mobile .more-shares").click(function(){var e=$(".post-shares-footer.mobile .additional-shares");$("body").addClass("additional-shares-open"),e.show()}),$(".post-shares-footer.mobile .additional-shares .close").click(function(){$("body").removeClass("additional-shares-open"),$(".post-shares-footer.mobile .additional-shares").hide()}),$(".post-shares-footer.mobile .additional-shares").click(function(e){e.target===this&&($("body").removeClass("additional-shares-open"),$(".post-shares-footer.mobile .additional-shares").hide())})},mobileEmailShare:function(){$(".post-shares-footer.mobile .email-footer-share").click(function(){$(".post-shares-footer.mobile .shares-newsletter-sign-up").show()}),$(".post-shares-footer.mobile .shares-newsletter-sign-up .sign-up").click(function(){var e=$(this).parent().find("input.email").val();e&&$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"email_share_subscribe_newsletter",email:e},dataType:"json"}).done(function(){var e=$(".post-shares-footer.mobile .shares-newsletter-sign-up");e.html('<span class="title">Subscribed!</span>'),setTimeout(function(){e.remove()},2e3)})})},youtubeSubscribe:function(){$(".youtube-subscribe-button").click(function(){var e=$(this).data("channelid");window.open("https://www.youtube.com/channel/"+e+"?sub_confirmation=1","youtube-subscribe-dialog","width=540,height=600")})}},BoredPanda.ChallengesWidget=function(){var o=this;o.leftActive=ko.observable(!1),o.rightActive=ko.observable(!0),o.scrolledTo=ko.observable(0),o.maxSteps=ko.observable(null),o.scroll=function(e,t){null===o.maxSteps()&&o.maxSteps(parseInt($(t.currentTarget).closest(".post-widget").find(".post-widget-challenges").data("steps")));var i,t=$(t.currentTarget).closest(".post-widget").find(".post-widget-container");"right"===e&&o.rightActive()?(o.scrolledTo(o.scrolledTo()+1),i=t.find(".post-widget-challenge").eq(o.scrolledTo()).position(),t.animate({scrollLeft:i.left},800),o.leftActive(!0),o.rightActive(o.scrolledTo()<o.maxSteps())):"left"===e&&o.leftActive()&&(o.scrolledTo(o.scrolledTo()-1),t.animate({scrollLeft:t.find(".post-widget-challenge").eq(o.scrolledTo()).position().left},800),o.rightActive(!0),o.leftActive(0<o.scrolledTo()))}},BoredPanda.CarouselWidget=function(){let n=this;n.leftActive=ko.observable(!1),n.rightActive=ko.observable(!0),n.scrolledTo=ko.observable(0),n.maxSteps=ko.observable(null),adjustCarouselPostWidthToContainerWidth(),BoredPanda.Config.isTabletWidth&&($(".boredpanda-carousel-widget .boredpanda-carousel-posts-list").on("swipeleft",function(e){e.preventDefault(),n.scroll("right",e,0)}),$(".boredpanda-carousel-widget .boredpanda-carousel-posts-list").on("swiperight",function(e){e.preventDefault(),n.scroll("left",e,0)})),n.scroll=function(e,t,i){var o=$(t.currentTarget).closest(".boredpanda-carousel-widget").attr("data-type"),o=(gtag("event",o+"-swipe",{position:e}),i=i||300,null===n.maxSteps()&&n.maxSteps(parseInt($(t.currentTarget).closest(".boredpanda-carousel-widget").find(".boredpanda-carousel-posts-list-container").data("steps"))),$(t.currentTarget).closest(".boredpanda-carousel-widget").find(".boredpanda-carousel-posts-list"));"right"===e&&n.rightActive()?(n.scrolledTo(n.scrolledTo()+1),o.animate({scrollLeft:o.find(".boredpanda-carousel-post").eq(n.scrolledTo())[0].offsetLeft},i),n.leftActive(!0),n.rightActive(n.scrolledTo()<n.maxSteps())):"left"===e&&n.leftActive()&&(n.scrolledTo(n.scrolledTo()-1),o.animate({scrollLeft:o.find(".boredpanda-carousel-post").eq(n.scrolledTo())[0].offsetLeft},i),n.rightActive(!0),n.leftActive(0<n.scrolledTo()))}},$(document).ready(function(n){n(".darkModeToggle").on("click",function(){var e=parseInt(n.cookie("dark_mode")),t=parseInt(n.cookie("experiment_detect_color_scheme"));let i;i=1===t?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?0:1:1===e?0:1,n.cookie("experiment_detect_color_scheme",0,{expires:60,path:"/"}),n.cookie("dark_mode",i,{expires:60,path:"/"}),BoredPanda.Tracking.sendSimpleGA4Event("dark_mode_toggle");var t=new URL(window.location.href),e=t.searchParams,o=(new Date).getTime();e.has("_")?e.set("_",o):e.append("_",o),window.location.href=t.toString()}),n("#read-more-inside-post").on("click",function(e){e.preventDefault(),n(this).hide(),n(".hiddenPostText").removeClass("hiddenPostText"),n("#content img").each(function(){var e=n(this).offset(),t=n.trim(n(this).attr("src")),t=document.getElementById(t);n(t).offset({top:e.top,left:e.left})})}),n(".facebook-shareable-url-for-staff").on("click",function(){n(this).select()}),n(window).on("beforeunload",function(){var e;-1!==document.URL.indexOf("scrolltop")&&(e=BoredPanda.Utils.getParameterByName("scrolltop"),n(window).scrollTop(e))}),n(".ml-subscribe-form-2341867 .ml-block-success").click(function(){n(this).parent().find(".newsletter-subscribe-post-bottom").show(),n(this).parent().find(".newsletter-spinner").hide(),n(this).parent().find(".error").hide(),n(this).parent().find(".email").removeClass("invalid-email")}),n(".ml-subscribe-form-2341867.newsletter-form .show-form").click(function(){n(this).closest("form").find(".input-group").show()}),putOverlayOnListImages(),n(window).resize(function(){putOverlayOnListImages(),BoredPanda.Config.isFeed&&adjustCarouselPostWidthToContainerWidth()}),BoredPanda.init(),BoredPanda.ChallengesFeed.init(),n(".boredpanda-carousel-widget").each(function(){ko.dataFor(this)||ko.applyBindings(new BoredPanda.CarouselWidget,this)})}),BoredPanda.ResponsiveImagePlaceholders.init()}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Share=function(){let o=this;o.shareUrl=ko.observable(""),o.title=ko.observable(""),o.image=ko.observable(""),o.showDialog=ko.observable(!1),o.mailHref=ko.observable("#"),o.shareSource=ko.observable(""),o.shareDialogTitle=ko.computed(function(){return o.shareUrl().includes("media_id")?BoredPanda.Translate.Share.share_this_image:BoredPanda.Translate.Share.share_this_article}),o.init=function(){o.initEvent()},o.initEvent=function(){$(document).on("click",".web-share-button, .trigger-share-modal",function(){var e=$(this).first().attr("class"),e=(e.includes("trigger-share-modal")?o.shareSource($(this).data("share-source")):e.includes("web-share-button")&&o.shareSource("img"),$(this).data());o.shareUrl(e.shareUrl||""),o.title(e.title||""),o.image(e.image||""),navigator.share?navigator.share({title:o.title(),url:o.shareUrl()}).then(()=>{console.log("Thanks for sharing!")}).catch(console.error):o.openDialog()})},o.openDialog=function(){$("body").addClass("web-shares-open"),o.showDialog(!0)},o.closeDialog=function(){$("body").removeClass("web-shares-open"),o.shareSource(""),$(".web-share-dialog-copy-link").text(BoredPanda.Translate.Share.copy_link),o.showDialog(!1)},o.shareOnMessenger=function(){var e=o.formatGa4LabelBasedOnWindowWidth(),e=(BoredPanda.Tracking.sendGA4Event("Post modal shares","Messenger",e),"&"+o.getUtmParams());window.open("fb-messenger://share?link="+encodeURIComponent(o.shareUrl())+"&app_id="+BoredPanda.Config.fbAppId+e)},o.shareOnEmail=function(e,t){var i=o.formatGa4LabelBasedOnWindowWidth(),i=(BoredPanda.Tracking.sendGA4Event("Post modal shares","email",i),"?"+o.getUtmParams());window.location.href="mailto:?body="+e+"%0D%0A%0D%0A"+encodeURIComponent(o.shareUrl()+i)+"%0D%0A%0D%0A"+t+" "+BoredPanda.Config.homeUrl+"/bored-panda-newsletter/&subject="+o.title()},o.shareOnFacebook=function(){var t=BoredPanda.Shares.formatGa4LabelBasedOnWindowWidth(),t=(BoredPanda.Tracking.sendGA4Event("Post modal shares","Facebook",t),"&"+o.getUtmParams());if(o.image()){let e="";0<$("meta[property='og:description']").length&&(e=$("meta[property='og:description']").attr("content")),window.open("https://www.facebook.com/dialog/feed?display=popup&              app_id="+BoredPanda.Config.fbAppId+"              &link="+encodeURIComponent(o.shareUrl())+"              &picture="+encodeURIComponent(o.image())+"              &name="+encodeURIComponent(o.title())+"              &description="+encodeURIComponent(e)+"              &redirect_uri="+encodeURIComponent(BoredPanda.Config.homeUrl+"/close.html")+t,"facebook-share-dialog","width=626,height=436")}else window.open("https://www.facebook.com/dialog/share?app_id="+BoredPanda.Config.fbAppId+"&display=popup&href="+encodeURIComponent(o.shareUrl())+"&redirect_uri="+encodeURIComponent(BoredPanda.Config.homeUrl+"/close.html")+t,"facebook-share-dialog","width=626,height=436")},o.shareOnTwitter=function(){var e=BoredPanda.Shares.formatGa4LabelBasedOnWindowWidth(),e=(BoredPanda.Tracking.sendGA4Event("Post modal shares","Twitter",e),"&"+o.getUtmParams());window.open("https://www.twitter.com/share?url="+encodeURIComponent(o.shareUrl())+"&via=boredpanda&text="+encodeURIComponent(document.title)+e,"twitter-share-dialog","width=626,height=273")},o.shareOnPinterest=function(){var e=BoredPanda.Shares.formatGa4LabelBasedOnWindowWidth(),e=(BoredPanda.Tracking.sendGA4Event("Post modal shares","Pinterest",e),"&"+o.getUtmParams());window.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(o.shareUrl())+"&media="+encodeURIComponent($('meta[property="og:image"]').attr("content"))+"&description="+encodeURIComponent(document.title)+e,"pintrest-pin-dialog","width=750,height=328")},o.copyLink=async function(){var e=("img"===o.shareSource()?"&":"?")+o.getUtmParams(),e=o.shareUrl()+e,t=document.createElement("textarea"),e=(t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),$(".web-share-dialog-copy-link"));e.text(BoredPanda.Translate.Share.copied),await new Promise(e=>setTimeout(e,2e3)),e.text(BoredPanda.Translate.Share.copy_link)},o.formatGa4LabelBasedOnWindowWidth=function(){return 768<$(window).width()?"desktop":"mobile"},o.getUtmParams=function(){let e="user";return BoredPanda.Config.isStaffMember&&(e="staff"),`utm_source=share&utm_medium=${o.shareSource()}&utm_campaign=`+e}},$(document).ready(function(){var e=new BoredPanda.Share;ko.applyBindings(e,$(".web-share").get(0)),e.init();let o={};$(".tooltip-trigger").click(async function(){var e,t=$(this).data("post-id"),i=$(".tooltip-box.post-"+t);o.hasOwnProperty(t)&&!0===o[t]||(o[t]=!0,(e=document.createElement("textarea")).value=$(this).data("share-url"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),i.fadeIn(),await new Promise(e=>setTimeout(e,2e3)),i.fadeOut(),o[t]=!1)})})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.FooterControl={init:function(){979<BoredPanda.Config.windowWidth&&(0<BoredPanda.Config.postId||BoredPanda.Config.isFeed)&&this.onscroll()},onscroll:function(){BoredPanda.Scroll.scrollCallback.add(function(){300<document.body.scrollTop||300<document.documentElement.scrollTop?document.getElementById("scrollToTopDesktop").style.display="block":document.getElementById("scrollToTopDesktop").style.display="none"})}},$(document).ready(function(){BoredPanda.FooterControl.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Login={init:function(){BoredPanda.Login.form=new BoredPanda.Login.Form,0<$("#auth-modal").length?ko.applyBindings(BoredPanda.Login.form,$("#auth-modal")[0]):0<$(".auth").length&&(ko.applyBindings(BoredPanda.Login.form,$(".auth")[0]),BoredPanda.Login.form.initScripts()),0<$(".auth.mobile").length&&BoredPanda.Login.form.initScripts(),$(".login-url").on("click",function(e){e.preventDefault(),e.stopPropagation(),BoredPanda.Login.form.show()}),-1==(""!==BoredPanda.Config.returnUrl?BoredPanda.Config.returnUrl:document.URL).indexOf("afterload=login")||BoredPanda.Config.isLoggedIn||$(".login-url").trigger("click")},afterLoginCallback:void 0,afterLoginCallFunction:void 0,afterLogin:function(){var t=this;function e(){var e=BoredPanda.Utils.wpAjax({action:"newsletter_prompt_show",user_id:BoredPanda.Login.form.accountActivation.userId()||0});e.done(function(e){e.data&&!0===e.data.show&&BoredPanda.Login.form.prompNewsletter()?(BoredPanda.Login.form.signupForm.visible()||$("#newsletter-prompt .newsletter-choice").addClass("signin"),BoredPanda.Login.form.loginForm.visible(!1),BoredPanda.Login.form.signupForm.visible(!1),BoredPanda.Login.form.forgotForm.visible(!1),BoredPanda.Login.form.newsletterPrompt.visible(!0),BoredPanda.Login.form.buffering(!1),BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.closeToHomepage(!1)):t.afterNewsletter()}),e.fail(function(){t.afterNewsletter()})}BoredPanda.Tracking.trackInviteeClicks("login"),BoredPanda.Login.form.buffering(!0),BoredPanda.Tracking.trackEvent("auth","login",""),-1!==document.URL.indexOf("add-new-post")?BoredPanda.Tracking.trackEvent("Add Post Login Form","Logged In","success"):BoredPanda.Tracking.trackEvent("Login form","Logged In","success"),BoredPanda.Config.isLoggedIn=!0,BoredPanda.Config.showSubmissionPopup=!1,void 0!==BoredPanda.Config.loginFromAddPost&&!0===BoredPanda.Config.loginFromAddPost&&BoredPanda.Tracking.trackEvent("Add Post Form","Login Popup","click"),void 0!==t.afterLoginCallback?t.afterLoginCallback().always(e):e()},afterNewsletter:function(){var e,t;if(!1===BoredPanda.Login.form.accountActivation.userActive())BoredPanda.Login.form.showAccountActivation();else{if(e=""!==BoredPanda.Config.returnUrl?BoredPanda.Config.returnUrl:document.URL,t=-1!==document.URL.indexOf("auth")?e.slice(0,e.indexOf("?")):document.location.pathname,-1<e.indexOf("add-new-post")&&BoredPanda.Tracking.trackAddPostFormLoggedIn(),void 0!==BoredPanda.Login.afterLoginCallFunction)return BoredPanda.Login.afterLoginCallFunction();-1<e.indexOf("cid=")?this.afterComment(e,t):-1<e.indexOf("savevote")?this.afterVote(t):-1<e.indexOf("savecommentvote")?this.afterCommentVote(t):-1<e.indexOf("textsub")?this.afterTextSubmission():e===document.URL||-1!==document.URL.indexOf("auth")?location.reload():window.location.replace(e)}},afterVote:function(e){var t=BoredPanda.Utils.getParameterByName("score",document.URL),i=BoredPanda.Utils.getParameterByName("post",document.URL),t=t||BoredPanda.Utils.getParameterByName("score",decodeURIComponent(document.URL)),i=i||BoredPanda.Utils.getParameterByName("post",decodeURIComponent(document.URL));BoredPanda.Post.Votes.sendRequest(t,i).done(function(){BoredPanda.notice.setNotice("<p><i></i>Woohoo! Your vote has been saved!</p>"),window.history.pushState("object or string","Title",e),location.reload()})},afterCommentVote:function(e){var t=BoredPanda.Utils.getParameterByName("score",document.URL),i=BoredPanda.Utils.getParameterByName("comment",document.URL),t=t||BoredPanda.Utils.getParameterByName("score",decodeURIComponent(document.URL)),i=i||BoredPanda.Utils.getParameterByName("comment",decodeURIComponent(document.URL));BoredPanda.Comment.Votes.sendRequest(t,i).done(function(){BoredPanda.notice.setNotice("<p><i></i>Woohoo! Your comment vote has been saved! </p>"),window.history.pushState("object or string","Title",e+"?voteSaved"),location.reload()})},afterTextSubmission:function(){(new BoredPanda.OpenList.AppendForm).publishTextSubmissionMobile(1).done(function(){BoredPanda.notice.setNotice("<p><i></i>Woohoo! Your submission has been published! </p>"),location.reload()})},afterComment:function(e,t){e=BoredPanda.Utils.getParameterByName("cid",e);BoredPanda.Utils.wpAjax({action:"change_comment_author",comment_id:e}).always(function(){BoredPanda.notice.setNotice("<p><i></i>Woohoo! Your comment has been saved! </p>"),window.history.pushState("object or string","Title",t+"?commentUpdated"),location.reload()})}},BoredPanda.Login.Form=function(){var a=this;a.googleClient=null,a.buffering=ko.observable(!1),a.closeable=ko.observable(!0),a.closeToHomepage=ko.observable(!1),a.fieldErrors=ko.observable(!1),a.invalidEmail=ko.observable(!1),a.prompNewsletter=ko.observable(!0),a.showSocialLogin=ko.observable(!0),a.loginForm={title:ko.observable(BoredPanda.Translate.Signup.title),visible:ko.observable(!0),remember:ko.observable(!0),error:ko.observable(""),email:ko.observable(""),password:ko.observable(""),librariesLoaded:ko.observable(!1)},a.signupForm={visible:ko.observable(!1),error:ko.observable(""),fieldErrors:ko.observable(!1),email:ko.observable(""),fullName:ko.observable(""),password:ko.observable(""),recaptchaLoaded:ko.observable(!1)},a.forgotForm={visible:ko.observable(!1),error:ko.observable(""),errorCssClass:ko.observable(""),fieldErrors:ko.observable(!1),email:ko.observable(""),success:ko.observable(!1)},a.registerEmail={visible:ko.observable(!1),error:ko.observable(""),errorCssClass:ko.observable(""),fieldErrors:ko.observable(!1),email:ko.observable(""),userId:ko.observable(0)},a.accountActivation={visible:ko.observable(!1),error:ko.observable(""),errorCssClass:ko.observable(""),userId:ko.observable(0),userActive:ko.observable(!0)},a.newsletterPrompt=new BoredPanda.Newsletter,a.showLogin=function(){a.loginForm.visible(!0),a.signupForm.visible(!1),a.forgotForm.visible(!1),a.registerEmail.visible(!1),a.accountActivation.visible(!1),a.showSocialLogin(!0),a.fieldErrors(!1)},a.showSignup=function(){a.loginForm.visible(!1),a.signupForm.visible(!0),a.forgotForm.visible(!1),a.registerEmail.visible(!1),a.accountActivation.visible(!1),a.showSocialLogin(!0),a.fieldErrors(!1)},a.showForgot=function(){a.loginForm.visible(!1),a.signupForm.visible(!1),a.forgotForm.visible(!0),a.registerEmail.visible(!1),a.accountActivation.visible(!1),a.showSocialLogin(!0),a.fieldErrors(!1),a.forgotForm.success(!1)},a.showRegisterEmail=function(){a.loginForm.visible(!1),a.signupForm.visible(!1),a.forgotForm.visible(!1),a.registerEmail.visible(!0),a.accountActivation.visible(!1),a.showSocialLogin(!0),a.closeable(!1),a.closeToHomepage(!0),a.fieldErrors(!1)},a.showAccountActivation=function(){a.loginForm.visible(!1),a.signupForm.visible(!1),a.forgotForm.visible(!1),a.registerEmail.visible(!1),a.newsletterPrompt.visible(!1),a.accountActivation.visible(!0),a.showSocialLogin(!1),a.buffering(!1),a.closeable(!0),a.closeToHomepage(!1),a.fieldErrors(!1)},a.accountActivated=function(){a.buffering(!0);var e={action:"contribution_is_account_active",user_id:a.accountActivation.userId()};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){a.buffering(!1),"0"===e.success?(a.accountActivation.error(BoredPanda.Translate.Signup.account_not_active),a.accountActivation.errorCssClass("text-danger"),a.accountActivation.userActive(!1)):a.accountActivation.userActive(!0),BoredPanda.Login.afterNewsletter()})},a.resendActivationMail=function(){a.buffering(!0);var e={action:"contribution_resend_mail",user_id:a.accountActivation.userId(),redirect:document.URL};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){a.buffering(!1),"1"===e.success?(a.accountActivation.error(BoredPanda.Translate.Signup.message_resent),a.accountActivation.errorCssClass("text-success text-success-new")):(a.accountActivation.error(BoredPanda.Translate.Signup.error_occurred),a.accountActivation.errorCssClass("text-danger"))})},a.initGoogleClient=function(){a.googleClient=google.accounts.oauth2.initTokenClient({client_id:BoredPanda.Config.googleClientId,scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email",ux_mode:"popup",callback:e=>{BoredPanda.Login.Google.loadProfileCallback(e.access_token)}})},a.initScripts=function(){a.loginForm.librariesLoaded()||(BoredPanda.Utils.loadScript("https://connect.facebook.net/"+BoredPanda.Config.wp_lang+"/sdk.js"),BoredPanda.Utils.loadScript("https://accounts.google.com/gsi/client",!0,a.initGoogleClient),a.loginForm.librariesLoaded(!0)),"com"!==BoredPanda.Config.bpVersion||a.signupForm.recaptchaLoaded()||(BoredPanda.Utils.loadScript("https://www.google.com/recaptcha/api.js",!1),a.signupForm.recaptchaLoaded(!0))},a.show=function(e,t,i,o){var n;a.initScripts(),BoredPanda.Tracking.trackEvent("Login form","open","impression"),$(document).width()<768?(n=location.protocol+"//"+location.hostname+"/auth/",void 0!==e?n+="?returnurl="+encodeURIComponent(e):""!==BoredPanda.Config.returnUrl?n+="?returnurl="+encodeURIComponent(BoredPanda.Config.returnUrl):n+="?returnurl="+encodeURIComponent(document.URL),i&&(n+="&title="+encodeURIComponent(i)),window.location.href=n):(BoredPanda.Login.afterLoginCallback=t,i&&a.loginForm.title(i),o&&(BoredPanda.Login.afterLoginCallFunction=o),$("#auth-modal").modal())},$("#auth-modal").on("hide.bs.modal",function(){return a.closeable()}),a.isEmailValid=function(e){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e)},a.login=function(){var e;a.loginForm.email().length<1||a.loginForm.password().length<1?a.fieldErrors(!0):(a.fieldErrors(!1),e={action:"contribution_login",user_login:a.loginForm.email(),user_password:a.loginForm.password(),remember_me:a.loginForm.remember()},a.buffering(!0),(e=$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"})).done(function(e){a.buffering(!1),"0"===e.success?a.loginForm.error(BoredPanda.Translate.Signup.incorrect_email_password):"-1"===e.success?(BoredPanda.Login.form.accountActivation.userActive(!1),BoredPanda.Login.form.accountActivation.userId(e.user_id),BoredPanda.Login.afterLogin()):"-2"===e.success?a.loginForm.error(BoredPanda.Translate.Signup.user_blocked):BoredPanda.Login.afterLogin()}),e.fail(function(e,t,i){a.buffering(!1);t={action:"log_login_fails",message:"Simple login error line 414: user email: "+a.loginForm.email()+". Error: "+t+" "+i};$.ajax({type:"POST",url:ajax_object.ajax_url,data:t,dataType:"json"}),alert("Something went wrong. Try again")}))},a.fbLogin=function(){a.buffering(!0);try{FB.login(function(t){t.authResponse&&FB.api("/me","get",{fields:"email, first_name, last_name"},function(o){var e={action:"social_signup_callback",ID:o.id,AccessToken:t.authResponse.accessToken,Email:o.email,Username:o.username,FirstName:o.first_name,LastName:o.last_name,PictureURL:"https://graph.facebook.com/"+o.id+"/picture?type=large",ServiceName:"facebook"},e=(void 0===o.id&&$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"log_social_login",loginResponse:t,response:o},dataType:"json"}),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}));e.done(function(e){a.buffering(!1),e.enter_email||0?(a.registerEmail.userId(e.user_id),a.showRegisterEmail()):BoredPanda.Login.afterLogin()}),e.fail(function(e,t,i){a.buffering(!1);t={action:"log_login_fails",message:"Fb login error line 481: user email: "+o.email+". Error: "+t+" "+i};$.ajax({type:"POST",url:ajax_object.ajax_url,data:t,dataType:"json"}),alert("Something went wrong. Try again")})})},{scope:"public_profile,email"})}catch(e){a.buffering(!1);var t={action:"log_login_fails",message:"Facebook login error line 500. Error: "+e.message};$.ajax({type:"POST",url:ajax_object.ajax_url,data:t,dataType:"json"}),alert("Something wrong. Try again")}},a.googleLogin=function(){a.buffering(!0),a.googleClient.requestAccessToken()},a.signup=function(){var e;a.invalidEmail(!1),a.fieldErrors(!1),a.signupForm.error(""),!a.isEmailValid(a.signupForm.email())||a.signupForm.fullName().length<1||!BoredPanda.Utils.isPasswordSecure(a.signupForm.password())||"undefined"!=typeof grecaptcha&&0===grecaptcha.getResponse().length?(a.isEmailValid(a.signupForm.email())||a.invalidEmail(!0),BoredPanda.Utils.isPasswordSecure(a.signupForm.password())||a.signupForm.error(BoredPanda.Translate.Settings.password_strength_error),"undefined"!=typeof grecaptcha&&0===grecaptcha.getResponse().length&&a.signupForm.error(BoredPanda.Translate.Signup.recaptcha_error),a.fieldErrors(!0)):(e={action:"contribution_signup",user_email:a.signupForm.email(),user_full_name:a.signupForm.fullName(),user_pass:a.signupForm.password(),redirect:document.URL},"undefined"!=typeof grecaptcha&&(e.recaptcha_response=grecaptcha.getResponse()),a.buffering(!0),(e=$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"})).done(function(e){a.buffering(!1),"-2"===e.success?a.signupForm.error(BoredPanda.Translate.Signup.email_taken):"0"===e.success?a.signupForm.error(BoredPanda.Translate.Signup.internal_error):"1"===e.success?BoredPanda.Login.afterLogin():"-1"===e.success?(BoredPanda.Login.form.accountActivation.userActive(!1),BoredPanda.Login.form.accountActivation.userId(e.user_id),BoredPanda.Login.afterLogin()):"-3"===e.success&&a.signupForm.error(BoredPanda.Translate.Signup.recaptcha_error)}),e.fail(function(e,t,i){BoredPanda.Login.form.buffering(!1);i={action:"log_login_fails",message:"Sign up error line 572. user email: "+a.signupForm.email()+". Error: "+i};$.ajax({type:"POST",url:ajax_object.ajax_url,data:i,dataType:"json"}),alert("Something went wrong. Try again")}))},a.forgot=function(){var e;a.forgotForm.email().length<1?a.fieldErrors(!0):/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(a.forgotForm.email())?(a.invalidEmail(!1),a.fieldErrors(!1),e={action:"contribution_forgot_password",loginname:a.forgotForm.email()},a.buffering(!0),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){a.buffering(!1),"1"===e.success||"-1"===e.success?(a.forgotForm.error(""),a.forgotForm.success(!0)):(a.forgotForm.error(BoredPanda.Translate.Signup.internal_error),a.forgotForm.errorCssClass("text-danger"))})):(a.invalidEmail(!0),a.fieldErrors(!0))},a.registerEmailSubmit=function(){var e;a.registerEmail.email().length<1?a.fieldErrors(!0):/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(a.registerEmail.email())?(a.invalidEmail(!1),a.fieldErrors(!1),e={action:"contribution_update_email",email:a.registerEmail.email(),user_id:a.registerEmail.userId()},a.buffering(!0),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(){BoredPanda.Login.afterNewsletter()})):(a.invalidEmail(!0),a.fieldErrors(!0))},-1===document.URL.indexOf("add-new-post")||BoredPanda.Config.isLoggedIn||(a.closeable(!1),a.closeToHomepage(!1),a.prompNewsletter(!1))},BoredPanda.Login.Google={loadProfileCallback:function(e){e=$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"social_signup_callback",AccessToken:e,ServiceName:"google"},dataType:"json"});e.done(function(){BoredPanda.Login.afterLogin(),BoredPanda.Login.form.buffering(!1)}),e.fail(function(e,t,i){BoredPanda.Login.form.buffering(!1);i={action:"log_login_fails",message:"Google login error line 770: user email: "+profile.getEmail()+". Error: "+i};$.ajax({type:"POST",url:ajax_object.ajax_url,data:i,dataType:"json"}),alert("Something wrong. Try again")})}},$(document).ready(function(){BoredPanda.Config.isLoggedIn||BoredPanda.Login.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{};BoredPanda.NotificationSettings;var t=function(e){var n=this;n.isDirty=ko.observable(!1),n.initialized=ko.observable(!1),n.showMessage=ko.observable(!1),n.message=ko.observable(""),n.options=ko.observableArray(),n.button=ko.observable(BoredPanda.Translate.Settings.no_changes),n._lines={n_post_comment:"Somebody comments on my post for the first time",n_comment_reply:"Somebody replies to my comment for the first time",n_open_list_author:"Somebody contributes to an open list I created",n_open_list_contributor:"My contribution gets approved",n_post_author:"Email me about my story success",n_user_follow:"Somebody from my followed pandas submits a post"},n.init=function(){n.contactAuthor=ko.observable(!0===e.find("#contact-author").data("checked")),BoredPanda.Utils.nAjax("GET","/user_settings?client=email").done(function(e){var t,i=e.data;for(t in i.email)n.options.push({val:i.email[t],text:n._lines[t],key:t});n.initialize()})},n.clicked=function(){return n.isDirty(!0),!0},n.initialize=function(){for(var e in n)n.hasOwnProperty(e)&&n[e].subscribe&&n[e].subscribe(function(e){n.isDirty(!0),n.button(BoredPanda.Translate.Settings.save_changes)});n.isDirty(!1)},n.save=function(){for(var e={},t=0;t<n.options().length;t++)e[n.options()[t].key]=n.options()[t].val;var i=BoredPanda.Utils.nAjax("POST","/user_settings",JSON.stringify({email:e})),o=BoredPanda.Utils.wpAjax({action:"save_notification_settings",settings:{allow_contact_author:n.contactAuthor(),nonce:$("#user_nonce").val()}});i.done(function(){o.done(function(){n.message(BoredPanda.Translate.Settings.changes_saved),n.showMessage(!0),setTimeout(function(){n.showMessage(!1),n.message("")},5e3)})})}};$(document).ready(function(e){0<e("#notification-settings").length&&(BoredPanda.Config.isLoggedIn?(BoredPanda.notificationSettings=new t(e("#notification-settings")),ko.applyBindings(BoredPanda.notificationSettings,e("#notification-settings")[0]),BoredPanda.notificationSettings.init()):(BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.show(void 0,void 0,"Please log in to continue")))})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Comment={uploader:[],flagComment:!1,init:function(){this.ui(),BoredPanda.Comment.Votes.init(),this.bindCommentRepliesShowing(),this.bindHiddenCommentsShowing(),this.bindCommentInputFocus(),this.bindMoreCommentsRemove(),this.initCommentImages(),this.initCommentActions(),BoredPanda.Config.isStaffMember&&this.bindCommentMarkSpam()},bindCommentMarkSpam:function(){BoredPanda.Config.isStaffMember&&$(document).on("click",".mark-comment-spam",function(){var e,t;!0===confirm("Are you sure?")&&(t=(e=$(this)).attr("data-id"),BoredPanda.Utils.wpAjax({action:"mark_comment_spam",comment_id:t}).done(function(){e.parent().parent().parent().remove()}))})},bindCommentInputFocus:function(){$(".comment-text").focus(function(){$(this).parent().parent().find(".post-comment").addClass("active")}),$(".comment-text").focusout(function(){0===$(this).val().length&&$(this).parent().parent().find(".post-comment").removeClass("active")})},bindMoreCommentsRemove:function(){$(".load-more-replies").each(function(){$(this).parent().parent().parent().find(".comment").length<2&&$(this).remove()})},bindCommentRepliesShowing:function(){$(document).on("click",".load-more-replies",function(){var e=$(this).attr("data-comment-id");$(".comment[data-comment-id="+e+"] .comment").each(function(){$(this).show()}),$(this).remove()})},bindHiddenCommentsShowing:function(){$(document).on("click",".show-hidden-comment",function(){$(this).parent().parent().find("p").show(),$(this).parent().parent().find(".links").show(),$(this).parent().parent().find(".hidden-comment").remove()})},initCommentActions:function(){var e;$(document).on("mouseleave",".comment-block",function(){window.clearTimeout(e),$(this).closest(".comment-block").find(".author-follow-tooltip").hide()}),$(document).on("mouseover",".comment-block .comment-post-author, .comment-block .comment-author",function(){var i=$(this).closest(".comment-block").find(".author-follow-tooltip");window.clearTimeout(e),e=window.setTimeout(function(){var e;$(".author-follow-tooltip").hide(),i.hasClass("fetched")?i.show():(e={action:"get_user_stats",user_id:i.attr("data-user-id")},BoredPanda.Utils.wpAjax(e).done(function(e){if(!1!==e.success)for(var t in e.data)i.find("."+t).text(e.data[t]),i.find(".author-status-info").show(),i.find(".author-follow-statistics").show(),i.addClass("fetched");i.show()}))},1500)}),$(document).on("mouseleave",".comment-block .comment-post-author, .comment-block .comment-author",function(){window.clearTimeout(e)}),$(document).on("mouseleave",".comment-container .comment",function(){window.clearTimeout(e),$(this).parent().find("> .comment-block").find(".author-follow-tooltip").hide()}),$(document).on("mouseleave",".comment-block .author-follow-tooltip",function(){window.clearTimeout(e),$(this).hide()}),$(document).on("click",".comment-action.edit-comment",function(){$(this).closest(".comment-block").find("p").hide(),$(this).closest(".comment-block").find(".comment-edit").show()}),$(document).on("click",".comment-action.delete-comment",function(){if(!confirm("Are you sure want to delete this comment?"))return!1;var t=$(this),e=$(this).data("comment-id"),i="<span class='deleted'>This comment has been deleted.</span>",e={action:"admin_update_comment",comment_id:e,cus_action:"delete",post_id:BoredPanda.Config.postId,comment:i};BoredPanda.Utils.wpAjax(e).done(function(e){!1!==e.success?t.closest(".comment-block").find("p").html(i):alert(e.message||"Error deleting comment!")})}),$(document).on("click",".comment-edit .save-comment",function(){var t=$(this).closest(".comment-edit"),i=t.find("textarea").val(),e={action:"admin_update_comment",comment_id:t.closest(".comment").data("comment-id"),post_id:BoredPanda.Config.postId,comment:i};BoredPanda.Utils.wpAjax(e).done(function(e){!1!==e.success?(t.hide(),t.closest(".comment-block").find("p").text(i),t.closest(".comment-block").find("p").show()):alert(e.message||"Error saving comment!")})}),$(document).on("click",".comment-action.report-comment",function(){$(".comment-report-modal").show(),$("body").css("overflow","hidden"),$(".comment-report-modal .report-reason").data("comment-id",$(this).closest(".comment").data("comment-id"))}),$(document).on("click",".comment-report-modal .modal-header .close",function(){$(".comment-report-modal, .comment-report-modal .error, .comment-report-modal .success").hide(),$(".comment-report-modal .error .message").text(""),$("body").css("overflow","auto")}),$(document).on("click",".comment-report-modal .report-reason",function(e){var t={action:"report_comment",comment_id:$(e.target).data("comment-id"),report_reason:$(e.target).text().trim()};const i=$(e.target).closest(".comment-report-modal").find(".error"),o=$(e.target).closest(".comment-report-modal").find(".success"),n=$(e.target).closest(".comment-report-modal").find(".spinner-overlay");i.hide(),o.hide(),n.show();e=BoredPanda.Utils.wpAjax(t);e.done(function(e){(e.success?o:(i.find(".message").text(e.data.message),i)).show(),n.hide()}),e.error(function(){i.show(),n.hide()})})},ui:function(){var s=this,e=$(".post");e.delegate(".comment-text","focus",function(){var e=$(this).closest(".comment-add-block");e.find(".comment-text-block").addClass("expanded"),e.find(".post-comment").show()}),e.delegate(".comment-reply","click",function(e){e.preventDefault(),$(this).parent().parent().find(".load-more-replies").click();$(this).parents(".comment-feature").find(".comment-container .comment-add-block").remove();var e=$(this).parents(".comment").first(),t=$(".comment-add-block").first().clone(),i=e.find(".child-comments").first();t.find(".comment-text-block").addClass("expanded"),t.find(".comment-text-block").addClass("reply-comment-block"),t.find(".comment-text").val(""),0<i.length?t.insertBefore(i):t.appendTo(e),s.bindCommentInputFocus(),t.find(".comment-image").remove(),t.find(".comment-upload-pic").attr("id",""),BoredPanda.Config.isTabletWidth||t.find(".comment-upload-pic").show(),t.find(".upload-comment-image").hide(),s.initImageUploader(t.find(".comment-upload-pic").get(0))}),e.delegate(".post-comment","click",function(e){e.preventDefault();var i=$(this).parents(".comment-add-block").first(),o=$(this).closest(".comment-feature"),n=!1,e=i.find(".comment-image"),a="",e=(0<e.length&&(a=e.find(".comment-background-image").attr("data-image")),!1);if(0===i.find(".comment-text").val().length&&0===a.length?(e=!0,i.find(".comment-text").addClass("elementErrorMode")):i.find(".comment-text").removeClass("elementErrorMode"),0!==i.find(".additional-comment-field").val().length&&(e=!0,i.find(".comment-text").addClass("elementErrorMode")),!0!==e){"com"===BoredPanda.Config.bpVersion&&(e=$("#post-comments span").text(),BoredPanda.Tracking.trackEvent("Comment Title","Commented",e));let t=1;for(let e=1;e<=4;e++)i.parent().hasClass("depth-"+e)&&(t=e+1);e={action:"add_comment",post_id:o.attr("data-post-id"),comment_text:i.find(".comment-text").val(),comment_image:a,depth:5===t?4:t},a=$(this).parents(".comment"),a=(0<a.length&&(e.parent_id=a.first().attr("data-comment-id"),n=!0),!n&&0<$(this).closest(".open-list-comments").length&&BoredPanda.Tracking.trackOpenListCommentSubmit(),i.find(".comment-text").val(""),i.find(".post-comment").css({background:"",color:""}),n?s.showLoadingBarAt(i):o.find(".posting-comment-spinner").show(),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}));a.done(function(e){var t;n?(o.removeClass("in-open-list"),s.hideLoadingBarAt(i.parent())):o.find(".posting-comment-spinner").hide(),BoredPanda.Config.isLoggedIn?(n?(0<(t=i.parent().find(".child-comments")).length?$(e.comment_html).prependTo(t[0]):$('<section class="child-comments comments-list">'+e.comment_html+"</section>").insertBefore(i),i.hide()):o.find(".comment-container").prepend(e.comment_html),$(".remove-comment-image").trigger("click")):(t="",1===e.comment_in_cookie&&(t=window.location.pathname+"?cid="+e.comment_in_cookie,window.history.pushState("object or string","Title",t)),BoredPanda.Login.form.show(t,void 0,"Please log in to comment"))}),a.fail(function(e){void 0!==e.responseText&&(i.append('<div class="comment-error">'+e.responseText+"</div>"),setTimeout(function(){$(".comment-error").remove()},5e3)),o.find(".posting-comment-spinner").hide()})}}),e.delegate(".expand-comments","click",function(e){var i=$(this),o=(i.parent().find(".load-more-spinner").show(),i.hide(),e.preventDefault(),$(this).closest(".comment-feature")),n=parseInt(o.attr("data-start"),10),a=parseInt(o.attr("data-comments-to-load"),10),e=(o.attr("data-start",n+a),"false"),e=("true"===o.attr("data-open-list")&&(e="true"),{action:"get_post_comments",post_id:o.attr("data-post-id"),start:n,limit:a,openList:e});$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){var t;o.removeClass("in-open-list"),i.hide(),parseInt(e.listed_count,10)<a?i.hide():(i.find("span").html("View more comments"),i.show()),e.comment_html.length&&0<e.comment_html.length?(0===n&&(t=$("#recommendations-block-10"),o.find(".comment-container").html(""),t&&o.find(".comment-container").append(t)),o.find(".comment-container").append(e.comment_html)):i.hide(),$(".load-more-spinner").hide(),o.find(".view-more-replies").hide(),s.bindMoreCommentsRemove(),o.addClass("show-images")})}),e.delegate(".view-more-replies","click",function(e){var t=$(this),i=(t.parent().find(".load-more-spinner").show(),t.hide(),e.preventDefault(),$(this).closest(".comment-feature")),o=parseInt(i.attr("data-start"),10),e=parseInt(i.attr("data-comments-to-load"),10),e={action:"get_post_comments",post_id:i.attr("data-post-id"),start:o,limit:e};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){i.removeClass("in-open-list"),t.hide(),e.comment_html.length&&0<e.comment_html.length&&(0===o&&i.find(".comment-container").html(""),i.find(".comment-container").append($(e.comment_html)[0]),i.find(".comment-container .depth-2").show()),$(".load-more-spinner").hide(),s.bindMoreCommentsRemove(),i.addClass("show-images")})}),e.delegate(".comment-text-block","keyup",function(e){var t,e=$(e.target),i=$(e).closest(".comment-submit-block").find(".post-comment");e.val()?e.innerHeight()!==(t=Math.min(e.prop("scrollHeight"),68))&&(e.innerHeight(t+"px"),i.height(t+2+"px"),i.css("line-height",t+2+"px")):(e.removeAttr("style"),i.removeAttr("style"))})},showLoadingBarAt:function(e){$(".comment-container-loading").first().clone().appendTo($(e)),$(e).find(".comment-container-loading").show()},hideLoadingBarAt:function(e){$(e).find(".comment-container-loading").hide()},initCommentImages:function(){var i=this;i.initCommentImagesPopup(),BoredPanda.Config.isTabletWidth||$(".comment-upload-pic").each(function(e,t){i.initImageUploader(t)})},initCommentImagesPopup:function(){$(document).on("click",".comment-image-link, .view-comment-image-link",function(e){979<$(window).width()&&(e.preventDefault(),e=$(this).attr("href"),BoredPanda.Comment.ImageModal.showImageModal(e))}),$(document).on("click","#comment-image-modal .close-icon, #comment-image-modal",function(){BoredPanda.Comment.ImageModal.hideImageModal()}),$(document).on("click","#comment-image-modal img",function(e){e.stopPropagation()})},destroyCommentImages:function(){for(var e=this.uploader.length,t=0;t<e;t++)this.uploader[t].uploader.destroy()},initImageUploader:function(e){this.uploader.push(new BoredPanda.Comment.ImageUploader({selector:e}))},initTracking:function(e){var t=!1,i=$(e);$("#comment-warning-popup").on("hidden.bs.modal",function(){t||BoredPanda.Tracking.trackEvent("Comment Warning popup","Comment Warning popup backdrop","backdrop")}),$("#comment-warning-popup .modal-close").on("click",function(){BoredPanda.Tracking.trackEvent("Comment Warning popup","Comment Warning popup close","close"),t=!0}),$("#comment-warning-popup .community-guidelines-link").on("click",function(){BoredPanda.Tracking.trackEvent("Comment Warning popup","Comment Warning popup guidelines link click","hyperlink")}),$("#comment-warning-popup .mistake-info").on("click",function(){BoredPanda.Tracking.trackEvent("Comment Warning popup","Comment Warning popup mistake text click","mistake text"),$("#comment-warning-popup").modal("hide"),BoredPanda.Comment.flagComment=!0,i.trigger("click"),t=!0})}},BoredPanda.Comment.ImageUploader=function(e){var o=this;o.selector=$(e.selector),o.selector.attr("id",BoredPanda.Utils.generateRandomString(10)),o.commentBlock=o.selector.parent(),o.spinner=o.commentBlock.find(".spinner.upload-comment-image"),o.getImageHtml=function(e){return'<div class="comment-image"><div class="remove-comment-image"><i></i></div><div class="comment-background-image" style="background-image: url('+BoredPanda.Utils.annotatePath(e.image_url,"__605")+');" data-image="'+e.image_url+'"></div></div>'},o.showUploadError=function(){o.selector.parents(".comment-add-block").first().append('<div class="comment-error">Something went wrong... Please try again!</div>'),setTimeout(function(){$(".comment-error").remove()},5e3)};o.uploader=new plupload.Uploader({runtimes:"html5,html4",browse_button:o.selector.attr("id"),url:ajax_object.ajax_url,max_file_size:"4mb",multipart_params:{action:"contribution_submit_upload",title:""},unique_names:!1,multi_selection:!1,init:{FilesAdded:function(e){o.selector.hide(),o.spinner.show(),e.start()}},filters:[{title:"Image files",extensions:"jpg,jpeg,gif,png"}]}),o.uploader.bind("FileUploaded",function(e,t,i){i=$.parseJSON(i.response);o.spinner.hide(),void 0!==i.error?(o.showUploadError(),o.selector.show()):o.commentBlock.append(o.getImageHtml(i))}),o.uploader.bind("Error",function(){o.showUploadError(),o.selector.show(),o.spinner.hide()}),o.uploader.init(),$(document).on("click",".remove-comment-image",function(){$(this).parent().parent().find(".comment-image").remove(),o.selector.show()})},BoredPanda.Comment.Votes={init:function(){this.registerVotes(),this.votesFromAMPPage()},registerVotes:function(){var a=this;$(document).on("click",".vote-panel.vote-comment .btn",function(){var e=$(this),t=$(e.closest(".vote").siblings(".vote").find(".btn")),i=e.hasClass("btn-up")?1:-1,o=e.parents(".comment").first().attr("data-comment-id"),n=i;BoredPanda.Config.isLoggedIn?(BoredPanda.Config.isSuperVoter||(e.hasClass("active")?n=-i:t.hasClass("active")&&(n*=2,t.removeClass("active")),e.toggleClass("active")),a.updatePoints(e.closest(".vote").siblings(".points"),n),a.sendRequest(i,o)):(t=window.location.pathname+"?afterlogin=savecommentvote&comment="+o+"&score="+i,window.history.pushState("Vote","Vote",t),BoredPanda.Login.form.show(t,void 0,"Please log in to vote"))})},updatePoints:function(e,t){t=$(e).data("points")+t;$(e).data("points",t),1===t||-1===t?$(e).html(t+" <span>point</span>"):$(e).html(t+" <span>points</span>")},sendRequest:function(e,t){e={action:"vote_for_comment",score:e,comment_id:t,post_id:BoredPanda.Config.postId};return BoredPanda.Utils.wpAjax(e)},votesFromAMPPage:function(){var e,t=""!==BoredPanda.Config.returnUrl?BoredPanda.Config.returnUrl:document.URL;-1<t.indexOf("ampcommentvote")&&-1<t.indexOf("savecommentvote")&&(BoredPanda.Config.isLoggedIn?(e=-1!==document.URL.indexOf("auth")?t.slice(0,t.indexOf("?")):document.location.pathname,BoredPanda.Login.afterCommentVote(e)):BoredPanda.Login.form.show(t,void 0,BoredPanda.Translate.Signup.please_login_vote))}},BoredPanda.Comment.ImageModal={showImageModal:function(e){var t=$(window).height()-100;$("body").addClass("no-scroll"),$("#comment-image-modal img").attr("src",e),$("#comment-image-modal img").css("max-height",t+"px"),$("#comment-image-modal").show(),function e(){var t=$("#comment-image-modal img").width();var i=$("#comment-image-modal img").height();if(0===t||0===i)return void setTimeout(e,100);$("#comment-image-modal .comment-image-full-size").css("width",t+"px");$("#comment-image-modal .comment-image-full-size").css("margin-top",i/-2+"px");$("#comment-image-modal .comment-image-full-size img").css("visibility","visible");$("#comment-image-modal .close-icon").show()}()},hideImageModal:function(){$("body").removeClass("no-scroll"),$("#comment-image-modal").hide(),$("#comment-image-modal img").attr("src",""),$("#comment-image-modal img").attr("style",""),$("#comment-image-modal .comment-image-full-size").attr("style","")}},$(document).ready(function(){0<BoredPanda.Config.postId&&BoredPanda.Comment.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.AddPost={},BoredPanda.AddPost.Utils={},BoredPanda.AddPost.Utils.closestImageSize=function(e){return(e=parseInt(e,10))<650?605:650<=e&&e<=780?700:880},BoredPanda.AddPost.Utils.editImageModalAutofit=function(){var e,t,i=$(window).height()-100;$(".edit-image-content .image-heading textarea").change(),$(".edit-image-content .image-description textarea").change(),$(".edit-image-modal").attr("style",""),$(".edit-image-modal .image-content").attr("style",""),$(".edit-image-modal .description-content").attr("style",""),$(".edit-image-content .image-description").attr("style",""),$(".edit-image-modal .image-content img").attr("style",""),$(window).width()<980?$(".edit-image-modal .image-content").height($(".edit-image-modal .image-content img").height()):($(".edit-image-modal").height(i),$(".edit-image-modal .image-content").height(i),$(".edit-image-modal .description-content").height(i),$(".edit-image-content .image-description").css("min-height",i-($(".edit-image-content .image-heading").height()+40)-($(".edit-image-content .image-source").height()+30)-114+"px"),t=$(".edit-image-modal .image-content img").height(),e=$(".edit-image-modal .image-content img").width(),i<t&&(t=i/t,$(".edit-image-modal .image-content img").width(e*t),$(".edit-image-modal .image-content img").height(i)),$(".edit-image-modal .image-content img").css("margin-top",(i-$(".edit-image-modal .image-content img").height())/2+"px"),$(".edit-image-content .image-heading textarea, .edit-image-content .image-description textarea").on("input",function(){$(window).width()<980||$(".edit-image-content .image-description").css("min-height",i-($(".edit-image-content .image-heading").height()+40)-($(".edit-image-content .image-source").height()+30)-114+"px")}))},BoredPanda.AddPost.CategoriesDropdown=function(e){var n=this;n.visible=ko.observable(!1),n.termId=BoredPanda.Config.isStaffMember?ko.observableArray([]):ko.observable(""),n.category=ko.observable(""),n.categories=ko.observableArray(e),n.show=function(){n.visible(!0)},n.hide=function(){n.visible(!1)},n.choose=function(e){if(BoredPanda.Config.isStaffMember){n.initCategorySelection(e);var t=[];n.termId([]);for(var i=0;i<n.categories().length;i++){n.categories()[i].term_id===e.term_id&&n.categories()[i].selected(!n.categories()[i].selected()),n.categories()[i].selected()&&(n.termId().push(n.categories()[i].term_id),t.push(n.categories()[i].name));for(var o=0;o<n.categories()[i].childs.length;o++)n.categories()[i].childs[o].term_id===e.term_id&&n.categories()[i].childs[o].selected(!n.categories()[i].childs[o].selected()),n.categories()[i].childs[o].selected()&&(n.termId().push(n.categories()[i].childs[o].term_id),t.push(n.categories()[i].childs[o].name))}n.category(t.join())}else n.hide(),n.termId(e.term_id),n.category(e.name),BoredPanda.Tracking.trackAddPostCategories()},n.initCategorySelection=function(e){if($.isArray(e.term_id))for(var t=0;t<n.categories().length;t++){-1<$.inArray(n.categories()[t].term_id,e.term_id)&&n.categories()[t].selected(!0);for(var i=0;i<n.categories()[t].childs.length;i++)-1<$.inArray(n.categories()[t].childs[i].term_id,e.term_id)&&n.categories()[t].childs[i].selected(!0)}},n.filterSelectedCategories=function(){let t=[];return n.categories().forEach(e=>{e.selected()&&t.push(e),e.childs.forEach(e=>{e.selected()&&t.push(e)})}),t},n.getSelectedCategory=function(){return{termId:n.termId(),name:n.category()}},$(document).on("click",function(){n.hide()})},BoredPanda.AddPost.ImageUploader=function(e){var o,t,n=this;n.loading=e.loader,n.errorMessage=e.error,n.runtime=ko.observable(""),n.dropEvent=ko.observable(""),n.photoCount=0,n.photosUploaded=0,n.errorShown=!0,n.gaLogging="Browse";o=e,n.uploader=new plupload.Uploader({runtimes:"html5,html4",browse_button:o.browse_button,drop_element:o.drop_element,url:ajax_object.ajax_url,max_file_size:"20mb",multipart_params:{action:"contribution_submit_upload",title:"none"},unique_names:!1,init:{FilesAdded:function(e){n.errorShown?n.errorMessage(""):n.errorMessage(BoredPanda.Translate.AddPost.some_images_failed_to_upload),n.loading(!0),n.photoCount=e.files.length,n.photosUploaded=0,e.settings.multipart_params.title=o.title(),e.start(),BoredPanda.Config.isStaffMember||(n.gaLogging="Browse")}},filters:[{title:"Image files",extensions:"jpg,jpeg,gif,png"}]}),n.uploader.bind("FileUploaded",function(e,t,i){i=$.parseJSON(i.response);!BoredPanda.Config.isStaffMember&&i.original_width<600&&-1===i.image_url.indexOf(".gif")?(1===n.photoCount||o.singleImageUploader?n.errorMessage(BoredPanda.Translate.AddPost.uploader_image_too_small):n.errorMessage(BoredPanda.Translate.AddPost.some_images_failed_to_upload_image_width),BoredPanda.Tracking.trackImageTooSmallError()):void 0!==i.error?(BoredPanda.Config.isStaffMember&&console.log("Upload error: "+i.error),n.errorMessage(BoredPanda.Translate.AddPost.uploader_strange_things_happened)):(i.original_width<600&&(i.scaled=!0),o.fileUploaded(i),BoredPanda.AddPost.LeavePopup.change(),n.photosUploaded++)}),n.uploader.bind("UploadComplete",function(){n.loading(!1),BoredPanda.Config.isStaffMember||BoredPanda.Tracking.trackAddPostImage(),n.errorShown=!0}),n.uploader.bind("Error",function(e,t){n.loading(!1);var i="";"File size error."===t.message?i=BoredPanda.Translate.AddPost.uploader_image_too_large:"File extension error."===t.message&&(i=BoredPanda.Translate.AddPost.uploader_not_allowed_image_format),n.errorMessage(i),n.errorShown=!1}),n.uploader.init(),n.runtime(n.uploader.runtime),"html5"===n.runtime()&&(t=0,$("#"+o.drop_element).bind({dragenter:function(){t++,n.dropEvent("dragenter"),n.gaLogging="Drag"},dragleave:function(){0===--t&&(n.dropEvent("dragleave"),n.gaLogging="Drag")},drop:function(){n.dropEvent("drop")}}))},BoredPanda.AddPost.ImageViewModel=function(){var o=this,n=(o.headline=ko.observable(""),o.description=ko.observable(""),o.tweetHtml=ko.observable(""),o.useTweetHtml=ko.observable(!1),o.source={type:ko.observable("nosource"),url:ko.observable(""),author:ko.observable("")},o.source_1={type:ko.observable("nosource"),url:ko.observable(""),author:ko.observable("")},o.image={mediaUrl:ko.observable(""),originalUrl:ko.observable(""),originalWidth:ko.observable(""),originalHeight:ko.observable(""),closestWidth:ko.observable(""),sized:ko.observable(""),scaled:ko.observable(!1)},o.slider={rightImageUrl:ko.observable(""),flip:ko.observable("")},o.externalPoints=ko.observable(""),o.isHtml=ko.observable(!1),o.html=ko.observable(""),o.videoUrl=ko.observable(""),o.videoType=ko.observable(""),o.imageErrors={headline:ko.observable(!1)},o.hover=ko.observable(!1),o.hoverError=ko.observable(!1),o.init=function(e,t,i){o.image.mediaUrl(e),o.image.originalUrl(t),o.image.sized(n(t)),o.image.originalWidth(i),o.image.closestWidth(BoredPanda.AddPost.Utils.closestImageSize(i))},o.setHtmlBlock=function(){o.isHtml(!0),o.html("")},o.setVideo=function(e,t){o.videoUrl(e),o.videoType(t)},o.initFromJson=function(e){if(!e||void 0===e.image)return!1;o.headline(e.headline||""),o.description(e.description||""),o.tweetHtml(e.tweetHtml||""),o.useTweetHtml(e.useTweetHtml||""),o.source.type(e.source?.type||""),o.source.url(e.source?.url||""),o.source.author(e.source?.author||""),void 0!==e.source_1&&(o.source_1.type(e.source_1?.type||""),o.source_1.url(e.source_1?.url||""),o.source_1.author(e.source_1?.author||"")),e.dimensions&&(o.dimensions=e.dimensions),void 0!==e.isHtml&&o.isHtml(e.isHtml),void 0!==e.externalPoints&&o.externalPoints(e.externalPoints),void 0!==e.html&&o.html(e.html),void 0!==e.videoUrl&&o.videoUrl(e.videoUrl),void 0!==e.videoType&&o.videoType(e.videoType),void 0!==e.slider&&(o.slider.rightImageUrl(e.slider?.rightImageUrl),o.slider.flip(e.slider?.flip));var t=o.image;t.mediaUrl(e.image?.mediaUrl),t.originalUrl(e.image?.originalUrl),t.sized(e.image?.sized||n(e.image?.originalUrl)),t.originalWidth(e.image?.originalWidth),t.closestWidth(BoredPanda.AddPost.Utils.closestImageSize(e.image?.originalWidth))},o.isCover=ko.computed({read:function(){return BoredPanda.AddPost.viewModel&&BoredPanda.AddPost.viewModel.post.coverImage()===o.image.originalUrl()},owner:!1}),function(e){return e=void 0!==e?e.replace(".jpg","__700.jpg"):e})},BoredPanda.AddPost.viewModel=null,BoredPanda.AddPost.ViewModel=function(){function e(e,o){return{action:"contribution_save_double_image_editor",filename:"fb_image",selector:e,height:o.fbHeight,separator:o.fbSeparator,images:l.cropperImages,thumb:o.fbImage,imgs:{cropOneColumn:o.cropOneColumn,cropTwoColumnLeft:o.cropTwoColumnLeft,cropTwoColumnRight:o.cropTwoColumnRight},callback:function(e,t){o.fbImage(e.fb_thumb_url),o.fbSaved(!0),o.fbSeparator=t.separator,o.fbImageSmall=e.fb_thumb_small_url;function i(e){o[e].originalImg(t[e].originalImg()),t.setApi(e),o[e].zoom=t[e].api.cropit("zoom"),o[e].offset.x(t[e].offset.x()),o[e].offset.y(t[e].offset.y())}i("cropOneColumn"),i("cropTwoColumnLeft"),i("cropTwoColumnRight"),o.fbImageLayout(t.columns())}}}function t(e){e.length&&0<e.length&&setTimeout(function(){l.ui.successMessage(""),l.ui.errorMessage("")},1e4)}var l=this;l.errors={title:ko.observable(!1),description:ko.observable(!1),categories:ko.observable(!1),tags:ko.observable(!1),noImages:ko.observable(!1),preview:ko.observable(!1),writers:ko.observable(!1),moderators:ko.observable(!1),imageTitle:ko.observable(!1),videoUrl:ko.observable(!1),embedUrl:ko.observable(!1),slider:ko.observable(!1)},l.slider={left:ko.observable(""),right:ko.observable(""),flip:ko.observable(!1)},l.step=ko.observable("com"===BoredPanda.Config.bpVersion?"init":"upload"),l.loadingSpinner=ko.observable(!1),l.uploaderError=ko.observable(""),l.savedDraft=ko.observable(!1),l.topSubmitTabVisible=ko.observable("photo"),l.bottomSubmitTabVisible=ko.observable("photo"),l.videoUrl=ko.observable(""),l.embedUrl=ko.observable(""),l.multipleEmbedsUrl=ko.observable(""),l.tweetConversation=ko.observable(!1),l.tweetHtmlVersion=ko.observable(!1),l.tweetInFeed=ko.observable(!1),l.watermark=ko.observable(!0),l.tweetSingleImage=ko.observable(!1),l.facebookSingleImage=ko.observable(!1),l.singleImage=ko.observable(!1),l.hideCaption=ko.observable(!1),l.crop=ko.observable(!0),l.imageUploaded=ko.observable(!1),l.challengeImageSrc=ko.observable(""),l.isPostLocked=ko.observable(!1),l.cropperImages=ko.observableArray([]),l.tooltips={title:{focused:ko.observable(!1),type:ko.observable("dafault"),showTooltip:ko.observable(!0)},description:{focused:ko.observable(!1),type:ko.observable("dafault"),showTooltip:ko.observable(!0)},challengeTitle:{focused:ko.observable(!1),type:ko.observable("dafault"),showTooltip:ko.observable(!0),similarPosts:ko.observableArray([])},challengeDescription:{focused:ko.observable(!1),type:ko.observable("dafault"),showTooltip:ko.observable(!0)}},l.titleTooltipVisible=ko.computed({read:function(){return l.tooltips.title.showTooltip()&&l.tooltips.title.focused()},owner:!1}),l.descriptionTooltipVisible=ko.computed({read:function(){return l.tooltips.description.showTooltip()&&l.tooltips.description.focused()},owner:!1}),l.challengeTitleTooltipVisible=ko.computed({read:function(){return l.tooltips.challengeTitle.showTooltip()&&l.tooltips.challengeTitle.focused()},owner:!1}),l.similarPostsVisible=ko.computed({read:function(){return 0<l.tooltips.challengeTitle.similarPosts().length&&!l.tooltips.challengeTitle.focused()},owner:!1}),l.challengeDescriptionTooltipVisible=ko.computed({read:function(){return l.tooltips.challengeDescription.showTooltip()&&l.tooltips.challengeDescription.focused()},owner:!1}),l.hideSimilarPostsTooltip=function(){l.tooltips.challengeTitle.similarPosts([])},window.onpopstate=function(){l.initStep()},l.initStep=function(){var e=new URL(window.location.href).searchParams.get("step")||("com"===BoredPanda.Config.bpVersion?"init":"upload");l.step(e)},l.changeStep=function(e){l.step(e),l.post.challenge.type(""),window.history.pushState({step:l.step()},document.title,"?step="+e)},l.submitVideo=function(o){o=o||"bottom";function n(){l.loadingSpinner(!1),l.videoUrl(""),l.topSubmitTabVisible("photo"),l.bottomSubmitTabVisible("photo")}var e;l.errors.videoUrl(!1),""===l.videoUrl()?l.errors.videoUrl(!0):(l.loadingSpinner(!0),e={action:"parse_video_url",video_url:l.videoUrl()},BoredPanda.Utils.wpAjax(e).done(function(e){var t,i;l.resetErrors(),!BoredPanda.Config.isStaffMember&&!BoredPanda.Config.isProMember&&l.post.images().length>=BoredPanda.Config.imagesLimit-1&&(l.uploader.errorMessage(BoredPanda.Translate.AddPost.too_much_pictures_pt1+BoredPanda.Config.imagesLimit+BoredPanda.Translate.AddPost.too_much_pictures_pt2),l.post.images().length>=BoredPanda.Config.imagesLimit)||(t=BoredPanda.Utils.annotatePath(e.image_url,"__200"),(i=new BoredPanda.AddPost.ImageViewModel).init(t,e.image_url,e.original_width),i.setVideo(e.video_url,e.video_type),i.dimensions=e.dimensions,BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles()&&i.headline(l.post.title()),"top"===o?l.post.images.unshift(i):"bottom"===o&&l.post.images.push(i),l.cropperImages.push(i),l.post.coverImage().length<=0&&(l.post.coverImage(i.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.post.figureOutPostWidthMode(),"top"===o?$("html, body").animate({scrollTop:$(".post-images .post-image:first").offset().top-$("header.header").height()},600):"bottom"===o&&$("html, body").animate({scrollTop:$(".post-images .post-image:last").offset().top-$("header.header").height()},600),l.resizeInfoBlock(),n())}).error(function(){l.errors.videoUrl(!0),n()}))},l.submitEmbed=function(o,e,n){o=o||"bottom";function a(){l.loadingSpinner(!1),l.embedUrl(""),l.tweetConversation(!1),l.tweetHtmlVersion(!1),l.tweetInFeed(!1),l.watermark(!0),l.topSubmitTabVisible("photo"),l.bottomSubmitTabVisible("photo")}var t;if(l.errors.embedUrl(!1),""!==l.embedUrl())return l.loadingSpinner(!0),t={action:"parse_embed_url",embed_url:l.embedUrl(),single_image:l.singleImage(),hide_caption:l.hideCaption(),crop:l.crop(),conversation:l.tweetConversation(),watermark:l.watermark(),tweet_single_image:l.tweetSingleImage(),facebook_single_image:l.facebookSingleImage(),not_embed:l.tweetInFeed()},BoredPanda.Utils.wpAjax(t).done(function(e){var t,i;l.resetErrors(),!BoredPanda.Config.isStaffMember&&!BoredPanda.Config.isProMember&&l.post.images().length>=BoredPanda.Config.imagesLimit-1&&(l.uploader.errorMessage(BoredPanda.Translate.AddPost.too_much_pictures_pt1+BoredPanda.Config.imagesLimit+BoredPanda.Translate.AddPost.too_much_pictures_pt2),l.post.images().length>=BoredPanda.Config.imagesLimit)||(t=BoredPanda.Utils.annotatePath(e.image_url,"__200"),(i=new BoredPanda.AddPost.ImageViewModel).init(t,e.image_url,e.original_width),i.dimensions=e.dimensions,i.source.type("url"),i.source.url(l.embedUrl()),i.source.author(e.embed_author),i.headline(e.title),BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles()&&i.headline(l.post.title()),"top"===o?l.post.images.unshift(i):"bottom"===o&&l.post.images.push(i),l.cropperImages.push(i),l.post.coverImage().length<=0&&(l.post.coverImage(i.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.post.figureOutPostWidthMode(),"top"===o?$("html, body").animate({scrollTop:$(".post-images .post-image:first").offset().top-$("header.header").height()},600):"bottom"===o&&$("html, body").animate({scrollTop:$(".post-images .post-image:last").offset().top-$("header.header").height()},600),l.resizeInfoBlock(),n?(l.topSubmitTabVisible("photo"),l.bottomSubmitTabVisible("photo"),l.loadingSpinner(!1)):a())}).error(function(){e||l.errors.embedUrl(!0),a()});l.errors.embedUrl(!0)},l.submitMultipleEmbeds=function(e){function t(){0<i.length?(l.embedUrl(i.pop()),l.embedUrl()?l.submitEmbed(e,!1,!0).done(t):t()):l.multipleEmbedsUrl("")}var i=l.multipleEmbedsUrl().split(/\s+/g);t()},l.parseExternalPhoto=function(o){var e;o=o||"bottom",l.resetErrors(),l.post.externalPhoto()&&(l.loadingSpinner(!0),e={action:"upload_external_photo",url:l.post.externalPhoto()},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){var t,i;!1===e.success?l.loadingSpinner(!1):(t=BoredPanda.Utils.annotatePath(e.data.image.image_url,"__200"),(i=new BoredPanda.AddPost.ImageViewModel).init(t,e.data.image.image_url,e.data.image.original_width),i.dimensions=e.data.image.dimensions,i.headline(e.data.imageData.title),i.source.type("url"),i.source.url(l.post.externalPhoto()),i.source.author(e.data.imageData.author),i.image.scaled(e.data.image.scaled),BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles()&&i.headline(l.post.title()),void 0!==e.data.imageData.points&&i.externalPoints(e.data.imageData.points),"top"===o?l.post.images.unshift(i):"bottom"===o&&l.post.images.push(i),l.cropperImages.push(i),l.post.coverImage().length<=0&&(l.post.coverImage(i.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.ui.expandContributionArea(),l.post.figureOutPostWidthMode(),"top"===o?$("html, body").animate({scrollTop:$(".post-images .post-image:first").offset().top-$("header.header").height()},600):"bottom"===o&&$("html, body").animate({scrollTop:$(".post-images .post-image:last").offset().top-$("header.header").height()},600),l.resizeInfoBlock(),l.loadingSpinner(!1),l.post.externalPhoto(""))}).error(function(){l.loadingSpinner(!1)}))},l.submitSlider=function(e){e=e||"bottom";var t,i,o;l.errors.slider(!1),""===l.slider.left()||""===l.slider.right()?l.errors.slider(!0):(l.loadingSpinner(!0),i=l.slider.left(),o=BoredPanda.Utils.annotatePath(i.image_url,"__200"),(t=new BoredPanda.AddPost.ImageViewModel).init(o,i.image_url,i.original_width),t.dimensions=i.dimensions,t.slider.rightImageUrl(l.slider.right().image_url),t.slider.flip(l.slider.flip()),BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles()&&t.headline(l.post.title()),"top"===e?l.post.images.unshift(t):"bottom"===e&&l.post.images.push(t),l.cropperImages.push(t),i=new BoredPanda.AddPost.ImageViewModel,o=BoredPanda.Utils.annotatePath(l.slider.right().image_url,"__200"),i.init(o,l.slider.right().image_url,l.slider.right().original_width),l.post.sliderImages.push(i),l.cropperImages.push(i),l.post.coverImage().length<=0&&(l.post.coverImage(t.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.post.type("list"),l.post.figureOutPostWidthMode(),"top"===e?$("html, body").animate({scrollTop:$(".post-images .post-image:first").offset().top-$("header.header").height()},600):"bottom"===e&&$("html, body").animate({scrollTop:$(".post-images .post-image:last").offset().top-$("header.header").height()},600),l.resizeInfoBlock(),l.loadingSpinner(!1),l.slider.flip(!1),l.slider.left(""),l.slider.right(""),l.topSubmitTabVisible("photo"),l.bottomSubmitTabVisible("photo"))},l.hideTooltip=function(e){l.tooltips[e].showTooltip(!1)},l.resetErrors=function(){for(var e in l.errors)l.errors[e](!1)},l.validate=function(e){l.resetErrors(),0===l.post.title().length&&l.errors.title(!0),0!==l.post.description().length||BoredPanda.Config.isStaffMember||l.errors.description(!0),!BoredPanda.Config.isMobileWidth&&BoredPanda.Config.isStaffMember&&0===l.post.category.name().length&&l.errors.categories(!0),0!==l.post.images().length||l.post.challenge.type()||l.errors.noImages(!0),BoredPanda.Config.isStaffMember&&(t=[],$.each($(".writers-block .writers-check:checked"),function(){t.push($(this).val())}),l.post.writers(t),i=[],$.each($(".moderators-block .moderators-check:checked"),function(){i.push($(this).val())}),l.post.moderators(i),BoredPanda.Config.isPostAuthorStaff&&!BoredPanda.Config.isPostAuthorSubmissioner&&0==t.length&&("publish"===e||"update"===e&&"publish"===l.post.status())&&l.errors.writers(!0),BoredPanda.Config.isPostAuthorStaff||0!=i.length||"publish"!==e&&("update"!==e||"publish"!==l.post.status())||l.errors.moderators(!0));for(var t,i,o=l.post.images().length,n=0;n<o;n++){var a=l.post.images()[n];"list"===l.post.type()&&0===a.headline().length?(l.errors.imageTitle(!0),a.imageErrors.headline(!0)):a.imageErrors.headline(!1)}return!l.anyErrors()},l.anyErrors=function(){for(var e=l.errors.title()||l.errors.description()||l.errors.categories()||l.errors.noImages()||l.errors.preview()||l.errors.writers()||l.errors.moderators(),t=!1,i=l.post.images().length,o=0;o<i;o++)t=t||l.post.images()[o].imageErrors.headline();return e||t},l.mobileAddChallenge=function(){var e;return!!BoredPanda.Config.isLoggedIn||(e=$(".mobile-create-challenge").attr("href"),BoredPanda.Login.form.show(e),!1)},l.removeImage=function(){l.imageUploaded(!1),l.challengeImageSrc(""),l.post.coverImage("")},l.checkPermalink=function(e,t){("url"===$(t.target).prop("name")||l.post.name().length<=0)&&(t={action:"bp_get_sample_permalink",id:l.post.postId(),title:l.post.title(),name:l.post.name()},BoredPanda.Utils.wpAjax(t).then(function(e){l.post.name(e[1])}).done())},l.post={postId:ko.observable(0),permalink:ko.observable(""),name:ko.observable(""),status:ko.observable("draft"),isSubmit:ko.observable(!1),type:ko.observable("blog"),postWidthMode:ko.observable(605),title:ko.observable(""),description:ko.observable(""),externalPhoto:ko.observable(""),lastModifiedGMT:ko.observable(""),challenge:{type:ko.observable(""),image:ko.observable(""),imageTitle:ko.observable(""),formName:ko.observable("New Challenge"),descriptionPlaceholder:ko.observable("Description"),imagePlaceholder:ko.observable("First Submission"),showSource:ko.observable(!1),source:ko.observable(""),removeAdTop:ko.observable(!1),hideSubmissionTitles:ko.observable(!1),background:ko.observable("random")},source:ko.observableArray([{url:ko.observable("")}]),contactAuthor:ko.observable(!0===$(".contact-author-input").data("checked")),writers:ko.observableArray(),moderators:ko.observableArray(),tags:ko.observable(""),admin:BoredPanda.Config.isStaffMember?{removeAdTop:ko.observable(!1),h3Headings:ko.observable(!1),hideSubmissionForm:ko.observable(!1),hideSubmissionTitles:ko.observable(!1),addWatermark:ko.observable(!1),regenerateExcerpt:ko.observable(!1),openListPageSize:ko.observable(0),imagesSource:ko.observable(""),imagesSourceAuthor:ko.observable(""),autoTitles:ko.observable(!1)}:ko.observable(""),category:{termId:BoredPanda.Config.isStaffMember?ko.observableArray([]):ko.observable(""),name:ko.observable("")},images:ko.observableArray([]),sliderImages:ko.observableArray([]),thumbnails:{square:{original:ko.observable(""),cropped:ko.observable(""),hover:ko.observable(!1),separator:ko.observable(50),imageLayout:ko.observable(1),api:{cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}}},landscape:{original:ko.observable(""),cropped:ko.observable(""),hover:ko.observable(!1),separator:ko.observable(50),imageLayout:ko.observable(1),api:{cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}}}},thumbsSaved:ko.observable(!1),coverSeparator:ko.observable(50),coverHeight:ko.observable(700),coverImage:ko.observable(""),coverHover:ko.observable(!1),coverImageLayout:ko.observable(1),coverImg:{cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},cover800Separator:ko.observable(50),cover800Height:ko.observable(800),cover800Image:ko.observable(""),cover800Hover:ko.observable(!1),cover800ImageLayout:ko.observable(1),cover800Img:{cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},cover1200Separator:ko.observable(50),cover1200Height:ko.observable(1200),cover1200Image:ko.observable(""),cover1200Hover:ko.observable(!1),cover1200ImageLayout:ko.observable(1),cover1200Img:{cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},fbThumbs:{fbThumb2:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb3:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb4:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb5:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb6:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb7:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb8:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb9:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}},fbThumb10:{fbSaved:ko.observable(!1),fbSeparator:ko.observable(50),fbHeight:ko.observable(367),fbImage:ko.observable(""),fbImageSmall:"",fbImageLayout:ko.observable(1),fbHover:ko.observable(!1),cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}}},editImage:{showModal:ko.observable(!1),index:ko.observable(0),headline:ko.observable(""),description:ko.observable(""),source:{type:ko.observable("nosource"),url:ko.observable(""),author:ko.observable(""),showInput:ko.observable(!1)},image:{mediaUrl:ko.observable(""),originalUrl:ko.observable(""),originalWidth:ko.observable(""),sized:ko.observable(""),closestWidth:ko.observable("")},imageHover:ko.observable(!1),videoUrl:ko.observable(""),videoType:ko.observable("")},copyHandler:ko.observable(-1),copyImage:function(e){l.post.copyHandler(e)},pasteImageAbove:function(e){var t=l.post.images()[l.post.copyHandler()],i=e<=l.post.copyHandler()?l.post.copyHandler()+1:l.post.copyHandler();l.post.images.splice(e,0,t),l.post.images.splice(i,1),l.post.copyHandler(-1)},pasteImageBelow:function(e){e++;var t=l.post.images()[l.post.copyHandler()],i=e<=l.post.copyHandler()?l.post.copyHandler()+1:l.post.copyHandler();l.post.images.splice(e,0,t),l.post.images.splice(i,1),l.post.copyHandler(-1)},editImageInfo:function(e){$("body").css("overflow","hidden"),l.post.editImage.index(e),l.post.editImage.headline(l.post.images()[e].headline()),l.post.editImage.description(l.post.images()[e].description()),l.post.editImage.source.type(l.post.images()[e].source.type()),l.post.editImage.source.url(l.post.images()[e].source.url()),l.post.editImage.source.author(l.post.images()[e].source.author()),l.post.editImage.source.showInput(!1),l.post.editImage.image.mediaUrl(l.post.images()[e].image.mediaUrl()),l.post.editImage.image.originalUrl(l.post.images()[e].image.originalUrl()),l.post.editImage.image.sized(l.post.images()[e].image.sized()),l.post.editImage.image.originalWidth(l.post.images()[e].image.originalWidth()),l.post.editImage.image.closestWidth(l.post.images()[e].image.closestWidth()),l.post.editImage.videoUrl(l.post.images()[e].videoUrl()),l.post.editImage.videoType(l.post.images()[e].videoType()),l.post.editImage.showModal(!0),BoredPanda.AddPost.Utils.editImageModalAutofit()},closeEditImg:function(){$("body").css("overflow",""),l.post.saveEditImage(),l.post.editImage.showModal(!1)},previousImage:function(){l.post.saveEditImage();var e=l.post.editImage.index();--e<0&&(e=l.post.images().length-1),l.post.editImageInfo(e)},nextImage:function(){l.post.saveEditImage();var e=l.post.editImage.index();++e>l.post.images().length-1&&(e=0),l.post.editImageInfo(e)},saveEditImage:function(){var e=l.post.editImage.index();l.post.images()[e].headline(l.post.editImage.headline().replace(/\n/g," ")),l.post.images()[e].description(l.post.editImage.description()),l.post.images()[e].source.type(0<l.post.editImage.source.url().length?"url":"nosource"),l.post.images()[e].source.url(l.post.editImage.source.url()),l.post.images()[e].source.author(l.post.editImage.source.author()),l.post.images()[e].image.mediaUrl(l.post.editImage.image.mediaUrl()),l.post.images()[e].image.originalUrl(l.post.editImage.image.originalUrl()),l.post.images()[e].image.originalWidth(l.post.editImage.image.originalWidth()),l.post.images()[e].image.closestWidth(l.post.editImage.image.closestWidth()),l.post.images()[e].videoUrl(l.post.editImage.videoUrl()),l.post.images()[e].videoType(l.post.editImage.videoType()),$(".image-description .image-description-input").change()},deleteEditImage:function(){var e;!0===confirm("Are you sure?")&&(e=l.post.images()[l.post.editImage.index()],void 0!==l.post.coverImage()&&e.image.originalUrl()===l.post.coverImage()&&(l.post.images().length<=1?l.post.coverImage(""):l.post.coverImage(l.post.images()[0].image.originalUrl())),l.post.images.remove(e),l.cropperImages.remove(e),0===l.post.images().length&&($("#step-upload").hide(),$("#step-description").show()),$("body").css("overflow",""),l.post.editImage.showModal(!1))},deleteImageTablet:function(e){!0===confirm("Are you sure?")&&(e=l.post.images()[e],void 0!==l.post.coverImage()&&e.image.originalUrl()===l.post.coverImage()&&(l.post.images().length<=1?l.post.coverImage(""):l.post.coverImage(l.post.images()[0].image.originalUrl())),l.post.images.remove(e),l.cropperImages.remove(e),0===l.post.images().length&&($("#step-upload").hide(),$("#step-description").show()))},removeImage:function(){l.post.images.remove(this),l.cropperImages.remove(this),!BoredPanda.Config.isStaffMember&&!BoredPanda.Config.isProMember&&l.post.images().length>=BoredPanda.Config.imagesLimit?l.uploader.errorMessage(BoredPanda.Translate.AddPost.too_much_pictures_pt1+BoredPanda.Config.imagesLimit+BoredPanda.Translate.AddPost.too_much_pictures_pt2):l.uploader.errorMessage("")},setAllImagesSourceToMine:function(){for(var e=0;e<l.post.images().length;e++)"nosource"===l.post.images()[e].source.type()&&l.post.images()[e].source.type("mine")},imageUp:function(e){var t,e=l.post.images.indexOf(e);1<=e&&(t=l.post.images(),l.post.images.splice(e-1,2,t[e],t[e-1]),t=$(".post-images .post-image:nth-child("+e+")").offset().top-$("header.header").height(),$("html, body").animate({scrollTop:t},"slow"))},imageDown:function(e){var e=l.post.images.indexOf(e),t=l.post.images();e<t.length-1&&(l.post.images.splice(e,2,t[e+1],t[e]),t=$(".post-images .post-image:nth-child("+(e+2)+")").offset().top-$("header.header").height(),$("html, body").animate({scrollTop:t},"slow"))},setType:function(e){l.post.type(e)},setImageAsCover:function(){var e=l.post.editImage.index(),e=l.post.images()[e];return e.image.originalUrl()===l.post.coverImage()&&(e=l.post.images()[0]),l.post.coverImage(e.image.originalUrl()),l.post.thumbsSaved()||l.post.setPostThumbnails(),l.post.setPostDefaultFbImage(),!0},setPostThumbnails:function(){var e=l.post.coverImage(),t=BoredPanda.Utils.annotatePath(e,"__300"),i=BoredPanda.Utils.annotatePath(e,"__300_185");l.post.thumbnails.square.original(e),l.post.thumbnails.square.cropped(t),l.post.thumbnails.landscape.original(e),l.post.thumbnails.landscape.cropped(i),l.post.thumbnails.square.api.cropOneColumn.originalImg(e),l.post.thumbnails.landscape.api.cropOneColumn.originalImg(e)},setPostDefaultFbImage:function(){l.post.fbSaved()||l.post.fbImage(l.post.coverImage())},figureOutPostWidthMode:function(){for(var e=l.post.images().length,t={605:0,700:0,880:0},i=0;i<e;i++){var o=l.post.images()[i],o=parseInt(o.image.originalWidth(),10);t[BoredPanda.AddPost.Utils.closestImageSize(o)]++}var n,a=605;for(n in t)t[a]<=t[n]&&(a=n);l.post.postWidthMode(parseInt(a,10))},setPostTags:function(){var i=[];$("ul.tagit li .tagit-label").each(function(e,t){(BoredPanda.Config.isStaffMember||"700-page"!==$(t).text()&&"full-page"!==$(t).text())&&i.push($(t).text())}),-1<$.inArray("full-page",i)?l.post.postWidthMode(880):-1<$.inArray("700-page",i)&&l.post.postWidthMode(700),l.post.tags(""),-1===$.inArray("full-page",i)&&-1===$.inArray("700-page",i)&&(880===l.post.postWidthMode()?l.post.tags("full-page"):700===l.post.postWidthMode()&&l.post.tags("700-page")),l.post.tags(l.post.tags()+","+i.join(","))},saveChallenge:function(e){if(l.resetErrors(),l.post.challenge.removeAdTop(l.post.description().length<370),["meme","text","photoshop"].includes(l.post.challenge.type())&&l.post.challenge.hideSubmissionTitles(!0),0===l.post.title().replace(/ /g,"").length)return l.errors.title(!0),!1;if(!["text","photoshop"].includes(l.post.challenge.type())&&0===l.post.challenge.imageTitle().replace(/ /g,"").length)return l.errors.imageTitle(!0),!1;if(0===l.post.description().length&&"meme"!==l.post.challenge.type())return l.errors.description(!0),!1;if(!l.imageUploaded()&&"text"!==l.post.challenge.type())return l.uploader.errorMessage("Please upload image"),!1;l.loadingSpinner(!0),l.post.type("list"),BoredPanda.Config.isStaffMember?l.post.status("draft"):l.post.status("publish"),"submit"===e&&(l.post.status("draft"),void 0!==BoredPanda.Config.postJson&&"1"===BoredPanda.Config.postJson.isSubmitted||l.post.isSubmit(!0)),l.challengeImageSrc()&&(l.post.challenge.image().source.url(l.post.challenge.source()),l.post.challenge.image().headline(l.post.challenge.imageTitle()),880!==l.post.postWidthMode())||l.post.postWidthMode(700),"text"===l.post.challenge.type()?(l.post.category.name("Ask Pandas"),l.post.category.termId(BoredPanda.Config.isStaffMember?[BoredPanda.Config.AskPandasCategoryId]:BoredPanda.Config.AskPandasCategoryId)):(l.post.category.name("Challenge"),l.post.category.termId(BoredPanda.Config.isStaffMember?[BoredPanda.Config.ChallengeCategoryId]:BoredPanda.Config.ChallengeCategoryId)),l.post.setPostTags();e={ko:l.toJSON(l.post),action:"contribution_submit_form"};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){void 0!==e.postId&&(l.post.postId(e.postId),l.post.permalink(e.permalink),l.post.name(e.name),["text","photoshop"].includes(l.post.challenge.type())?0<l.post.permalink().length&&(BoredPanda.AddPost.LeavePopup.publish(),window.location.href=l.post.permalink()):(e={ko:ko.toJSON(l.post.challenge.image()),action:"contribution_append",open_list_id:l.post.postId()},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){0<e.postId&&0<l.post.permalink().length?(BoredPanda.AddPost.LeavePopup.publish(),window.location.href=l.post.permalink()):l.loadingSpinner(!1)})))})},updateChallenge:function(){if(l.resetErrors(),0===l.post.title().length)return l.errors.title(!0),!1;if(0===l.post.description().length&&"meme"!==l.post.challenge.type()&&"text"!==l.post.challenge.type())return l.errors.description(!0),!1;if(!l.imageUploaded()&&"meme"===l.post.challenge.type())return l.uploader.errorMessage("Please upload image"),!1;l.loadingSpinner(!0);var e={action:"contribution_update_challenge",ko:l.toJSON(l.post)};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){e.success?(BoredPanda.AddPost.LeavePopup.publish(),window.location.href=l.post.permalink()):(l.loadingSpinner(!1),alert("You can't edit this post anymore!"))})},generateDescription:function(){var e="";return l.challengeImageSrc()&&(e+='<img class="alignnone image-size-full" src="'+l.challengeImageSrc()+'" />'),e},submit:function(s){if(!0!==l.ui.savingPost()){var r=l.post.status(),e=(l.uploaderError(""),l.ui.errorMessage(""),l.ui.successMessage(""),l.savedDraft(!1),l.ui.expandContributionArea(),$("html, body").animate({scrollTop:0},"slow"),l.post.category),t=l.categoriesDropdown.getSelectedCategory();if(e.termId(t.termId),e.name(t.name),!l.validate(s))return BoredPanda.Tracking.trackAddPostPublishError(),!1;l.post.figureOutPostWidthMode(),l.post.setPostTags(),l.ui.savingPost(!0),"publish"===s?(BoredPanda.Tracking.trackAddPostPublish(),l.ui.updateButtonText(BoredPanda.Translate.AddPost.updating),l.ui.publishButtonText(BoredPanda.Translate.AddPost.saving),l.post.status("publish")):"draft"===s?(l.ui.draftButtonText(BoredPanda.Translate.AddPost.saving),l.post.status("draft")):"update"===s?l.ui.updateButtonText(BoredPanda.Translate.AddPost.saving):"submit"===s&&(l.post.status("draft"),void 0!==BoredPanda.Config.postJson&&"1"===BoredPanda.Config.postJson.isSubmitted||l.post.isSubmit(!0));e={surname:$("#post-surname").val(),ko:l.toJSON(),action:"contribution_submit_form"};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){var t,i,o,n,a;l.ui.savingPost(!1),1===e.cannot_edit?(a=BoredPanda.Translate.AddPost.cannot_edit,l.ui.errorMessage(a)):1===e.post_already_edited?(a=BoredPanda.Translate.AddPost.post_already_edited,l.ui.errorMessage(a)):(e.cannot_publish&&l.ui.errorMessage(e.cannot_publish),0<e.postId?(i=[],o=[],n="/add-new-post/?pid="+e.postId,window.history.pushState("object or string","Title",n),"list"===l.post.type()&&l.isPostLocked(!0),"draft"===s&&(l.savedDraft(!0),setTimeout(function(){l.savedDraft(!1)},15e3)),$.cookie("invitation")&&BoredPanda.Tracking.trackInviteeAddPost(e.postId),BoredPanda.Config.trackAddPost=!1,l.updateFromJson(e),l.ui.successMessage(BoredPanda.Translate.AddPost.success_message_pt1+' <a target="_blank" href="'+l.post.permalink()+'">'+BoredPanda.Translate.AddPost.success_message_pt2+"</a>"),BoredPanda.AddPost.LeavePopup.publish(),(l.post.isSubmit()||"publish"===l.post.status()&&"draft"===r)&&("blog"===l.post.type()?(i=[BoredPanda.Translate.AddPost.blog_head_title],o=[BoredPanda.Translate.AddPost.blog_head_description],t="add_blog_post",l.ui.modal.viewPostText(BoredPanda.Translate.AddPost.view_post)):"list"===l.post.type()&&(i=[BoredPanda.Translate.AddPost.list_head_title],o=[BoredPanda.Translate.AddPost.list_head_description],t="create_open_list",l.ui.modal.viewPostText(BoredPanda.Translate.AddPost.view_open_list)),l.post.isSubmit()&&(o=["Your post has been submitted and is pending approval by a team of highly trained pandas"]),l.ui.modal.headTitle(i[Math.floor(Math.random()*i.length)]),l.ui.modal.popupDescription(o[Math.floor(Math.random()*o.length)]),l.post.isSubmit()?($("#share-modal").modal(),$(".got-it-button").attr("href","/?p="+e.postId),$("#share-modal").find(".share-buttons").css("display","none")):(n=encodeURIComponent(l.post.permalink()+"?utm_source=author&utm_medium=social&utm_campaign=AuthorShare"),$("#share-modal a#facebook-share").attr("onclick","window.open('https://www.facebook.com/dialog/share?app_id="+BoredPanda.Config.fbAppId+"&display=popup&href="+n+"&redirect_uri="+encodeURIComponent(BoredPanda.Config.homeUrl+"/close.html")+"','facebook-share-dialog','width=626,height=436');$('#share-modal').modal('hide');"),$("#share-modal a#twitter-share").attr("onclick","window.open('http://twitter.com/share?url="+n+"&via=boredpanda&text="+encodeURIComponent(l.post.title())+"','twitter-share-dialog','width=626,height=436');$('#share-modal').modal('hide');"),$.ajax({type:"POST",url:"https://graph.facebook.com/?ids="+l.post.permalink()+"&scrape=true",data:null,dataType:"json"}),$(".got-it-button").attr("href",l.post.permalink()),$("#share-modal").modal(),$(".share-buttons a").unbind("click"),BoredPanda.Config.isStaffMember||(BoredPanda.Tracking.trackClick(".share-buttons a","Share Popup",t),BoredPanda.Tracking.trackImpression("#share-modal","Share Popup",t))))):(a=BoredPanda.Translate.AddPost.unknown_error,1===e.post_limit_exceeded?a=BoredPanda.Translate.AddPost.post_limit_exceeded:1===e.user_is_blocked&&(a=BoredPanda.Translate.AddPost.account_suspended),l.ui.errorMessage(a)),l.ui.resetButtons())})}},preview:function(){0<l.post.permalink().length?window.open(l.post.permalink(),"_blank").focus():l.errors.preview(!0)},addHtmlBlock:function(){var e=new BoredPanda.AddPost.ImageViewModel;e.setHtmlBlock(),l.post.images.push(e)},addAnotherUrl:function(){(BoredPanda.Config.isStaffMember||BoredPanda.Config.isProMember)&&l.post.source.push({url:ko.observable("")})},generateImageTitles:function(){if(!0===confirm("Are you sure?")){var e=l.post.title();if(l.isPostLocked()){var t={action:"update_submissions_title",post_id:l.post.postId()};BoredPanda.Utils.wpAjax(t).done(function(){BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles(!0),alert("Image titles successfully generated!")})}else{var i=l.post.images().length;if(""!==e){BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles(!0);for(var o=0;o<i;o++)l.post.images()[o].headline(e)}}}},generateImageSources:function(){if(!0===confirm("Are you sure?")){var e=l.post.admin.imagesSource();if(l.isPostLocked()){var t={action:"admin_update_list_sources",post_id:l.post.postId(),source:e};BoredPanda.Utils.wpAjax(t).then(function(e){e.success?alert("Sources successfully generated!"):alert("Error"+e?.message)})}else for(var i=l.post.images().length,o=0;o<i;o++)l.post.images()[o].source.url(e),l.post.images()[o].source.type("url")}},generateImageSourcesAuthors:function(){if(!0===confirm("Are you sure?")){var e=l.post.admin.imagesSourceAuthor();if(l.isPostLocked()){var t={action:"admin_update_list_sources",post_id:l.post.postId(),source_author:e};BoredPanda.Utils.wpAjax(t).then(function(e){e.success?alert("Source authors successfully generated!"):alert("Error"+e?.message)})}else for(var i=l.post.images().length,o=0;o<i;o++)l.post.images()[o].source.author(e),l.post.images()[o].source.type("url")}}},l.resizeInfoBlock=function(){var e;$("body").hasClass("page-template-add-post-template-php")&&(e=function(){$(document).width()<1020?$("#step-description .info-block-container").height($("#step-description .info-block-container .info-block.additional-info").height()):$("#step-description .info-block-container").height($(document).height())},setTimeout(e,1e3),$(window).resize(e))},l.uploader=new BoredPanda.AddPost.ImageUploader({drop_element:"add-post-template",browse_button:"browse-files-step1",title:l.post.title,loader:l.loadingSpinner,error:l.uploaderError,fileUploaded:function(e){var t,i;"init"!==l.step()&&(l.resetErrors(),!BoredPanda.Config.isStaffMember&&!BoredPanda.Config.isProMember&&l.post.images().length>=BoredPanda.Config.imagesLimit-1&&(l.uploader.errorMessage(BoredPanda.Translate.AddPost.too_much_pictures_pt1+BoredPanda.Config.imagesLimit+BoredPanda.Translate.AddPost.too_much_pictures_pt2),l.post.images().length>=BoredPanda.Config.imagesLimit)||(t=BoredPanda.Utils.annotatePath(e.image_url,"__200"),(i=new BoredPanda.AddPost.ImageViewModel).init(t,e.image_url,e.original_width),i.dimensions=e.dimensions,l.post.images.push(i),l.cropperImages.push(i),BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles()&&i.headline(l.post.title()),l.post.coverImage().length<=0&&(l.post.coverImage(i.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.ui.expandContributionArea(),l.post.figureOutPostWidthMode(),l.resizeInfoBlock()))}}),l.uploaderTop=new BoredPanda.AddPost.ImageUploader({browse_button:"browse-files-step2",title:l.post.title,loader:l.loadingSpinner,error:l.uploaderError,fileUploaded:function(e){var t,i;l.resetErrors(),!BoredPanda.Config.isStaffMember&&!BoredPanda.Config.isProMember&&l.post.images().length>=BoredPanda.Config.imagesLimit-1&&(l.uploader.errorMessage(BoredPanda.Translate.AddPost.too_much_pictures_pt1+BoredPanda.Config.imagesLimit+BoredPanda.Translate.AddPost.too_much_pictures_pt2),l.post.images().length>=BoredPanda.Config.imagesLimit)||(t=BoredPanda.Utils.annotatePath(e.image_url,"__200"),(i=new BoredPanda.AddPost.ImageViewModel).init(t,e.image_url,e.original_width),i.dimensions=e.dimensions,l.post.images.unshift(i),l.cropperImages.unshift(i),BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles()&&i.headline(l.post.title()),l.post.coverImage().length<=0&&(l.post.coverImage(i.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.ui.expandContributionArea(),l.post.figureOutPostWidthMode(),$("html, body").animate({scrollTop:$(".post-images .post-image:first").offset().top-$("header.header").height()},600),l.resizeInfoBlock())}}),l.uploaderBottom=new BoredPanda.AddPost.ImageUploader({browse_button:"browse-files-bottom",title:l.post.title,loader:l.loadingSpinner,error:l.uploaderError,fileUploaded:function(e){var t,i;l.resetErrors(),!BoredPanda.Config.isStaffMember&&!BoredPanda.Config.isProMember&&l.post.images().length>=BoredPanda.Config.imagesLimit-1&&(l.uploader.errorMessage(BoredPanda.Translate.AddPost.too_much_pictures_pt1+BoredPanda.Config.imagesLimit+BoredPanda.Translate.AddPost.too_much_pictures_pt2),l.post.images().length>=BoredPanda.Config.imagesLimit)||(t=BoredPanda.Utils.annotatePath(e.image_url,"__200"),(i=new BoredPanda.AddPost.ImageViewModel).init(t,e.image_url,e.original_width),i.dimensions=e.dimensions,l.post.images.push(i),l.cropperImages.push(i),BoredPanda.Config.isStaffMember&&l.post.admin.autoTitles()&&i.headline(l.post.title()),l.post.coverImage().length<=0&&(l.post.coverImage(i.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.ui.expandContributionArea(),l.post.figureOutPostWidthMode(),$("html, body").animate({scrollTop:$(".post-images .post-image:last").offset().top-$("header.header").height()},600))}}),l.uploaderChallenge=new BoredPanda.AddPost.ImageUploader({drop_element:"add-post-template",browse_button:"image-upload-btn-id-modal-challenge",title:l.post.title,loader:l.loadingSpinner,error:l.uploaderError,singleImageUploader:!0,fileUploaded:function(e){l.resetErrors();var t=BoredPanda.Utils.annotatePath(e.image_url,"__200"),i=new BoredPanda.AddPost.ImageViewModel;i.init(t,e.image_url,e.original_width),i.dimensions=e.dimensions,l.post.coverImage().length<=0&&"text"!==l.post.challenge.type()&&(l.post.coverImage(i.image.originalUrl()),l.post.setPostThumbnails(),l.post.setPostDefaultFbImage()),l.imageUploaded(!0),l.post.postWidthMode(BoredPanda.AddPost.Utils.closestImageSize(e.original_width)),l.post.challenge.image(i),l.challengeImageSrc(BoredPanda.Utils.annotatePath(e.image_url,"__"+l.post.postWidthMode()))}}),$(".slider-upload-button.left").each(function(){var e=$(this);new BoredPanda.AddPost.ImageUploader({browse_button:e.attr("id"),title:l.post.title,loader:l.loadingSpinner,error:l.uploaderError,fileUploaded:function(e){l.resetErrors(),BoredPanda.Config.isStaffMember&&l.slider.left(e)}})}),$(".slider-upload-button.right").each(function(){var e=$(this);new BoredPanda.AddPost.ImageUploader({browse_button:e.attr("id"),title:l.post.title,loader:l.loadingSpinner,error:l.uploaderError,fileUploaded:function(e){l.resetErrors(),BoredPanda.Config.isStaffMember&&l.slider.right(e)}})}),l.fbImageModal=new BoredPanda.Cropper(e("#fb-image-modal",l.post)),l.fbImageModal2=new BoredPanda.Cropper(e("#fb-image-modal2",l.post.fbThumbs.fbThumb2)),l.fbImageModal3=new BoredPanda.Cropper(e("#fb-image-modal3",l.post.fbThumbs.fbThumb3)),l.fbImageModal4=new BoredPanda.Cropper(e("#fb-image-modal4",l.post.fbThumbs.fbThumb4)),l.fbImageModal5=new BoredPanda.Cropper(e("#fb-image-modal5",l.post.fbThumbs.fbThumb5)),l.fbImageModal6=new BoredPanda.Cropper(e("#fb-image-modal6",l.post.fbThumbs.fbThumb6)),l.fbImageModal7=new BoredPanda.Cropper(e("#fb-image-modal7",l.post.fbThumbs.fbThumb7)),l.fbImageModal8=new BoredPanda.Cropper(e("#fb-image-modal8",l.post.fbThumbs.fbThumb8)),l.fbImageModal9=new BoredPanda.Cropper(e("#fb-image-modal9",l.post.fbThumbs.fbThumb9)),l.fbImageModal10=new BoredPanda.Cropper(e("#fb-image-modal10",l.post.fbThumbs.fbThumb10)),l.coverImageModal=new BoredPanda.Cropper({action:"contribution_save_cover_image_editor",filename:"cover_image",selector:"#cover-image-modal",height:l.post.coverHeight,coverWidth:700,separator:l.post.coverSeparator,images:l.cropperImages,thumb:l.post.coverImage,imgs:{cropOneColumn:l.post.coverImg.cropOneColumn,cropTwoColumnLeft:l.post.coverImg.cropTwoColumnLeft,cropTwoColumnRight:l.post.coverImg.cropTwoColumnRight},callback:function(e,t){l.post.coverImage(e.cover_image_url),l.post.coverSeparator=t.separator;function i(e){l.post.coverImg[e].originalImg(t[e].originalImg()),t.setApi(e),l.post.coverImg[e].zoom=t[e].api.cropit("zoom"),l.post.coverImg[e].offset.x(t[e].offset.x()),l.post.coverImg[e].offset.y(t[e].offset.y())}i("cropOneColumn"),i("cropTwoColumnLeft"),i("cropTwoColumnRight"),l.post.coverImageLayout(t.columns())}}),l.cover800ImageModal=new BoredPanda.Cropper({action:"contribution_save_cover_image_editor",filename:"cover_image_800",selector:"#cover-image-800-modal",height:l.post.cover800Height,coverWidth:1200,ratio:1200/490,separator:l.post.cover800Separator,images:l.cropperImages,thumb:l.post.cover800Image,imgs:{cropOneColumn:l.post.cover800Img.cropOneColumn,cropTwoColumnLeft:l.post.cover800Img.cropTwoColumnLeft,cropTwoColumnRight:l.post.cover800Img.cropTwoColumnRight},callback:function(e,t){l.post.cover800Image(e.cover_image_url),l.post.cover800Separator=t.separator;function i(e){l.post.cover800Img[e].originalImg(t[e].originalImg()),t.setApi(e),l.post.cover800Img[e].zoom=t[e].api.cropit("zoom"),l.post.cover800Img[e].offset.x(t[e].offset.x()),l.post.cover800Img[e].offset.y(t[e].offset.y())}i("cropOneColumn"),i("cropTwoColumnLeft"),i("cropTwoColumnRight"),l.post.cover800ImageLayout(t.columns())}}),l.cover1200ImageModal=new BoredPanda.Cropper({action:"contribution_save_cover_image_editor",filename:"cover_image_1200",selector:"#cover-image-1200-modal",height:l.post.cover1200Height,coverWidth:1200,ratio:1200/490,separator:l.post.cover1200Separator,images:l.cropperImages,thumb:l.post.cover1200Image,imgs:{cropOneColumn:l.post.cover1200Img.cropOneColumn,cropTwoColumnLeft:l.post.cover1200Img.cropTwoColumnLeft,cropTwoColumnRight:l.post.cover1200Img.cropTwoColumnRight},callback:function(e,t){l.post.cover1200Image(e.cover_image_url),l.post.cover1200Separator=t.separator;function i(e){l.post.cover1200Img[e].originalImg(t[e].originalImg()),t.setApi(e),l.post.cover1200Img[e].zoom=t[e].api.cropit("zoom"),l.post.cover1200Img[e].offset.x(t[e].offset.x()),l.post.cover1200Img[e].offset.y(t[e].offset.y())}i("cropOneColumn"),i("cropTwoColumnLeft"),i("cropTwoColumnRight"),l.post.cover1200ImageLayout(t.columns())}}),l.wideThumbModal=new BoredPanda.Cropper({action:"contribution_save_wide_thumbnail_editor",filename:"thumb_latest",selector:"#wide-thumbnail",height:ko.observable(185),width:300,ratio:1,separator:l.post.thumbnails.landscape.separator,images:l.cropperImages,thumb:l.post.thumbnails.landscape.cropped,imgs:{cropOneColumn:l.post.thumbnails.landscape.api.cropOneColumn,cropTwoColumnLeft:l.post.thumbnails.landscape.api.cropTwoColumnLeft,cropTwoColumnRight:l.post.thumbnails.landscape.api.cropTwoColumnRight},callback:function(e,t){l.post.thumbnails.landscape.cropped(e.image_url),l.post.thumbnails.landscape.separator=t.separator;function i(e){l.post.thumbnails.landscape.api[e].originalImg(t[e].originalImg()),t.setApi(e),l.post.thumbnails.landscape.api[e].zoom=t[e].api.cropit("zoom"),l.post.thumbnails.landscape.api[e].offset.x(t[e].offset.x()),l.post.thumbnails.landscape.api[e].offset.y(t[e].offset.y())}i("cropOneColumn"),i("cropTwoColumnLeft"),i("cropTwoColumnRight"),l.post.thumbnails.landscape.imageLayout(t.columns()),l.post.thumbsSaved(!0)}}),l.squareThumbModal=new BoredPanda.Cropper({action:"contribution_save_square_thumbnail_editor",filename:"thumb_square",selector:"#square-thumbnail",height:ko.observable(300),width:300,ratio:1,separator:l.post.thumbnails.square.separator,images:l.cropperImages,thumb:l.post.thumbnails.square.cropped,imgs:{cropOneColumn:l.post.thumbnails.square.api.cropOneColumn,cropTwoColumnLeft:l.post.thumbnails.square.api.cropTwoColumnLeft,cropTwoColumnRight:l.post.thumbnails.square.api.cropTwoColumnRight},callback:function(e,t){l.post.thumbnails.square.cropped(e.image_url),l.post.thumbnails.square.separator=t.separator;e="cropOneColumn",l.post.thumbnails.square.api[e].originalImg(t[e].originalImg()),t.setApi(e),l.post.thumbnails.square.api[e].zoom=t[e].api.cropit("zoom"),l.post.thumbnails.square.api[e].offset.x(t[e].offset.x()),l.post.thumbnails.square.api[e].offset.y(t[e].offset.y()),l.post.thumbnails.square.imageLayout(t.columns()),l.post.thumbsSaved(!0)}}),l.categoriesDropdown=new BoredPanda.AddPost.CategoriesDropdown(function(e){for(var t=0;t<e.length;t++){e[t].selected=ko.observable(e[t].selected);for(var i=0;i<e[t].childs.length;i++)e[t].childs[i].selected=ko.observable(e[t].childs[i].selected)}return e}(BoredPanda.Config.AddPostCategories)),l.ui={successMessage:ko.observable(""),errorMessage:ko.observable(""),draftButtonText:ko.observable(BoredPanda.Translate.AddPost.save_draft),publishButtonText:ko.observable(BoredPanda.Translate.AddPost.publish),updateButtonText:ko.observable(BoredPanda.Translate.AddPost.update),savingPost:ko.observable(!1),resetButtons:function(){l.ui.draftButtonText(BoredPanda.Translate.AddPost.save_draft),l.ui.publishButtonText(BoredPanda.Translate.AddPost.publish),l.ui.updateButtonText(BoredPanda.Translate.AddPost.update)},expanded:ko.observable(!1),expandContributionArea:function(){l.ui.expanded(!0),l.ui.tips.show("title"),$(".contribution-expandable-area").slideDown("medium")},tips:{image:ko.observable(!0),title:ko.observable(!1),description:ko.observable(!1),show:function(e){l.ui.tips.image(!1),l.ui.tips.title(!1),l.ui.tips.description(!1),l.ui.tips[e](!0)}},modal:{headTitle:ko.observable(""),popupDescription:ko.observable(""),viewPostText:ko.observable("")}};l.ui.successMessage.subscribe(t),l.ui.errorMessage.subscribe(t)},BoredPanda.AddPost.ViewModel.prototype={toJSON:function(){var e=$.extend({},this.post);return delete e.removeImage,delete e.setAllImagesSourceToMine,delete e.imageUp,delete e.imageDown,delete e.setType,delete e.setPostThumbnails,delete e.setPostDefaultFbImage,delete e.figureOutPostWidthMode,delete e.setPostTags,delete e.submit,delete e.saveChallenge,delete e.updateChallenge,delete e.generateDescription,delete e.preview,ko.toJSON(e)},updateFromJson:function(o){this.ui.expandContributionArea();var n=this,a=this.post;if(a.postId(o.postId),a.permalink(o.permalink),a.name(o.name),a.status(o.status),a.type(o.type),a.postWidthMode(o.postWidthMode),a.title(o.title),a.description(o.description),a.tags(o.tags),a.lastModifiedGMT(o.lastModifiedGMT),0<o.postId&&n.step("upload"),"string"==typeof o.source)a.source([{url:ko.observable(o.source)}]);else{var e=o.source.length;if(0===e)a.source({url:ko.observable("")});else{for(a.source([]),s=0;s<e;s++)0<o.source[s].url.length&&a.source.push({url:ko.observable(o.source[s].url)});0===a.source().length&&a.source.push({url:ko.observable("")})}}void 0!==o.challenge&&(a.challenge.type(o.challenge.type),a.challenge.descriptionPlaceholder(o.challenge.descriptionPlaceholder),a.challenge.imagePlaceholder(o.challenge.imagePlaceholder),a.challenge.showSource(o.challenge.showSource),a.challenge.source(o.challenge.source),a.challenge.removeAdTop(o.challenge.removeAdTop),a.challenge.hideSubmissionTitles(o.challenge.hideSubmissionTitles)),BoredPanda.Config.isStaffMember&&(o.admin=o.admin||{},o.admin.removeAdTop=o.admin.removeAdTop||!1,a.admin.removeAdTop(o.admin.removeAdTop),o.admin.h3Headings=o.admin.h3Headings||!1,a.admin.h3Headings(o.admin.h3Headings),o.admin.hideSubmissionForm=o.admin.hideSubmissionForm||!1,a.admin.hideSubmissionForm(o.admin.hideSubmissionForm),o.admin.hideSubmissionTitles=o.admin.hideSubmissionTitles||!1,a.admin.hideSubmissionTitles(o.admin.hideSubmissionTitles),o.admin.addWatermark=o.admin.addWatermark||!1,a.admin.addWatermark(o.admin.addWatermark),o.admin.regenerateExcerpt=o.admin.regenerateExcerpt||!1,a.admin.regenerateExcerpt(o.admin.regenerateExcerpt),o.admin.imagesSource=o.admin.imagesSource||"",a.admin.imagesSource(o.admin.imagesSource),o.admin.imagesSourceAuthor=o.admin.imagesSourceAuthor||"",a.admin.imagesSourceAuthor(o.admin.imagesSourceAuthor),o.admin.openListPageSize=o.admin.openListPageSize||0,a.admin.openListPageSize(o.admin.openListPageSize),o.admin.autoTitles=o.admin.autoTitles||!1,a.admin.autoTitles(o.admin.autoTitles));for(var t,i=o.tags.split(","),s=0;s<i.length;s++){var r=i[s];!BoredPanda.Config.isStaffMember&&-1!==$.inArray(r,BoredPanda.Config.deniedTags)||$("#post-tags").tagit("createTag",r)}if("string"==typeof o.category.termId||o.category.termId instanceof String)o.category.termId=parseInt(o.category.termId);else if(o.category.termId instanceof Array){var l,d=[];for(l in o.category.termId)d.push(parseInt(o.category.termId[l]));o.category.termId=d}a.category.termId(o.category.termId),a.category.name(o.category.name),this.categoriesDropdown.choose({term_id:o.category.termId,name:o.category.name}),n.cropperImages.removeAll();var c=[];a.images.removeAll();for(var u=0;u<o.images.length;u++)t=new BoredPanda.AddPost.ImageViewModel,void 0!==o.images[u]&&0!==Object.keys(o.images[u]).length&&(t.initFromJson(o.images[u]),a.images.push(t),c[BoredPanda.Utils.annotatePath(t.image.originalUrl(),"__700")]=t);if(a.sliderImages.removeAll(),void 0!==o.sliderImages)for(u=0;u<o.sliderImages.length;u++)t=new BoredPanda.AddPost.ImageViewModel,o.sliderImages[u]&&(t.initFromJson(o.sliderImages[u]),a.sliderImages.push(t),c[t.image.originalUrl()]=t);if("list"===a.type()){var h={action:"get_open_list_images_sorted",postId:a.postId()};BoredPanda.Utils.wpAjax(h).done(function(e){for(var t in e.images){var i;!e.images[t].cover||void 0!==(i=c[e.images[t].cover])&&(n.cropperImages.push(i),void 0!==i.slider&&i.slider.rightImageUrl()&&(i=i.slider.rightImageUrl(),n.cropperImages.push(c[i]),delete c[i])),delete c[e.images[t].cover]}for(var t in c)n.cropperImages.push(c[t])})}else for(var p in c)n.cropperImages.push(c[p]);a.thumbnails.square.original(o.thumbnails.square.original),a.thumbnails.square.cropped(o.thumbnails.square.cropped),a.thumbnails.landscape.original(o.thumbnails.landscape.original),a.thumbnails.landscape.cropped(o.thumbnails.landscape.cropped),o.thumbnails.landscape.separator&&a.thumbnails.landscape.separator(o.thumbnails.landscape.separator),o.thumbnails.landscape.imageLayout&&a.thumbnails.landscape.imageLayout(o.thumbnails.landscape.imageLayout),o.thumbnails.square.separator&&a.thumbnails.square.separator(o.thumbnails.square.separator),o.thumbnails.square.imageLayout&&a.thumbnails.square.imageLayout(o.thumbnails.square.imageLayout);function m(e){function t(e,t,i){o.thumbnails[t].api&&o.thumbnails[t].api[e]&&(a.thumbnails[t].api[e].originalImg(o.thumbnails[t].api[e].originalImg),a.thumbnails[t].api[e].zoom=o.thumbnails[t].api[e].zoom,a.thumbnails[t].api[e].offset.x(o.thumbnails[t].api[e].offset.x),a.thumbnails[t].api[e].offset.y(o.thumbnails[t].api[e].offset.y))}void 0!==o.thumbsApi&&void 0!==o.thumbsApi[e]?(a.thumbnails[e].api.cropOneColumn.originalImg(o.thumbsApi[e].originalImg),a.thumbnails[e].api.cropOneColumn.offset.x(o.thumbsApi[e].offset.x),a.thumbnails[e].api.cropOneColumn.offset.y(o.thumbsApi[e].offset.y),a.thumbnails[e].api.cropOneColumn.zoom=o.thumbsApi[e].zoom):void 0!==o.thumbnails[e]&&void 0!==o.thumbnails[e].api&&(t("cropOneColumn",e),t("cropTwoColumnLeft",e),t("cropTwoColumnRight",e))}function f(i,o,e,n){function t(e,t){i[e]&&(o[e].originalImg(i[e].originalImg),o[e].zoom=i[e].zoom,o[e].offset.x(i[e].offset.x),o[e].offset.y(i[e].offset.y),""!==i[e].originalImg&&n.columns(t))}i.fbImageLayout&&o.fbImageLayout(i.fbImageLayout),i.fbImage&&(o.fbImage(i.fbImage),o.fbImageSmall=i.fbImageSmall),i.fbSaved&&o.fbSaved(i.fbSaved),i.fbSeparator&&o.fbSeparator(i.fbSeparator),e&&""===o.fbImage()&&o.setPostDefaultFbImage(),t("cropOneColumn",1),t("cropTwoColumnLeft",2),t("cropTwoColumnRight",2)}function g(e,t){o.coverImg&&o.coverImg[e]&&(a.coverImg[e].originalImg(o.coverImg[e].originalImg),a.coverImg[e].zoom=o.coverImg[e].zoom,a.coverImg[e].offset.x(o.coverImg[e].offset.x),a.coverImg[e].offset.y(o.coverImg[e].offset.y),""!==o[e].originalImg&&n.coverImageModal.columns(t))}function v(e,t){o.cover800Img&&o.cover800Img[e]&&(a.cover800Img[e].originalImg(o.cover800Img[e].originalImg),a.cover800Img[e].zoom=o.cover800Img[e].zoom,a.cover800Img[e].offset.x(o.cover800Img[e].offset.x),a.cover800Img[e].offset.y(o.cover800Img[e].offset.y),""!==o[e].originalImg&&n.cover800ImageModal.columns(t))}function b(e,t){o.cover1200Img&&o.cover1200Img[e]&&(a.cover1200Img[e].originalImg(o.cover1200Img[e].originalImg),a.cover1200Img[e].zoom=o.cover1200Img[e].zoom,a.cover1200Img[e].offset.x(o.cover1200Img[e].offset.x),a.cover1200Img[e].offset.y(o.cover1200Img[e].offset.y),""!==o[e].originalImg&&n.cover1200ImageModal.columns(t))}m("landscape"),m("square"),f(o,a,!0,n.fbImageModal),o.fbThumbs&&(o.fbThumbs.fbThumb2&&f(o.fbThumbs.fbThumb2,a.fbThumbs.fbThumb2,!1,n.fbImageModal2),o.fbThumbs.fbThumb3&&f(o.fbThumbs.fbThumb3,a.fbThumbs.fbThumb3,!1,n.fbImageModal3),o.fbThumbs.fbThumb4&&f(o.fbThumbs.fbThumb4,a.fbThumbs.fbThumb4,!1,n.fbImageModal4),o.fbThumbs.fbThumb5&&f(o.fbThumbs.fbThumb5,a.fbThumbs.fbThumb5,!1,n.fbImageModal5),o.fbThumbs.fbThumb6&&f(o.fbThumbs.fbThumb6,a.fbThumbs.fbThumb6,!1,n.fbImageModal5),o.fbThumbs.fbThumb7&&f(o.fbThumbs.fbThumb7,a.fbThumbs.fbThumb7,!1,n.fbImageModal5),o.fbThumbs.fbThumb8&&f(o.fbThumbs.fbThumb8,a.fbThumbs.fbThumb8,!1,n.fbImageModal5),o.fbThumbs.fbThumb9&&f(o.fbThumbs.fbThumb9,a.fbThumbs.fbThumb9,!1,n.fbImageModal5),o.fbThumbs.fbThumb10&&f(o.fbThumbs.fbThumb10,a.fbThumbs.fbThumb10,!1,n.fbImageModal5)),o.coverImage&&o.coverImage.image?a.coverImage(o.coverImage.image.originalUrl):o.coverImage&&a.coverImage(o.coverImage),o.coverSeparator&&a.coverSeparator(o.coverSeparator),o.coverHeight&&a.coverHeight(o.coverHeight),o.coverImageLayout&&a.coverImageLayout(o.coverImageLayout),g("cropOneColumn",1),g("cropTwoColumnLeft",2),g("cropTwoColumnRight",2),o.cover800Image&&o.cover800Image.image?a.cover800Image(o.cover800Image.image.originalUrl):o.cover800Image&&a.cover800Image(o.cover800Image),o.cover800Separator&&a.cover800Separator(o.cover800Separator),o.cover800Height&&a.cover800Height(o.cover800Height),o.cover800ImageLayout&&a.cover800ImageLayout(o.cover800ImageLayout),v("cropOneColumn",1),v("cropTwoColumnLeft",2),v("cropTwoColumnRight",2),o.cover1200Image&&o.cover1200Image.image?a.cover1200Image(o.cover1200Image.image.originalUrl):o.cover1200Image&&a.cover1200Image(o.cover1200Image),o.cover1200Separator&&a.cover1200Separator(o.cover1200Separator),o.cover1200Height&&a.cover1200Height(o.cover1200Height),o.cover1200ImageLayout&&a.cover1200ImageLayout(o.cover1200ImageLayout);b("cropOneColumn",1),b("cropTwoColumnLeft",2),b("cropTwoColumnRight",2)}},BoredPanda.AddPost.LeavePopup={changed:!1,publish:function(){BoredPanda.AddPost.LeavePopup.changed=!1,window.onbeforeunload=function(){}},change:function(){!1===BoredPanda.AddPost.LeavePopup.changed&&(BoredPanda.AddPost.LeavePopup.changed=!0,window.onbeforeunload=function(){return BoredPanda.Translate.AddPost.leave_unsaved_changes})}},BoredPanda.AddPost.EditImageNavigation=function(t){$(document).keyup(function(e){t.post.editImage.showModal()&&(27===e.keyCode?($("textarea, input").blur(),t.post.closeEditImg()):37===e.keyCode&&"TEXTAREA"!==e.target.nodeName?($("textarea, input").blur(),t.post.previousImage()):39===e.keyCode&&"TEXTAREA"!==e.target.nodeName&&($("textarea, input").blur(),t.post.nextImage())),t.titleTooltipVisible()&&27===e.keyCode&&t.hideTooltip("title"),t.descriptionTooltipVisible()&&27===e.keyCode&&t.hideTooltip("description")}),$(document).on("click",function(e){"edit-post-image"===e.target.id&&t.post.editImage.showModal()&&($("textarea, input").blur(),t.post.closeEditImg())})},BoredPanda.AddPost.VideoKeyboardNavigation=function(t){$(document).keyup(function(e){"video"===t.topSubmitTabVisible()&&13===e.keyCode&&t.submitVideo("top"),"video"===t.bottomSubmitTabVisible()&&13===e.keyCode&&t.submitVideo("bottom")})},$(document).ready(function(i){if(i("#post-tags").tagit({tagLimit:BoredPanda.Config.isStaffMember?20:10,allowSpaces:!0,placeholderText:BoredPanda.Translate.AddPost.add_post_tags_placeholder,autocomplete:{delay:300,minLength:2,source:function(e,t){i.getJSON(ajax_object.ajax_url,{action:"bp_tags_search",tax:"post_tag",q:e.term},t)}},onTagLimitExceeded:function(){BoredPanda.AddPost.viewModel.errors.tags(!0),i(".ui-autocomplete-input").hide()},afterTagRemoved:function(){BoredPanda.AddPost.viewModel.errors.tags(!1),i(".ui-autocomplete-input").show()}}),i(window).resize(function(){BoredPanda.AddPost.Utils.editImageModalAutofit()}),0<i(".add-post-login").length&&initAddPost(),0<i("#add-post-area").length){if(initAddPost(),BoredPanda.AddPost.viewModel=new BoredPanda.AddPost.ViewModel,BoredPanda.AddPost.viewModel.initStep(),void 0!==BoredPanda.Config.isPostLocked&&BoredPanda.AddPost.viewModel.isPostLocked(BoredPanda.Config.isPostLocked),BoredPanda.AddPost.EditImageNavigation(BoredPanda.AddPost.viewModel),BoredPanda.AddPost.VideoKeyboardNavigation(BoredPanda.AddPost.viewModel),BoredPanda.Config.postJson&&BoredPanda.AddPost.viewModel.updateFromJson(BoredPanda.Config.postJson),"undefined"!=typeof tweetsArray&&BoredPanda.Config.isStaffMember){BoredPanda.AddPost.viewModel.loadingSpinner(!0),BoredPanda.AddPost.viewModel.post.type("list"),BoredPanda.AddPost.LeavePopup.change();var e,o=[],n=[];for(e in tweetsArray)o.push("https://twitter.com/"+tweetsArray[e]+"/status/"+e);function a(){if(0<o.length){var e=o.pop(),t=(BoredPanda.AddPost.viewModel.embedUrl(e),BoredPanda.AddPost.viewModel.submitEmbed("top",!0));t.done(a),t.error(function(){n.push(e),a()})}else{if("undefined"!=typeof tweetName)for(var i=0;i<BoredPanda.AddPost.viewModel.post.images().length;i++)BoredPanda.AddPost.viewModel.post.images()[i].headline(tweetName);0<n.length&&(t="List of failed tweets: \r\n"+n.join("\r\n"),alert(t),console.log(t))}}a()}BoredPanda.Tracking.trackInviteeAction("add_post_form_visit"),BoredPanda.Tracking.trackInviteeClicks(),ko.applyBindings(BoredPanda.AddPost.viewModel,i("#add-post-area").get(0)),ko.applyBindings(BoredPanda.AddPost.viewModel,i(".add-post-submit-area").get(0)),i(".contribution-modal-wrapper").each(function(){ko.applyBindings(BoredPanda.AddPost.viewModel,this)}),i(document).on("change","#add-post-area input, #add-post-area textarea",function(){BoredPanda.AddPost.LeavePopup.change()}),i(".post-description textarea").autoGrowTextArea(),i(".post-title textarea").autoGrowTextArea(),i(".edit-image-content .image-heading textarea").autoGrowTextArea(),i(".edit-image-content .image-description textarea").autoGrowTextArea(),i(".image-description .image-description-input").autoGrowTextArea(),setInterval(function(){i("body").hasClass("page-template-add-post-template-php")&&(i(document).width()<1020?i("#step-description .info-block-container").height(i("#step-description .info-block-container .info-block.additional-info").height()):i("#step-description .info-block-container").height()<i(".post-content-wrapper").height()&&i("#step-description .info-block-container").height(i(".post-content-wrapper").height()))},500)}})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Poll=function(){let r=this;r.localStorageKey="boredpanda_answered_polls",r.poll=ko.observable(null),r.isInitialised=ko.observable(!1),r.isLoading=ko.observable(!1),r.isShowingResults=ko.observable(!1),r.currentQuestionIndex=ko.observable(null),r.cachedVotePercentages=ko.observable({}),r.email=ko.observable(""),r.newsletterSubscribed=ko.observable(!1),r.isNewsletterLoading=ko.observable(!1),r.currentQuestion=ko.computed(function(){return!r.poll()||null===r.currentQuestionIndex()?null:r.poll().questions[r.currentQuestionIndex()]}),r.currentQuestionText=ko.computed(function(){var e=r.currentQuestion();return null===e?null:e.text}),r.currentQuestionAnswers=ko.computed(function(){var e=r.currentQuestion();return null===e?null:e.answers}),r.currentQuestionTotalAnswers=ko.computed(function(){var e=r.currentQuestionAnswers();return null===e||0===e.length?0:e.reduce((e,t)=>e+t.votes,0)}),r.shouldShowPollContent=ko.computed(function(){return!r.isLoading()&&!r.isShowingResults()&&null!=r.currentQuestionAnswers()&&0<r.currentQuestionAnswers().length}),r.mostVotesForAnswer=ko.computed(function(){let t=0;var e=r.currentQuestionAnswers();return null===e||0===e.length?0:(e.forEach(e=>{e.votes>t&&(t=e.votes)}),t)}),r.isEmailValid=ko.computed(function(){var e=r.email();return 0<e.length&&/\S+@\S+\.\S+/.test(e)}),r.initPoll=function(){r.isLoading(!0);var e=$("#poll-values").val();e&&0!==e.length&&(e=atob(e),e=JSON.parse(e),r.poll(e),r.currentQuestionIndex(0),r.getAnsweredPollsFromLocalStorage().includes(e.pollId)&&r.isShowingResults(!0),r.isInitialised(!0),r.isLoading(!1),r.subscribeToNewsletterInputEvent())},r.selectAnswer=async function(e,t){if(!r.isLoading()){var i=$(`#question-${e}-answer-`+t),e=$(`#question-${e}-answer-${t}-inner-circle`);i.addClass("checked"),e.addClass("checked");try{r.isLoading(!0),BoredPanda.Tracking.sendSimpleGA4Event("poll_click"),await BoredPanda.Utils.wpAjax({action:"poll_select_answer",answer_id:t,post_id:r.poll().postId});var o=r.poll();const s=r.currentQuestion();s.answers=r.currentQuestionAnswers().map(e=>(e.id===t&&e.votes++,e)),o.questions=r.poll().questions.map(e=>e.id===s.id?s:e),r.poll(o);var n=o.pollId,a=r.getAnsweredPollsFromLocalStorage();a.includes(n)||(a.push(n),localStorage.setItem(r.localStorageKey,JSON.stringify(a)))}catch(e){}finally{r.isShowingResults(!0),r.isLoading(!1),r.subscribeToNewsletterInputEvent()}}},r.getAnsweredPollsFromLocalStorage=function(){return JSON.parse(localStorage.getItem(r.localStorageKey))??[]},r.getAnswerPercentage=function(e){if(r.cachedVotePercentages().hasOwnProperty(e))return r.cachedVotePercentages()[e];var t=r.currentQuestionTotalAnswers();let i=0;return 0!==t&&(i=Math.round(e/t*100)),r.cachedVotePercentages({...r.cachedVotePercentages(),[e]:i}),i},r.seeMorePolls=function(){BoredPanda.Tracking.sendSimpleGA4Event("poll_more"),window.location.href="/polls"},r.subscribeToNewsletterInputEvent=function(){$("input#polls-newsletter-input").on("input",function(){var e=$(this).val();r.email(e)})},r.pollsNewsletterSubscribe=async function(){if(r.isEmailValid())try{r.isNewsletterLoading(!0),await BoredPanda.Utils.wpAjax({action:"newsletter_subscribe_to_polls",email:r.email()}),r.newsletterSubscribed(!0),$("input#polls-newsletter-input").val(""),r.email("")}catch(e){console.error(e)}finally{r.isNewsletterLoading(!1)}}},$(document).ready(function(){var e,t=$("#poll-page-load-event");if(0!==t.length){let e=null;"poll_load"===t.val()?e="poll_load":"poll_skip"===t.val()&&(e="poll_skip"),null!==e&&BoredPanda.Tracking.sendSimpleGA4Event(e)}BoredPanda.Config.inOpenList||(t=$("#post-poll").get(0))&&(e=new BoredPanda.Poll,ko.applyBindings(e,t),e.initPoll()),$(document).on("mouseenter",".poll-content .answers .answer",function(){$(this).find(".inner-circle").addClass("checked")}),$(document).on("mouseleave",".poll-content .answers .answer",function(){$(this).find(".inner-circle").removeClass("checked")}),$("#post-poll").bind("inview",function(e,t){t&&"true"!==$(this).attr("data-viewed")&&0<$(this).height()&&($(this).attr("data-viewed",!0),BoredPanda.Tracking.sendSimpleGA4Event("poll_seen"))})})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{};var n=BoredPanda.OpenList=BoredPanda.OpenList||{};n.AppendForm=function(){function s(){o(),c.title(""),c.description(""),c.imageUploaded(!1),c.progress(0),c.source(""),c.author(""),c.showSource(!1),c.source1(""),c.author1(""),c.embed.embedUrl(""),c.embed.tweetConversation(!1),c.embed.tweetInFeed(!1),c.embed.tweetHtml(""),c.embed.html(""),c.embed.tweetHtmlVersion(!1),c.embed.tweetSingleImage(!1),c.embed.watermark(!0),c.embed.instagramWatermark(!1),c.embed.singleImage(!0),c.embed.facebookSingleImage(!1),c.embed.hideCaption(!1),c.embed.generateError(!1),c.embed.imageUploaded(!1),c.embed.imageSrc(""),c.embed.showSource(!1),c.embed.image=null,c.externalPoints(""),c.addAdditionalImageForm(!1)}var c=this,o=(c.errors={upload:ko.observable(!1),title:ko.observable(!1),description:ko.observable(!1),image:ko.observable(!1),embed:ko.observable(!1)},c.errorMessages={upload:ko.observable("Ooops! Your image is too large, maximum file size is 8 MB.")},c.title=ko.observable(""),c.description=ko.observable(""),c.source=ko.observable(""),c.author=ko.observable(""),c.source1=ko.observable(""),c.author1=ko.observable(""),c.showSource=ko.observable(!1),c.imageUploaded=ko.observable(!1),c.imageSrc=ko.observable(null),c.submissionId=ko.observable(null),c.imageFormat=BoredPanda.Config.openListImageFormat,c.progress=ko.observable(0),c.showWidgetForm=ko.observable(!1),c.dropEvent=ko.observable(""),c.showWaterMark=ko.observable(BoredPanda.Config.showWaterMark),c.showTextOpenListTopMobileForm=ko.observable(!1),c.activeMobileTextButton=ko.observable(!1),c.showExternalUpload=ko.observable(!1),c.externalPhoto=ko.observable(""),c.externalPoints=ko.observable(""),c.autoTitle=ko.observable(!1),c.publishButton=ko.observable(BoredPanda.Translate.AddPost.publish),c.publishing=ko.observable(!1),c.changeSource=ko.observable(!0),c.changeTitle=ko.observable(!0),c.loading=ko.observable(!1),c.addAdditionalImageForm=ko.observable(!1),c.ui={modal:{headTitle:ko.observable("Your submission is live now!"),popupDescription:ko.observable("Share your submission via social networks to gather votes."),viewPostText:ko.observable("View Submission")}},c.slider={left:ko.observable([]),right:ko.observable([]),flip:ko.observable(!1),loading:ko.observable(!1)},c.embed={html:ko.observable(""),tweetHtml:ko.observable(""),tweetHtmlVersion:ko.observable(!1),embedUrl:ko.observable(""),tweetConversation:ko.observable(!1),tweetInFeed:ko.observable(!1),tweetSingleImage:ko.observable(!1),watermark:ko.observable(!0),instagramWatermark:ko.observable(!1),singleImage:ko.observable(!0),facebookSingleImage:ko.observable(!1),hideCaption:ko.observable(!1),crop:ko.observable(!0),generateError:ko.observable(!1),imageUploaded:ko.observable(!1),imageSrc:ko.observable(""),showSource:ko.observable(!1),image:null},c.submissions=ko.observable({}),c.isResizing=ko.observable(!1),c.submissionUploadTabVisible=ko.observable("image"),c.image=null,c.itemsQueue=ko.observableArray([]),c.newItems=ko.observableArray([]),c.newItems.subscribe(function(){setTimeout(function(){var e;0<$(".reader-submissions ul").length?(e=$(".reader-submissions ul").offset().top-100,$(document).scrollTop(e)):0<$(".open-list-item-newly-appended").length&&(e=$(".open-list-item-newly-appended").last().offset().top-100,$(document).scrollTop(e))},100)}),function(){for(var e in c.errors)c.errors[e](!1)});c.uploader=function(){$(".image-upload-btn:not(#image-upload-btn-id-modal-challenge), .mobile-image-upload-btn").each(function(){const n=$(this),a="change-image-upload-btn-id"===n.attr("id");var e,t=n.closest(".image-file-area").attr("id"),i=new plupload.Uploader({runtimes:"html5,html4",browse_button:n.attr("id"),drop_element:t,url:ajax_object.ajax_url,max_file_size:"20mb",max_file_count:1,multipart_params:{action:"contribution_submit_upload",title:""},unique_names:!1,init:{FilesAdded:function(e){o(),e.start(),c.loading(!0)}},filters:[{title:"Image files",extensions:"jpg,jpeg,gif,png"}]});i.bind("BeforeUpload",function(){c.loading(!0)}),i.bind("FileUploaded",function(e,t,i){var o,i=$.parseJSON(i.response);!BoredPanda.Config.isStaffMember&&i.original_width<c.imageFormat&&-1===i.image_url.indexOf(".gif")?(c.errorMessages.upload("Ooops! Image width has to be at least "+c.imageFormat+"px"),c.errors.upload(!0),c.loading(!1)):(BoredPanda.Config.isStaffMember&&i.original_width<c.imageFormat&&(i.scaled=!0),o=BoredPanda.Utils.annotatePath(i.image_url,"__"+c.imageFormat)+"?preview",("embed-image-upload-btn"===n.attr("id")?(c.embed.image=i,c.embed.imageSrc(o),c.embed):(c.image=i,c.imageSrc(o),c.errors.image(!1),c)).imageUploaded(!0),c.loading(!1),a||!BoredPanda.Config.isStaffMember||BoredPanda.Config.isTabletWidth||c.appendListItem(i))}),i.bind("UploadProgress",function(e,t){c.progress(t.percent)}),i.bind("Error",function(e,t){"File size error."===t.message?c.errorMessages.upload("Ooops! Your image is too large, maximum file size is 20 MB."):"File extension error."===t.message&&c.errors.upload(!0)}),i.init(),"html5"===i.runtime&&(e=0,$("#"+t).bind({dragenter:function(){e++,c.dropEvent("dragenter")},dragleave:function(){0===--e&&c.dropEvent("dragleave")},drop:function(){c.dropEvent("drop")}})),c.pluploader=i})},new BoredPanda.AddPost.ImageUploader({browse_button:"browse-files-slider-left",title:c.title,loader:c.slider.loading,error:c.errors.upload,fileUploaded:function(e){BoredPanda.Config.isStaffMember&&c.slider.left(e)}}),new BoredPanda.AddPost.ImageUploader({browse_button:"browse-files-slider-right",title:c.title,loader:c.slider.loading,error:c.errors.upload,fileUploaded:function(e){BoredPanda.Config.isStaffMember&&c.slider.right(e)}});c.removeImage=function(){c.imageUploaded(!1),c.loading(!1),c.imageSrc(""),c.image=null},c.checkPublish=function(e,t){t=t.currentTarget.getAttribute("name");return c.embed.html()&&"publishEmbedHtml"===t&&c.publishEmbedHtml(),c.performPublish(t)},c.performPublish=async function(t,i){var o=i?i.source.url:c.source(),n=i?i.source_1.url:c.source1();if(!o&&!n)return c.publishByType(t,i);{let e=BoredPanda.Config.openListId;0===e&&(e=$.cookie("openListId"),$.removeCookie("openListId"));o=await $.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:{listId:e,source:o,source1:n,action:"check_submission_exists"}}).done();if(o.success||confirm("Image already exists in post: "+o.data+" , do you really want to publish?"))return c.publishByType(t,i)}},c.publishListQueue=function(){c.itemsQueue().forEach(async function(e){var t=await c.performPublish("publish",e);void 0!==t&&!0===t.error?e.error(t.message):c.itemsQueue.remove(e)})},c.publishByType=function(e,t){switch(e){case"publish":return c.publish(t);case"publishEmbed":return c.publishEmbed();default:return}},c.editQueueImage=function(t,e){if(!e.currentTarget.id){let i=c.itemsQueue().findIndex(e=>e.image.originalUrl===t.image.originalUrl);var o="edit-image-"+ +new Date;e.currentTarget.id=o,new BoredPanda.AddPost.ImageUploader({browse_button:o,title:ko.observable(""),loader:c.loading,error:ko.observable(""),fileUploaded:function(e){var t=c.itemsQueue();t[i].image={mediaUrl:BoredPanda.Utils.annotatePath(e.image_url,"__200"),originalUrl:e.image_url,originalWidth:e.original_width,originalHeight:e.original_height,dimensions:e.dimensions,scaled:e.scaled||!1},c.itemsQueue([]),c.itemsQueue(t)}}),e.currentTarget.click()}return!0},c.appendListItem=function(e){c.itemsQueue.unshift({headline:c.title(),description:c.description(),error:ko.observable(""),showSource:ko.observable(0<c.source().length),source:{type:"url",url:c.source(),author:c.author()},source_1:{type:"url",url:c.source1(),author:c.author1()},image:{mediaUrl:BoredPanda.Utils.annotatePath(e.image_url,"__200"),originalUrl:e.image_url,originalWidth:e.original_width,originalHeight:e.original_height,dimensions:e.dimensions,scaled:e.scaled||!1},externalPoints:c.externalPoints()}),s()},c.removeListItem=function(){c.itemsQueue.remove(this)},c.publish=async function(i){if(void 0===i){if(c.publishing())return;if(!c.imageUploaded())return void c.errors.image(!0);if(c.autoTitle()||c.errors.title(""===c.title()),c.errors.title()||c.errors.image())return}else if(!c.autoTitle()&&!i.headline)return{error:!0,message:"Missing title"};if(BoredPanda.Config.isLoggedIn){let e=BoredPanda.Config.openListId;0===e&&(e=$.cookie("openListId"),$.removeCookie("openListId"));var o={ko:ko.toJSON(i||{headline:c.title(),description:c.description(),source:{type:"url",url:c.source(),author:c.author()},source_1:{type:"url",url:c.source1(),author:c.author1()},image:{mediaUrl:BoredPanda.Utils.annotatePath(c.image.image_url,"__200"),originalUrl:c.image.image_url,originalWidth:c.image.original_width,originalHeight:c.image.original_height,dimensions:c.image.dimensions,scaled:c.image.scaled||!1},externalPoints:c.externalPoints()}),action:"contribution_append",surname:$("#post-surname").val(),open_list_id:e};c.publishButton(BoredPanda.Translate.AddPost.publishing),c.publishing(!0);var n,a,o=await $.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:o}).done();let t="";if("1"===o.post_limit_exceeded)t='<p><i class="error-icon"></i>Ooops! Your post limit for this hour has exceeded.</p>';else if(1===o.unknown_error)t='<p><i class="error-icon"></i>Ooops! There was an error. Please add your image again.</p>';else if(0<o.postId){if(BoredPanda.Config.isTabletWidth)return""!==t&&BoredPanda.notice.setNotice(t),void window.location.replace(o.permalink);!0===BoredPanda.Config.showSubmissionPopup&&void 0===i&&(n=["Share and help it reach the moon."],c.ui.modal.headTitle((a=["Your submission has been launched!"])[Math.floor(Math.random()*a.length)]),c.ui.modal.popupDescription(n[Math.floor(Math.random()*n.length)]),a=encodeURIComponent(o.permalink+"?utm_source=author&utm_medium=social&utm_campaign=SubmissionAuthorShare"),$("#share-modal a#facebook-share").attr("onclick","window.open('https://www.facebook.com/dialog/share?app_id="+BoredPanda.Config.fbAppId+"&display=popup&href="+a+"&redirect_uri="+encodeURIComponent(BoredPanda.Config.homeUrl+"/close.html")+"','facebook-share-dialog','width=626,height=436');$('#share-modal').modal('hide');"),$("#share-modal a#twitter-share").attr("onclick","window.open('http://twitter.com/share?url="+a+"&via=boredpanda&text="+encodeURIComponent(c.title())+"','twitter-share-dialog','width=626,height=436');$('#share-modal').modal('hide');"),$.ajax({type:"POST",url:"https://graph.facebook.com/?ids="+o.permalink+"&scrape=true",data:null,dataType:"json"}),$(".got-it-button").attr("href",o.permalink),$("#add-post-modal").modal("hide"),$("#share-modal").modal(),$(".share-buttons a").unbind("click"),BoredPanda.Config.isStaffMember||(BoredPanda.Tracking.trackClick(".share-buttons a","Share Popup","add_to_open_list"),BoredPanda.Tracking.trackImpression("#share-modal","Share Popup","add_to_open_list"))),BoredPanda.Config.isStaffMember&&!1!==o.error&&alert(o.error),c.newItems.push({postId:o.postId,title:o.title,permalink:o.permalink,displayName:o.displayName,authorLink:o.authorLink,userThumb:o.userThumb,source:o.source,sourceName:o.sourceName,source1:o.source1,sourceName1:o.sourceName1,position:o.position,coverSrc:BoredPanda.Utils.annotatePath(i?i.image.originalUrl:c.image.image_url,"__880")+"?upd=1",thumbSrc:BoredPanda.Utils.annotatePath(i?i.image.originalUrl:c.image.image_url,"__300"),textOpenList:!1,description:o.description,embedHtml:"",showNotice:ko.observable(!1)})}return c.publishButton(BoredPanda.Translate.AddPost.publish),c.publishing(!1),BoredPanda.Config.returnUrl=o.permalink,""!==t&&BoredPanda.notice.showNotice(t),s(),!0}$("#add-post-modal").modal("hide"),BoredPanda.Login.form.closeable(!0),BoredPanda.Login.form.show(void 0,c.publish,BoredPanda.Translate.Signup.please_login_add_image)},c.doubleClicked=function(e){BoredPanda.Config.isStaffMember&&e.showNotice(!e.showNotice())},c.publishSlider=function(){var e;if(!c.publishing())if(c.slider.left()&&c.slider.right()){if(BoredPanda.Config.isStaffMember&&(c.autoTitle()||c.errors.title(""===c.title()),!c.errors.title()&&!c.errors.image()))return 0===(e=BoredPanda.Config.openListId)&&(e=$.cookie("openListId"),$.removeCookie("openListId")),e={ko:ko.toJSON({headline:c.title(),description:"",source:{type:"url",url:c.source(),author:c.author()},source_1:{type:"url",url:c.source1(),author:c.author1()},image:{mediaUrl:BoredPanda.Utils.annotatePath(c.slider.left().image_url,"__200"),originalUrl:c.slider.left().image_url,originalWidth:c.slider.left().original_width,originalHeight:c.slider.left().original_height,dimensions:c.slider.left().dimensions},slider:{rightImageUrl:c.slider.right().image_url,flip:c.slider.flip()},imageSlider:{headline:c.title(),description:"",source:{type:"url",url:"",author:""},source_1:{type:"url",url:"",author:""},image:{mediaUrl:BoredPanda.Utils.annotatePath(c.slider.right().image_url,"__200"),originalUrl:c.slider.right().image_url,originalWidth:c.slider.right().original_width,originalHeight:c.slider.right().original_height,dimensions:c.slider.right().dimensions}}}),action:"contribution_append",surname:$("#post-surname").val(),open_list_id:e},c.publishButton(BoredPanda.Translate.AddPost.publishing),c.publishing(!0),(e=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:e})).done(function(e){var t="";"1"===e.post_limit_exceeded?t='<p><i class="error-icon"></i>Ooops! Your post limit for this hour has exceeded.</p>':1===e.unknown_error?t='<p><i class="error-icon"></i>Ooops! There was an error. Please add your image again.</p>':0<e.postId&&(BoredPanda.AddPost.LeavePopup.publish(),window.location.reload()),c.publishButton(BoredPanda.Translate.AddPost.publish),c.publishing(!1),""!==t&&BoredPanda.notice.showNotice(t),s()}),e}else c.errors.image(!0)},c.setSubmission=function(e,t){c.submissionId($(t.target).data("id")),c.image=null,s(),$(".edit-submission-image").show()},c.addAdditionalImage=function(e,t){c.submissionId($(t.target).data("id")),c.image=null,s(),c.addAdditionalImageForm(!0),$(".edit-submission-image").show()},c.toggleTwitterHtml=function(e,t){var i=t.currentTarget.getAttribute("data-value"),o=t.currentTarget.getAttribute("data-id");BoredPanda.Utils.wpAjax({action:"admin_toggle_twitter_embed",post_id:o,meta_key:"hide-embed-html",value:!i}).done(function(){t.currentTarget.text=i?"Turn off html version":"Turn on html version"})},c.closeEditForm=function(){$(".edit-submission-image").hide()},c.updateSubmission=function(){var i;BoredPanda.Config.isStaffMember&&(c.loading(!0),i={action:"admin_change_submission_picture",submissionId:c.submissionId(),picture:null,source:null,author:null},c.image?i={action:"admin_change_submission_picture",submissionId:c.submissionId(),picture:c.image,source:c.source(),author:c.author()}:c.embed.image&&(i={action:"admin_change_submission_picture",submissionId:c.submissionId(),picture:c.embed.image,source:c.embed.embedUrl(),author:c.embed.image.embed_author}),c.changeSource()||(i.source=null,i.author=null),null!==i.submissionId&&null!==i.picture&&BoredPanda.Utils.wpAjax(i).done(function(){$("#edit-submission-image img").attr("src",null),$(".edit-submission-image").hide(),$("#edit-submission-image .uploaded-image-container").hide(),$("#edit-submission-image .overlay").hide(),$("#edit-submission-image .image-file-area").show(),$(".open-list-item[data-submission-id="+i.submissionId+"] p.open-list-media-container source").remove(),$(".open-list-item[data-submission-id="+i.submissionId+"] p.open-list-media-container img:first").attr("srcset",i.picture.image_url),$(".open-list-item[data-submission-id="+i.submissionId+"] p.open-list-media-container").closest(".open-list-item").find(".post-admin-menu .scaled-image-notice").hide(),c.title()&&c.changeTitle()&&($(".open-list-item[data-submission-id="+i.submissionId+"] .change-post-title-field").val(c.title()),$(".open-list-item[data-submission-id="+i.submissionId+"] .change-post-title").trigger("click")),c.changeSource()&&i.source&&($(".open-list-item[data-submission-id="+i.submissionId+"] .change-source1 .change-source-field").val(i.source),$(".open-list-item[data-submission-id="+i.submissionId+"] .change-source1 .change-source-author-field").val(i.author));var e,t=$(".open-list-item[data-submission-id="+i.submissionId+"] .post-content-description.text-open-list");0<t.length&&((e=t.find("img")).length<1?t.prepend('<img class="image-size-full" src="'+i.picture.image_url+'">'):e.attr("srcset",i.picture.image_url)),c.image=null,c.submissionId(null),c.loading(!1),s()}))},c.saveAdditionalImage=function(){if(BoredPanda.Config.isStaffMember){c.loading(!0);let i={listId:BoredPanda.Config.openListId,submissionId:c.submissionId(),picture:null,source:null,author:null};c.image?(i.submissionId=c.submissionId(),i.picture=c.image,i.source=c.source(),i.author=c.author()):c.embed.image&&(i.submissionId=c.submissionId(),i.picture=c.embed.image,i.source=c.embed.embedUrl(),i.author=c.embed.image.embed_author),i.action="admin_add_submission_additional_image",c.changeSource()||(i.source=null,i.author=null),null!==i.submissionId&&null!==i.picture&&BoredPanda.Utils.wpAjax(i).done(function(){if(0===$('.swiper[data-submission-id="'+c.submissionId()+'"]').length)window.location.reload();else{let t='<div class="swiper-slide">       <img class="image-size-full" src="'+i.picture.image_url+'">    </div>';n.View.swipers instanceof Array?n.View.swipers.forEach(e=>{parseInt(e.el.dataset.submissionId)===parseInt(i.submissionId)&&e.appendSlide(t)}):n.View.swipers&&n.View.swipers.appendSlide(t),c.image=null,c.submissionId(null),c.loading(!1),s(),$(".edit-submission-image").hide()}})}},c.deleteAdditionalImage=function(e,t){let i=$(t.target).data("id"),o=$(t.target).data("index");c.loading(!0),BoredPanda.Utils.wpAjax({action:"admin_delete_submission_additional_image",submissionId:i,image:$(t.target).data("value")}).done(function(){n.View.swipers instanceof Array?n.View.swipers.forEach(e=>{parseInt(e.el.dataset.submissionId)===parseInt(i)&&e.removeSlide(o)}):n.View.swipers&&parseInt(n.View.swipers.el.dataset.submissionId)===parseInt(i)&&n.View.swipers.removeSlide(o),c.loading(!1),$(t.target).parent().remove()})},c.renderEditEmbed=function(){c.renderEmbed("edit")},c.renderEmbed=async function(e){if(c.errors.title(!1),c.errors.embed(!1),c.embed.generateError(!1),c.embed.embedUrl()){if(BoredPanda.Config.isStaffMember||BoredPanda.Config.isProMember){var t=c.embed.embedUrl().split("\n");c.loading(!0);for(const a in t){var i=t[a];if(i){var o={action:"parse_embed_url",embed_url:i,single_image:c.embed.singleImage(),hide_caption:c.embed.hideCaption(),crop:c.embed.crop(),conversation:c.embed.tweetConversation(),watermark:c.embed.watermark(),instagramWatermark:c.embed.instagramWatermark(),not_embed:c.embed.tweetInFeed(),tweet_single_image:c.embed.tweetSingleImage(),facebook_single_image:c.embed.facebookSingleImage()},o=BoredPanda.Utils.wpAjax(o);try{var n=await o.done();c.source(i),c.author(n.embed_author),void 0!==n.generatedTweetHtml&&c.embed.tweetHtml(n.generatedTweetHtml),c.title(n.title),c.embed.image=n,c.embed.imageSrc(n.image_url),c.source&&c.embed.showSource(!0),"edit"===e?c.embed.imageUploaded(!0):c.appendListItem(n)}catch(e){c.embed.generateError(!0),c.loading(!1)}}}c.loading(!1),"edit"!==e&&c.embed.embedUrl("")}}else c.errors.embed(!0)},c.publishEmbed=function(){var e;if(!c.publishing())if(c.errors.title(!1),c.errors.embed(!1),c.embed.generateError(!1),c.title()||c.autoTitle())if(c.embed.embedUrl()){if(BoredPanda.Config.isStaffMember||BoredPanda.Config.isProMember)return 0===(e=BoredPanda.Config.openListId)&&(e=$.cookie("openListId"),$.removeCookie("openListId")),c.loading(!0),c.publishButton(BoredPanda.Translate.AddPost.publishing),c.publishing(!0),e={ko:ko.toJSON({headline:c.title(),description:c.description(),source:{type:"url",url:c.source(),author:c.author()},source_1:{type:"url",url:c.source1(),author:c.author1()},image:{mediaUrl:BoredPanda.Utils.annotatePath(c.embed.image.image_url,"__200"),originalUrl:c.embed.image.image_url,originalWidth:c.embed.image.original_width,originalHeight:c.embed.image.original_height,dimensions:c.embed.image.dimensions}}),tweetHtml:c.embed.tweetHtml(),useHtmlVersion:c.embed.tweetHtmlVersion(),action:"contribution_append",surname:$("#post-surname").val(),open_list_id:e},(e=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:e})).done(function(e){var t="";"1"===e.post_limit_exceeded?t='<p><i class="error-icon"></i>Ooops! Your post limit for this hour has exceeded.</p>':1===e.unknown_error?t='<p><i class="error-icon"></i>Ooops! There was an error. Please add your image again.</p>':0<e.postId&&BoredPanda.AddPost.LeavePopup.publish(),c.newItems.push({postId:e.postId,title:e.title,permalink:e.permalink,displayName:e.displayName,authorLink:e.authorLink,userThumb:e.userThumb,source:e.source,sourceName:e.sourceName,source1:e.source1,sourceName1:e.sourceName1,position:e.position,coverSrc:BoredPanda.Utils.annotatePath(c.embed.image.image_url,"__880")+"?upd=1",thumbSrc:BoredPanda.Utils.annotatePath(c.embed.image.image_url,"__300"),textOpenList:!1,description:e.description,embedHtml:"",showNotice:ko.observable(!1)}),c.publishButton(BoredPanda.Translate.AddPost.publish),c.publishing(!1),""!==t&&BoredPanda.notice.showNotice(t),c.loading(!1),s()}),e}else c.errors.embed(!0);else c.errors.title(!0)},c.publishEmbedHtml=function(){var e;if(!c.publishing())if(c.title()||c.autoTitle()){if(BoredPanda.Config.isStaffMember||BoredPanda.Config.isProMember)return 0===(e=BoredPanda.Config.openListId)&&(e=$.cookie("openListId"),$.removeCookie("openListId")),c.loading(!0),c.publishButton(BoredPanda.Translate.AddPost.publishing),c.publishing(!0),e={ko:ko.toJSON({headline:c.title(),description:"",embedHtml:c.embed.html()}),action:"contribution_append",surname:$("#post-surname").val(),open_list_id:e},(e=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:e})).done(function(e){var t="";"1"===e.post_limit_exceeded?t='<p><i class="error-icon"></i>Ooops! Your post limit for this hour has exceeded.</p>':1===e.unknown_error?t='<p><i class="error-icon"></i>Ooops! There was an error. Please add your image again.</p>':0<e.postId&&BoredPanda.AddPost.LeavePopup.publish(),c.newItems.push({postId:e.postId,title:e.title,permalink:e.permalink,displayName:e.displayName,authorLink:e.authorLink,userThumb:e.userThumb,source:e.source,sourceName:e.sourceName,source1:e.source1,sourceName1:e.sourceName1,position:e.position,textOpenList:!1,description:"",coverSrc:"",embedHtml:c.embed.html(),showNotice:ko.observable(!1)}),c.publishButton(BoredPanda.Translate.AddPost.publish),c.publishing(!1),""!==t&&BoredPanda.notice.showNotice(t),c.loading(!1),s()}),e}else c.errors.title(!0)},c.publishTextSubmission=function(){var e,t;if(!c.publishing())if(BoredPanda.Config.isLoggedIn){if(c.errors.description(""===c.description()),!c.errors.description())return 0===(t=BoredPanda.Config.openListId)&&(t=$.cookie("openListId"),$.removeCookie("openListId")),e={headline:c.title(),description:c.description(),source:{type:"url",url:c.source(),author:c.author()}},c.image&&(e.image={mediaUrl:BoredPanda.Utils.annotatePath(c.image.image_url,"__200"),originalUrl:c.image.image_url,originalWidth:c.image.original_width,originalHeight:c.image.original_height,dimensions:c.image.dimensions,scaled:c.image.scaled||!1}),e={ko:ko.toJSON(e),action:"contribution_append",surname:$("#post-surname").val(),open_list_id:t,open_list_type:"text"},c.publishButton(BoredPanda.Translate.AddPost.publishing),c.publishing(!0),(t=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:e})).done(function(e){var t="";if("1"===e.post_limit_exceeded)t='<p><i class="error-icon"></i>Ooops! Your post limit for this hour has exceeded.</p>';else if(1===e.unknown_error)t='<p><i class="error-icon"></i>Ooops! There was an error. Please add your submission again.</p>';else if(0<e.postId){if(BoredPanda.Config.isTabletWidth)return""!==t&&BoredPanda.notice.setNotice(t),void window.location.replace(BoredPanda.Utils.getParameterByName("returnurl"));c.newItems.push({postId:e.postId,title:c.title(),description:c.description(),permalink:e.permalink,displayName:e.displayName,authorLink:e.authorLink,userThumb:e.userThumb,source:e.source,sourceName:e.sourceName,source1:e.source1,sourceName1:e.sourceName1,position:e.position,coverSrc:c.image?c.image.image_url:"",textOpenList:!0,thumbSrc:"",embedHtml:"",showNotice:ko.observable(!1)})}$("#add-post-modal").modal("hide"),c.publishButton(BoredPanda.Translate.AddPost.publish),c.publishing(!1),BoredPanda.Config.returnUrl=e.permalink,""!==t&&BoredPanda.notice.showNotice(t),s()}),t}else $("#add-post-modal").modal("hide"),BoredPanda.Login.form.closeable(!0),BoredPanda.Login.form.show(void 0,c.publishTextSubmission,BoredPanda.Translate.Signup.please_login_add_submission)},c.publishTextSubmissionMobile=function(e){if(!c.publishing()&&(""===c.description()?1===e?(c.description($.cookie("openListTextSubmission")),$.removeCookie("openListTextSubmission"),c.errors.description(""===c.description())):c.errors.description(!0):c.errors.description(!1),!c.errors.description())){var t,e=BoredPanda.Config.openListId;if(BoredPanda.Config.isLoggedIn)return 0===e&&(e=$.cookie("openListId"),$.removeCookie("openListId")),t={ko:ko.toJSON({headline:c.title(),description:c.description(),source:{type:"url",url:c.source(),author:c.author()}}),action:"contribution_append",surname:$("#post-surname").val(),open_list_id:e,open_list_type:"text"},c.publishButton(BoredPanda.Translate.AddPost.publishing),c.publishing(!0),(t=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:t})).done(function(e){var t="";if("1"===e.post_limit_exceeded)t='<p><i class="error-icon"></i>Ooops! Your post limit for this hour has exceeded.</p>';else if(1===e.unknown_error)t='<p><i class="error-icon"></i>Ooops! There was an error. Please add your submission again.</p>';else if(0<e.postId)return""!==t&&BoredPanda.notice.setNotice(t),void window.location.replace(e.permalink);c.publishButton(BoredPanda.Translate.AddPost.publish),c.publishing(!1),BoredPanda.Config.returnUrl=e.permalink,""!==t&&BoredPanda.notice.showNotice(t),s()}),t;$.cookie("openListTextSubmission",c.description(),{expires:1,path:"/"}),$.cookie("openListId",e,{expires:1,path:"/"}),BoredPanda.Login.form.show(window.location.pathname+"?textsub=1",void 0,BoredPanda.Translate.Signup.please_login_add_submission)}},c.uploadEditExternal=function(){c.uploadExternal("edit")},c.uploadExternal=async function(e){if(c.externalPhoto()){c.loading(!0);var t=c.externalPhoto().split("\n");for(const s in t){var i=t[s];if(i){var o=$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"upload_external_photo",url:i},dataType:"json"});try{var n=await o.done();if(!1===n.success)return;var a=BoredPanda.Utils.annotatePath(n.data.image.image_url,"__"+c.imageFormat);c.image=n.data.image,c.imageSrc(a),c.author(n.data.imageData.author),c.source(i),c.title(n.data.imageData.title),c.showSource(!0),void 0!==n.data.imageData.points&&c.externalPoints(n.data.imageData.points),"edit"===e?(c.errors.image(!1),c.imageUploaded(!0)):c.appendListItem(c.image)}catch(e){c.errors.upload(!0)}}}c.loading(!1)}},c.mobileAddImage=function(){var e;return!!BoredPanda.Config.isLoggedIn||(e=$(".mobile-add-image-block a").attr("href"),BoredPanda.Login.form.show(e),$.cookie("openListId",BoredPanda.Config.openListId,{expires:1,path:"/"}),!1)},c.canvas={canvas:ko.observable(""),topFontSize:ko.observable(40),bottomFontSize:ko.observable(40),topText:ko.observable(""),bottomText:ko.observable(""),loading:ko.observable(!0),error:ko.observable(!1),errorText:ko.observable("")},c.topTextFontInc=function(){c.canvas.topFontSize(c.canvas.topFontSize()+2)},c.topTextFontDec=function(){c.canvas.topFontSize(c.canvas.topFontSize()-2)},c.bottomTextFontInc=function(){c.canvas.bottomFontSize(c.canvas.bottomFontSize()+2)},c.bottomTextFontDec=function(){c.canvas.bottomFontSize(c.canvas.bottomFontSize()-2)},c.memeGenerator=function(a){var s=a.find(".meme-canvas").get(0),r=s.getContext("2d"),l=new Image,e=(l.setAttribute("crossOrigin","anonymous"),l.src=memeImage,l.onload=function(){var e,t;c.canvas.loading(!1),e=this.width,t=this.height,s.width=e,s.height=t,i()},a.find(".meme-texts .top-text textarea").get(0)),t=a.find(".meme-texts .bottom-text textarea").get(0);function i(){c.imageUploaded(!1);var e=c.canvas.topFontSize(),t=c.canvas.bottomFontSize(),i=(r.clearRect(0,0,s.width,s.height),r.drawImage(l,0,0,l.width,l.height),r.lineWidth=4,r.font=e+"pt Anton",r.strokeStyle="black",r.fillStyle="white",r.textAlign="center",r.textBaseline="top",a.find(".meme-texts .top-text textarea").val()),o=a.find(".meme-texts .bottom-text textarea").val(),n=(i||o?(c.canvas.topText(i),c.canvas.bottomText(o)):(i="Top text (optional)",o="Bottom text (optional)"),i=i.toUpperCase(),s.width/2);d(r,i,n,10,s.width-50,e+10,!1),r.textBaseline="bottom",r.font=t+"pt Anton",o=o.toUpperCase(),i=s.height-10,d(r,o,n,i,s.width-50,t+10,!0)}function d(e,t,i,o,n,a,s){for(var r,l=s?"unshift":"push",d=(a=s?-a:a,[]),c=t.split("\n"),u=0;u<c.length;u++){for(var h="",p=c[u].split(" "),m=0;m<p.length;m++)var f=h+" "+p[m],h=n<e.measureText(f).width?(h&&d[l](h),p[m]+" "):f;d[l](h)}for(r in d)e.strokeText(d[r],i,o+a*r,n),e.fillText(d[r],i,o+a*r,n)}e.addEventListener("keydown",i),e.addEventListener("keyup",i),e.addEventListener("change",i),t.addEventListener("keydown",i),t.addEventListener("keyup",i),t.addEventListener("change",i),a.find(".text-font-size span").bind("click",i),a.find(".publish-button").click(function(e){c.canvas.canvas(s),BoredPanda.Config.isLoggedIn?(e.preventDefault(),c.createMeme()):($("#add-post-modal").modal("hide"),BoredPanda.Login.form.closeable(!0),BoredPanda.Login.form.show(void 0,c.createMeme,BoredPanda.Translate.Signup.please_login_add_image))})},c.createMeme=function(){if(c.canvas.error(!1),c.title(c.canvas.topText()?c.canvas.topText():c.canvas.bottomText()),c.title()||c.autoTitle()){var e;if(c.publishButton(BoredPanda.Translate.AddPost.publishing),c.publishing(!0),!c.imageUploaded())return 0===(e=BoredPanda.Config.openListId)&&(e=$.cookie("openListId")),e={image:c.canvas.canvas().toDataURL(),openListId:e,action:"save_meme_image"},(e=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:e})).done(function(e){var t;c.publishing(!1),!0!==e.success?(c.canvas.errorText(e.error||"Error occurred. Please try again."),c.canvas.error(!0),c.publishButton(BoredPanda.Translate.AddPost.publish)):e.image.image_url?(t=BoredPanda.Utils.annotatePath(e.image.image_url,"__"+c.imageFormat),c.image=e.image,c.imageSrc(t),c.errors.image(!1),c.imageUploaded(!0),c.publish()):(c.errors.image(!0),c.publishButton(BoredPanda.Translate.AddPost.publish))}),e;c.publish()}else c.errors.title(!0)},c.initSubmission=function(e,t){c.submissions()[e]={imageEl:ko.observable(t),cropper:ko.observable(""),cropperSelector:ko.observable("#image-generator-"+e+" .image-editor-block"),original:ko.observable(""),cropped:ko.observable(""),hover:ko.observable(!1),separator:ko.observable(50),imageLayout:ko.observable(1),loading:ko.observable(!1),cropperImages:ko.observableArray([]),api:{cropOneColumn:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnLeft:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0},cropTwoColumnRight:{originalImg:ko.observable(""),offset:{x:ko.observable(0),y:ko.observable(0)},zoom:0}}}},c.initCropper=function(i,e,t,o){o=new BoredPanda.Cropper({action:"contribution_create_submission_image",filename:"fb_image",selector:c.submissions()[i].cropperSelector(),type:"submission-generator",loading:c.submissions()[i].loading,separator:c.submissions()[i].separator,images:c.submissions()[i].cropperImages,thumb:c.submissions()[i].cropped,width:o,height:ko.observable(o/e*t),ratio:1,imgs:{cropOneColumn:c.submissions()[i].api.cropOneColumn,cropTwoColumnLeft:c.submissions()[i].api.cropTwoColumnLeft,cropTwoColumnRight:c.submissions()[i].api.cropTwoColumnRight},callback:function(e,t){c.saveSubmissionImage(i,e.image)}});o.initCropper(),c.submissions()[i].cropper(o)},c.initSubmissionUploadButton=function(t){var e="browse-files-image-generator-"+t,i="image-generator-"+t,e=($(c.submissions()[t].cropperSelector()).find(".browse-files").attr("id",e),new BoredPanda.AddPost.ImageUploader({browse_button:e,title:ko.observable(""),loader:c.submissions()[t].loading,drop_element:i,error:c.errors.upload,fileUploaded:function(e){BoredPanda.Config.isStaffMember&&c.addCropperImage(t,e.image_url,e.original_width,e.original_height,e.dimensions)}}));ko.cleanNode($("#"+i+" .drop-area")[0]),ko.applyBindings(e,$("#"+i+" .drop-area")[0])},c.uploader()},n.View={init:function(){this.orderDropDown(),0<BoredPanda.Config.openListId&&(this.showMoreButton(),this.changeImageDimension()),this.unhideSubmission(),this.readMoreSubmissionDescription(),BoredPanda.Config.isStaffMember&&this.submitAdminVotes(),this.initSwiper()},swipers:[],initSwiper:function(){this.swipers=new Swiper(".swiper",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"},on:{slideChangeTransitionEnd:function(){var e=$(event.currentTarget).parent().find(".swiper-slide-active img"),t=$(event.currentTarget).closest('.shareable-post-image[data-image-ctr-fixed="true"]').length;BoredPanda.Config.isStaffMember||"false"===e.attr("data-track-impression")||t||(e.attr("data-track-impression",!1),BoredPanda.Tracking.sendSimpleGA4Event("swiper_slide_change",{post_id:$(event.currentTarget).parent().data().submissionId,image:e.attr("src").split("/").pop()}))}}})},pageNumb:1,showMoreButton:function(){var e=$(".open-list-items");0<e.length&&(e.infiniteScroll({append:".open-list-items div.open-list-item, .desktop-in-content-ad, .post-mobile-ad-within-content",status:".page-load-status",hideNav:".open-list-pagination",debug:!1,history:!1,scrollThreshold:5e3,path:".open-list-pagination a"}),e.on("append.infiniteScroll",function(e,t,i,o){BoredPanda.Comment.destroyCommentImages(),BoredPanda.Comment.initCommentImages(),BoredPanda.Slider.bindDrag(),BoredPanda.Flipper.bind(),BoredPanda.ShareBox.sharesCount(),BoredPanda.Utils.reloadAds(o),n.View.pageNumb++,3===n.View.pageNumb&&BoredPanda.Utils.loadAnchor(),BoredPanda.Config.isStaffMember&&BoredPanda.AdminOpenList.ImageGenerator&&(BoredPanda.AdminOpenList.ImageGenerator.init(o),BoredPanda.AdminOpenList.Creditor.init(o))}))},orderDropDown:function(){$(".open-list-sort-dd").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".open-list-sort-options").is(":hidden")?$(".open-list-sort-options").fadeIn("medium",function(){}):$(".open-list-sort-options").fadeOut("medium",function(){})}),$(".open-list-sort-dd").on("click",function(e){e.stopPropagation()}),$(document).on("click",function(){$(".open-list-sort-options").fadeOut("medium",function(){})})},unhideSubmission:function(){$(document).on("click",".open-list-item.hidden-submission a",function(){var e=$(this).closest(".open-list-item.hidden-submission");e.hide(),$('.open-list-item[data-submission-id="'+e.data("hidden-submission-id")+'"]').show()})},readMoreSubmissionDescription:function(){$(document).on("click",".post-content-description.not-full .read-more",function(){$(this).closest(".post-content-description.not-full").hide(),$(this).closest(".post-content-description.not-full").parent().find(".post-content-description.full").show()})},submitAdminVotes:function(){$(document).on("change",".admin-submission-votes input",function(){window.voteStarted||(window.voteStarted=new Date)}),$(document).on("click",".admin-vote-for-post",function(){var e;$(".admin-submission-votes input:checked").length<$(".admin-submission-votes").length?($(".admin-submission-votes").each(function(){if(0===$(this).find("input:checked").length)return $("html, body").animate({scrollTop:$(this).closest(".open-list-item").offset().top},1e3),!1}),alert("Please vote for all submissions!")):(e={action:"admin_save_voting_mode",data:$.map($(".admin-submission-votes input:checked"),function(e){return{post_id:e.name,votes:e.value}}),open_list_id:BoredPanda.Config.openListId,votes_consumed:Math.floor((new Date-window.voteStarted)/1e3)},(e=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:e})).done(function(e){alert(e.message)}),e.fail(function(){alert("Error! Please try again.")}))})},changeImageDimension:function(){var e,t=$(".embedTwitter__bodyImage"),i=BoredPanda.Config.openListImageFormat;for(e in t){var o=t[e].src;o&&0<o.indexOf(".jpg")&&(o=o.split(".jpg")[0]+"__"+i+".jpg",t[e].src=o)}}},$(document).ready(function(t){if(BoredPanda.Config.inOpenList){n.View.init(),BoredPanda.OpenList.appendForm=new BoredPanda.OpenList.AppendForm;let e={};t("#post-poll").get(0)&&(e=new BoredPanda.Poll);var i={...BoredPanda.OpenList.appendForm,...e};ko.applyBindings(i,t(".left-content-column")[0]),0<Object.keys(e).length&&i.initPoll(),t(".append-open-list.meme-generator").each(function(){BoredPanda.OpenList.appendForm.memeGenerator(t(this))}),BoredPanda.OpenList.appendForm.autoTitle("true"===autoTitles)}t(".desktop-add-image.add-image-button:not(.text-open-list) a").click(function(e){return e.preventDefault(),t("#add-post-modal").modal(),!1}),t(".desktop-add-image.add-image-button.text-open-list a").click(function(e){return e.preventDefault(),t(".text-open-list-append-form").show(),t(this).css("background","#cfcfcf"),!1}),t("#add-post-modal .add-post-dialog").click(function(e){e.target===this&&t("#add-post-modal").modal("hide")}),"1"==BoredPanda.Utils.getParameterByName("offline_voting")&&t("a").click(function(e){return!(!this.classList.contains("btn-up")&&!this.classList.contains("btn-down"))||confirm("Are you sure?")})})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Author=function(){var t=this;t.activeTab=ko.observable("posts"),t.feeds={posts:ko.observableArray(),submissions:ko.observableArray(),upvotes:ko.observableArray()},t.feedFinished={posts:ko.observable(!1),submissions:ko.observable(!1),upvotes:ko.observable(!1)},t.activateTab=function(e){t.activeTab(e),BoredPanda.Tracking.trackEvent("My Pandas","Tabs",e),$(".author-tabs .posts").each(function(){$(this).infinitescroll("pause")}),e="posts"===e?"blog":e,$(".author-tabs .posts."+e).infinitescroll("resume")},t.banUser=function(e,t){if(confirm("Do you really want to ban this user?")){var i=$(t.target).data("user-id");if(i){var o,n,a={action:"admin_ban_user",user_id:i},i=document.querySelector("#ban-user-form");for([o,n]of new FormData(i).entries())a[o]=n;$.ajax({type:"POST",url:ajax_object.ajax_url,data:a,dataType:"json"}).done(function(e){e.success?(alert("Success"),$(t.target).hide()):alert("Failed")})}}},t.openCommentSuspensions=function(){$("#author-comment-suspensions-modal").modal("show")},t.openBanUser=function(){$("#author-ban-user-modal").modal("show")},t.removeSuspension=async function(e,t){!confirm("Do you really want to clear suspension for this user?")||(t=$(t.target).data("user-id"))&&((await $.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"admin_remove_suspension",user_id:t},dataType:"json"}).done()).success?window.location.reload():alert("Failed"))},t.pagination=function(){var e,t=[".overview",".blog",".submissions",".comments",".upvotes"];for(e in t){var i=$(".author-tabs .posts"+t[e]);0<i.length&&i.infinitescroll({navSelector:t[e]+" .pagination",nextSelector:t[e]+" .pagination a:first",itemSelector:".posts-block"+t[e],loading:{finishedMsg:"",msgText:"",img:BoredPanda.Config.assetsBaseUrl+"/wp-content/themes/boredpanda/images/add-post-loading.gif"}})}var o=$(".author-tabs .posts.drafts");0<o.length&&o.infinitescroll({navSelector:".drafts .pagination",nextSelector:".drafts .pagination a:first",itemSelector:".post",loading:{finishedMsg:"",msgText:"",img:BoredPanda.Config.assetsBaseUrl+"/wp-content/themes/boredpanda/images/add-post-loading.gif"}})},t.showAllItems=function(){$(document).on("click",".show-additional-items",function(){$(this).parent().find(".first-items").hide(),$(this).parent().find(".additional-items").show(),$(this).hide()})},t.init=function(){t.pagination(),t.showAllItems(),"#upvotes"===window.location.hash?t.activateTab("upvotes"):"#bonuses"===window.location.hash?t.activateTab("bonuses"):"#drafts"===window.location.hash?t.activateTab("drafts"):"#follows"===window.location.hash?t.activateTab("follows"):"#posts"===window.location.hash||0<parseInt($("#author-posts-count").val())?t.activateTab("posts"):t.activateTab("overview")}},$(document).ready(function(i){var e=new BoredPanda.Author,o=(0<i("body.author .author-tabs, body.author .author-stats, body.author .ban-user, body.author #author-comment-suspensions-modal").length&&(i("body.author .author-tabs, body.author .author-stats, body.author .ban-user, body.author #author-comment-suspensions-modal").each(function(){ko.applyBindings(e,this)}),e.init()),i("#banUserTooltip").hover(function(){i("#banUserTooltipText").css("visibility","visible")},function(){i("#banUserTooltipText").css("visibility","hidden")}),!1);function n(e){return parseInt(i(e).data("page"))+1<parseInt(i(e).data("max-pages"))}i(document).on("click",".staff-author-recent-articles-load-more a",function(e){var t;e.preventDefault(),o||(o=!0,t=parseInt(i(this).data("page"))+1,e={action:"load_more_author_posts",authorId:i(this).data("author-id"),page:t},i.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"html"}).done(function(e){""!==e.trim()?(i(".staff-author-recent-articles-published-list").append(e),i(".staff-author-recent-articles-load-more a").data("page",t)):i(".staff-author-recent-articles-load-more").hide(),o=!1}).fail(function(e,t,i){console.error("AJAX request failed:",t,i)}),n(i(".staff-author-recent-articles-load-more a"))||i(".staff-author-recent-articles-load-more").hide())}),i(document).on("click",".staff-author-recent-articles-drafts-load-more a",function(e){var t;e.preventDefault(),o||(o=!0,t=parseInt(i(this).data("page"))+1,e={action:"load_more_author_posts_drafts",authorId:i(this).data("author-id"),page:t},i.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"html"}).done(function(e){""!==e.trim()?(i(".staff-author-recent-articles-draft-list").append(e),i(".staff-author-recent-articles-drafts-load-more a").data("page",t)):i(".staff-author-recent-articles-drafts-load-more").hide(),o=!1}).fail(function(e,t,i){console.error("AJAX request failed:",t,i)}),n(i(".staff-author-recent-articles-drafts-load-more a"))||i(".staff-author-recent-articles-drafts-load-more").hide())})}),$(document).ready(function(){function e(e){$(".staff-author-recent-articles-list > div").removeClass("active"),$("."+e).addClass("active"),$(".author-tabs ul li[data-target='"+e+"']").addClass("active")}e("staff-author-recent-articles-published-list"),$(".author-tabs ul li").click(function(){$(".author-tabs ul li").removeClass("active"),$(this).addClass("active"),e($(this).find("a").data("target"))})})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Settings=BoredPanda.Settings||{},BoredPanda.Settings.Profile=function(){var e,t=this,i=BoredPanda.Settings.ui.parseJSON(userData);function o(e){return e.map(function(e){return e.trim()})}ko.bindingHandlers.valueWithNewlines={update:function(e,t){t=ko.utils.unwrapObservable(t()).join("\n");e.value=t}},t.settingsBio=ko.observable(i.settingsBio),t.settingsShortBio=ko.observable(i.settingsShortBio),t.settingsQualification=ko.observable(i.settingsQualification),t.settingsDisplay=ko.observable(i.settingsDisplay),t.settingsWebsite=ko.observable(i.settingsWebsite),t.settingsFacebook=ko.observable(i.settingsFacebook),t.settingsLinkedin=ko.observable(i.settingsLinkedin),t.settingsTwitter=ko.observable(i.settingsTwitter),t.settingsInstagram=ko.observable(i.settingsInstagram),t.settingsFlickr=ko.observable(i.settingsFlickr),t.settingsSlack=ko.observable(i.settingsSlack),t.settingsAdminBox=ko.observable(i.settingsAdminBox),t.settingsImageEditor=ko.observable(i.settingsImageEditor),t.settingsInterests=ko.observableArray(i.settingsInterests),t.settingsEducations=ko.observableArray(i.settingsEducations),t.settingsImageCreditor=ko.observable(i.settingsImageCreditor),t.message=ko.observable(""),t.button=ko.observable(BoredPanda.Translate.Settings.no_changes),t.removeAccountButton=ko.observable(BoredPanda.Translate.Settings.remove_my_account),t.showErrors=ko.observable(!1),t.isDirty=ko.observable(!1),"string"==typeof i.settingsInterests&&""!==i.settingsInterests.trim()&&(e=i.settingsInterests.split(/\r?\n/),t.settingsInterests(o(e))),"string"==typeof i.settingsEducations&&""!==i.settingsEducations.trim()&&(e=i.settingsEducations.split(/\r?\n/),t.settingsEducations(o(e))),t.saveSettings=function(){var e;t.isDirty()&&(t.showErrors(!1),0===t.settingsDisplay().length?(t.showErrors(!0),$("html, body").animate({scrollTop:0},"slow")):(t.button(BoredPanda.Translate.Settings.saving),e={action:"save_settings_form",settingsDisplay:t.settingsDisplay(),settingsWebsite:t.settingsWebsite(),settingsFacebook:t.settingsFacebook(),settingsInstagram:t.settingsInstagram(),settingsLinkedin:t.settingsLinkedin(),settingsTwitter:t.settingsTwitter(),settingsFlickr:t.settingsFlickr(),settingsSlack:t.settingsSlack(),settingsBio:t.settingsBio(),settingsShortBio:t.settingsShortBio(),settingsQualification:t.settingsQualification(),settingsInterests:t.settingsInterests(),settingsEducations:t.settingsEducations(),settingsAdminBox:t.settingsAdminBox(),settingsImageEditor:t.settingsImageEditor(),settingsImageCreditor:t.settingsImageCreditor(),nonce:$("#user_nonce").val()},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){e.success?t.message(BoredPanda.Translate.Settings.changes_saved):t.message(BoredPanda.Translate.Settings.unknown_error),t.button(BoredPanda.Translate.Settings.save_changes),$("html, body").animate({scrollTop:0},"slow"),setTimeout(function(){t.message("")},5e3)})))},t.removeAccountModal=function(){$("#delete-modal").modal()},t.removeAccount=function(){var e=jQuery("#user_nonce").val();$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"delete_account",nonce:e},dataType:"json"}).done(function(){window.location=BoredPanda.Config.homeUrl})}},BoredPanda.Settings.Privacy=function(){var t=this,e=BoredPanda.Settings.ui.parseJSON(userData);t.allowContactMe=ko.observable("true"==e.allowContactMe),t.allowBPStaffContactMe=ko.observable("false"!==e.allowBPStaffContactMe),t.ninjaPanda=ko.observable("true"==e.ninjaPanda||!0===e.ninjaPanda),t.message=ko.observable(""),t.button=ko.observable(BoredPanda.Translate.Settings.no_changes),t.isDirty=ko.observable(!1),t.showErrors=ko.observable(!1),t.saveSettings=function(){var e;t.isDirty()&&(t.showErrors(!1),t.button(BoredPanda.Translate.Settings.saving),e={action:"save_privacy_settings_form",allowContactMe:t.allowContactMe(),allowBPStaffContactMe:t.allowBPStaffContactMe(),ninjaPanda:t.ninjaPanda(),nonce:$("#user_nonce").val()},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){t.button(BoredPanda.Translate.Settings.save_changes),e.success?t.message(BoredPanda.Translate.Settings.changes_saved):t.message(BoredPanda.Translate.Settings.unknown_error),setTimeout(function(){t.message("")},5e3)}))}},BoredPanda.Settings.Password=function(){var t=this;t.currentPassword=ko.observable(""),t.newPassword=ko.observable(""),t.repeatNewPassword=ko.observable(""),t.resetEmail=ko.observable(""),t.resetHash=ko.observable(""),t.message=ko.observable(""),t.button=ko.observable(BoredPanda.Translate.Settings.no_changes),t.showErrors=ko.observable(!1),t.passwordChanged=ko.observable(!1),t.isDirty=ko.observable(!1),t.savePassword=function(){var e;t.isDirty()&&(t.showErrors(!1),t.message(""),0===t.currentPassword().length&&t.showErrors(!0),0===t.newPassword().length&&t.showErrors(!0),0!==t.repeatNewPassword().length&&t.newPassword()===t.repeatNewPassword()||t.showErrors(!0),BoredPanda.Utils.isPasswordSecure(t.newPassword())||(t.message(BoredPanda.Translate.Settings.password_strength_error),t.showErrors(!0)),!0!==t.showErrors()&&(t.button(BoredPanda.Translate.Settings.saving),e={action:"save_change_password_form",currentPassword:t.currentPassword(),newPassword:t.newPassword(),repeatNewPassword:t.repeatNewPassword(),nonce:$("#user_nonce").val()},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){switch(t.button(BoredPanda.Translate.Settings.save),e.success){case"1":t.message(BoredPanda.Translate.Settings.changes_saved);break;case"-1":t.message(BoredPanda.Translate.Settings.passwords_not_match);break;case"-2":t.message(BoredPanda.Translate.Settings.invalid_password);break;case"-3":t.message(BoredPanda.Translate.Settings.password_strength_error);break;default:t.message(BoredPanda.Translate.Settings.unknown_error)}setTimeout(function(){t.message("")},5e3)})))},t.resetPassword=function(){var e;t.showErrors(!1),t.message(""),0===t.newPassword().length&&t.showErrors(!0),0!==t.repeatNewPassword().length&&t.newPassword()===t.repeatNewPassword()||t.showErrors(!0),BoredPanda.Utils.isPasswordSecure(t.newPassword())||(t.message(BoredPanda.Translate.Settings.password_strength_error),t.showErrors(!0)),!0!==t.showErrors()&&(t.button(BoredPanda.Translate.Settings.saving),e={action:"save_reset_password_form",email:t.resetEmail(),hash:t.resetHash(),newPassword:t.newPassword(),repeatNewPassword:t.repeatNewPassword(),nonce:$("#user_nonce").val()},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){switch(t.button("Save"),e.success){case"1":t.message(BoredPanda.Translate.Settings.password_changed),t.passwordChanged(!0);break;case"-1":t.message(BoredPanda.Translate.Settings.passwords_not_match);break;default:t.message(BoredPanda.Translate.Settings.unknown_error)}setTimeout(function(){t.message("")},5e3)}))}},BoredPanda.Settings.Email=function(){var t=this;t.newEmail=ko.observable(""),t.repeatNewEmail=ko.observable(""),t.message=ko.observable(""),t.button=ko.observable(BoredPanda.Translate.Settings.no_changes),t.showErrors=ko.observable(!1),t.emailChanged=ko.observable(!1),t.isDirty=ko.observable(!1),t.saveEmail=function(){var e;t.isDirty()&&(t.showErrors(!1),t.message(""),0===t.newEmail().length&&t.showErrors(!0),0!==t.repeatNewEmail().length&&t.newEmail()===t.repeatNewEmail()||t.showErrors(!0),!0!==t.showErrors()&&(t.button(BoredPanda.Translate.Settings.saving),e={action:"save_new_email",newEmail:t.newEmail(),repeatNewEmail:t.repeatNewEmail(),nonce:$("#user_nonce").val()},$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){switch(t.button(BoredPanda.Translate.Settings.save),e.success){case"1":t.message(BoredPanda.Translate.Settings.email_confirmation);break;case"-1":t.message(BoredPanda.Translate.Settings.emails_not_match);break;case"-2":t.message(BoredPanda.Translate.Settings.email_exists);break;default:t.message(BoredPanda.Translate.Settings.unknown_error)}})))}},BoredPanda.Settings.EmailSignature=function(){this.message=ko.observable(""),this.isDirty=ko.observable(!1),this.copySignature=function(){$("#signature-block-id").css("background","white");var e,t,i=document.querySelector("#signature");document.body.createTextRange?((e=document.body.createTextRange()).moveToElement(i),e.select()):window.getSelection&&(t=window.getSelection(),(e=document.createRange()).selectNodeContents(i),t.removeAllRanges(),t.addRange(e)),document.execCommand("copy"),window.getSelection().removeAllRanges(),document.getElementById("copy-signature-btn").text="Copied to clipboard!",$("#signature-block-id").css("background","#fafafa;")}},BoredPanda.Settings.ui={init:function(){0<$("#profile-settings").length&&(this.profileImage(),BoredPanda.Settings.profileModel=new BoredPanda.Settings.Profile,this.initialiseViewModel(BoredPanda.Settings.profileModel),ko.applyBindings(BoredPanda.Settings.profileModel,$("#profile-settings")[0])),0<$("#privacy-settings").length&&(BoredPanda.Settings.privacyModel=new BoredPanda.Settings.Privacy,this.initialiseViewModel(BoredPanda.Settings.privacyModel),ko.applyBindings(BoredPanda.Settings.privacyModel,$("#privacy-settings")[0])),0<$("#password-settings").length&&(BoredPanda.Settings.passwordModel=new BoredPanda.Settings.Password,this.initialiseViewModel(BoredPanda.Settings.passwordModel),ko.applyBindings(BoredPanda.Settings.passwordModel,$("#password-settings")[0])),0<$("#email-settings").length&&(BoredPanda.Settings.email=new BoredPanda.Settings.Email,this.initialiseViewModel(BoredPanda.Settings.email),ko.applyBindings(BoredPanda.Settings.email,$("#email-settings")[0])),0<$("#email-signature").length&&(BoredPanda.Settings.emailSignatureModel=new BoredPanda.Settings.EmailSignature,this.initialiseViewModel(BoredPanda.Settings.emailSignatureModel),ko.applyBindings(BoredPanda.Settings.emailSignatureModel,$("#email-signature")[0]))},profileImage:function(){var e=new plupload.Uploader({runtimes:"html5,html4",multi_selection:!1,browse_button:"edit-profile-img-btn",url:ajax_object.ajax_url,max_file_size:"4mb",multipart_params:{action:"upload_profile_picture"},unique_names:!1,init:{FilesAdded:function(e){e.start()}},filters:[{title:"Image files",extensions:"jpg,jpeg,png"}]});e.init(),e.bind("FileUploaded",function(e,t,i){i=$.parseJSON(i.response);$(".profile-image").attr("src",i.image_url),BoredPanda.Settings.profileModel.isDirty(!0)})},initialiseViewModel:function(t){for(var e in t)t.hasOwnProperty(e)&&t[e].subscribe&&t[e].subscribe(function(e){t.isDirty(!0),t.button(BoredPanda.Translate.Settings.save_changes)});t.isDirty(!1)},parseJSON:function(e){return e=(e=e.replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f")).replace(/[\u0000-\u0019]+/g,""),JSON.parse(e)}},$(document).ready(function(){BoredPanda.Settings.ui.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Recs={init:function(){this.enableDebug=!1,this.options={similar_post_algo:"simple_post_similarity",similar_post_var:"default"},this.baseUrl=BoredPanda.Config.recommendationServiceUrl,this.postsLoadedInSession=[],this.recommendedPosts=[],this.useRecFromOtherReq=!0,this.renderedPostRecs=[],this.shortlist=[];var e=BoredPanda.Config.experimentVariation||0,e="#variation3"===window.location.hash?3:e;return e="#variation2"===window.location.hash?2:e,e="#variation1"===window.location.hash?1:e,e="#variation0"===window.location.hash?0:e,this.variation=e,this.debug("Initialized"),!0},debug:function(e){this.enableDebug&&console.log(e)},initStickyBar:function(){void 0!==BoredPanda.Config.experimentVariation?0<BoredPanda.Config.experimentVariation&&(3===BoredPanda.Config.experimentVariation&&BoredPanda.Recs.setNextInPost(),$(".sticky-bar.variation_"+BoredPanda.Config.experimentVariation).show(),BoredPanda.Tracking.trackStickyBars()):setTimeout(BoredPanda.Recs.initStickyBar,100)},setNextInPost:function(){var e=JSON.parse(sessionStorage.getItem("seen_posts"))||[],e=(-1===e.indexOf(BoredPanda.Config.postId)&&e.push(BoredPanda.Config.postId),sessionStorage.setItem("seen_posts",JSON.stringify(e)),{action:"get_next_in_post",seen_posts:JSON.stringify(e),post_id:BoredPanda.Config.postId});$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){!0===e.success&&(e.data.post?($("#next-in-topic").attr("href",BoredPanda.Config.homeUrl+"/"+e.data.post.permalink),$("#next-in-topic").attr("data-changed","true")):($("#next-in-topic").attr("data-changed","false"),sessionStorage.setItem("seen_posts",JSON.stringify([BoredPanda.Config.postId]))))})},addLoadedPost:function(e){e=this.normalizeSlug(e),this.postsLoadedInSession.push(e)},removeLoadedPost:function(e){e=this.normalizeSlug(e);var t,i=this.getCurrentPostName(),o=!1;for(t in this.postsLoadedInSession)this.postsLoadedInSession[t]===i&&(this.postsLoadedInSession.splice(t,1),o=!0);o&&(void 0===this.recommendedPosts[e]&&(this.recommendedPosts[e]=[]),this.recommendedPosts[e].unshift({post:i}))},hasBeenLoaded:function(e){return e=this.normalizeSlug(e),-1<this.postsLoadedInSession.indexOf(e)},recommendSimilarToCurrent:function(t){var i,e=this.getCurrentPostName();this.debug("Getting recs for "+e),this.debug("Recs history: "+this.postsLoadedInSession),this.debug("Recs queue: "),this.debug(this.recommendedPosts),void 0!==this.recommendedPosts[e]&&0<this.recommendedPosts[e].length?this.recommend(t,[]):(e=this.baseUrl+"/post/similar/"+this.options.similar_post_algo+"/"+this.options.similar_post_var+"/u/"+e+"/10",this.debug("Getting recs from "+e),i=this,$.getJSON(e,function(e){i.debug("Response data: "),i.debug(e),i.recommend(t,e)}))},getCurrentPostName:function(){var e=window.location.pathname;return this.normalizeSlug(e)},recommend:function(e,t){for(var i,o,t=t.recommendations||[],n=this.getCurrentPostName(),a=(void 0===this.recommendedPosts[n]&&0<t.length&&(this.recommendedPosts[n]=t),this.recommendedPosts[n].length),s=0;s<a;s++)if(o="/"+(i=this.recommendedPosts[n].shift()).post+"/",!this.hasBeenLoaded(i.post)&&window.location.pathname!==o)return void e(i.post);if(this.useRecFromOtherReq)for(var r in this.recommendedPosts)for(var a=this.recommendedPosts[r].length,l=0;l<a;l++)if(o="/"+(i=this.recommendedPosts[r].shift()).post+"/",!this.hasBeenLoaded(i.post)&&window.location.pathname!==o)return void e(i.post)},normalizeSlug:function(e){return e="/"===(e="/"===e.slice(-1)?e.slice(0,-1):e).slice(0,1)?e.slice(1):e},getRecommendationsBasedOnHistory:function(t){var e,i,o,n;return void 0===BoredPanda.Analytics||(n=BoredPanda.Analytics.getUniquePostIds(),e=BoredPanda.Analytics.getSeenRecommendations(),i=BoredPanda.Analytics.getUserId(),n.length<10)?null:(t=$.extend({},{popularRecs:3,personalRecs:3,format:"mid_column"},t),o=this.getCurrentPostName(),n={action:"get_personal_recommendations",personal_recs:t.personalRecs,popular_recs:t.popularRecs,browsing_history:JSON.stringify(n),exclude:JSON.stringify(e),post_name:o,uid:i},void $.ajax({type:"POST",url:ajax_object.ajax_url,data:n,dataType:"json",success:function(e){e.success&&e.data&&BoredPanda.Recs.renderPersonalAndPopularRecommendations(e.data.popular,e.data.personal,t.format)}}))},renderPersonalAndPopularRecommendations:function(e,t,i){null==e&&(e=[]),null==t&&(t=[]);var o=null,n=[],a=null,s=null;if(void 0!==i&&"rows"===i&&3<=e.length&&3<=t.length)for(var r,l=0;l<6;l++)l<3?((r=t[l]).recommendation_type="personal",o=".post-bottom-list.recommended-posts article:eq("+l+")",BoredPanda.Recs.renderSingleRecommendation(o,r)):((r=e[l-3]).recommendation_type="popular",o=".post-bottom-list.recommended-posts article:eq("+l+")",BoredPanda.Recs.renderSingleRecommendation(o,r));if("all_popular"===i&&4<=e.length)for(var d in n=[0,1,3,4])o=".post-bottom-list.recommended-posts article:eq("+(a=n[d])+")",(s=e[d]).recommendation_type="popular",BoredPanda.Recs.renderSingleRecommendation(o,s);if("unseen_popular"===i)for(var c in a=0,e)o=".post-bottom-list article.popular-post-rec:visible:eq("+c+")",c>=e.length-24&&(o=".post-complete-bottom-recommendations article:eq("+a+")",a++),s=e[c],BoredPanda.Recs.renderSingleRecommendation(o,s);if("unseen_trending"===i)for(var c in e)o=".post-bottom-list article.trending-post-rec:visible:eq("+c+")",s=e[c],BoredPanda.Recs.renderSingleRecommendation(o,s);if((void 0===i||"mid_column"===i)&&2<=e.length&&2<=t.length)for(var u in n=[0,1,3,4]){switch(o=".post-bottom-list.recommended-posts article:eq("+(a=n[u])+")",s=null,a){case 0:(s=t[0]).recommendation_type="personal";break;case 1:(s=e[0]).recommendation_type="popular";break;case 3:(s=t[1]).recommendation_type="personal";break;case 4:(s=e[1]).recommendation_type="popular"}BoredPanda.Recs.renderSingleRecommendation(o,s)}var h,p=e.concat(t),m=[];for(h in p)s=p[h],m.push(parseInt(s.post_id));BoredPanda.Analytics.setRecommendationsAsSeen(m)},renderSingleRecommendation:function(e,t,i){if($(e+" a").attr("href",BoredPanda.Config.homeUrl+"/"+t.permalink+"/"),$(e+" a").attr("title",t.post_title),$(e+" img").attr("alt",t.post_title).attr("title",t.post_title),$(e+" img").attr("data-changed",!0),$(e+" a.box-title").html(t.post_title+" ").append(t.interview),$(e+" img").attr("src",t.thumb),$(e+" img").attr("data-src",t.thumb),$(e+" img.portrait").attr("src",t.square_thumb),$(e+" img.portrait").attr("data-src",t.square_thumb),$(e).attr("data-track-impression","true"),$(e).attr("data-post-date",t.post_date),$(e).attr("data-post-id",t.post_id),$(e).attr("data-post-rendered",!0),i){var o,n=t.description,a="";for(o in n){if(120<o&&(" "==n[o]||"."==n[o])){a+="...";break}a+=n[o]}$(e+" .description-box").html("<p>"+a+"</p>"),$(e+" .post-stats .shares-count").text(this.formatThousands(t.shares_count)),$(e+" .post-stats .comment-count").text(this.formatThousands(t.comment_count)),$(e+" .post-stats .post-score").text(this.formatThousands(t.post_score)),$(e+" .title-block span").html(t.post_title)}void 0!==t.recommendation_type&&$(e).attr("data-rec-type",t.recommendation_type)},formatThousands:function(e){return 1e3<e?Math.floor(e/1e3)+"K":e},renderSidebarRecommendation:function(e,t){$(e+" a.img-link").attr("href",BoredPanda.Config.homeUrl+"/"+t.permalink+"/"),$(e+" .img-link img").attr("alt",t.post_title).attr("title",t.post_title).attr("src",t.thumb),$(e+" .rec-title a").attr("href",BoredPanda.Config.homeUrl+"/"+t.permalink+"/").text(t.post_title+" ").append(t.interview),$(e+" .views-count a").attr("href",BoredPanda.Config.homeUrl+"/"+t.permalink+"/").html(t.comment_count+'<span class="comments-count-text">comments</span>'),$(e+" .points-count").text(t.post_score+" points"),$(e).attr("data-track-impression","true"),$(e).attr("data-type","trending"),$(e).attr("data-post-date",t.post_date),$(e).attr("data-post-id",t.post_id),$(e).attr("data-post-rendered",!0)},renderSeeAlsoRecommendation:function(e,t){$(e+" a.image-link").attr("href",BoredPanda.Config.homeUrl+"/"+t.permalink+"/").attr("title",t.post_title),$(e+" img").attr("src",t.thumb),$(e+" img").attr("data-src",t.thumb),$(e+" img.portrait").attr("src",t.square_thumb),$(e+" img.portrait").attr("data-src",t.square_thumb),$(e+" .title-link a").attr("href",BoredPanda.Config.homeUrl+"/"+t.permalink+"/").text(t.post_title+" ").append(t.interview),$(e+" .points-count").text(t.post_score+" points"),$(e).attr("data-type","popular"),$(e).attr("data-post-id",t.post_id),$(e).attr("data-post-rendered",!0)},getUnseenTrendingPosts:function(e){var t=this.getCurrentPostName(),i=$(".post-bottom-list article.trending-post-rec:visible").length;0!=i&&(t={action:"get_recommendations",post_id:BoredPanda.Config.postId,post_name:t,trending_posts:"true",post_count:i,seen_post_ids:e},$.ajax({type:"POST",url:ajax_object.ajax_url,data:t,dataType:"json",success:function(e){e.success&&e.data&&e.data.length>=i&&BoredPanda.Recs.renderPersonalAndPopularRecommendations(e.data,void 0,"unseen_trending")}}))},getUnseenRecommendations:function(e){if(void 0===BoredPanda.Analytics)return null;var t=$(".post-bottom-list .popular-post-rec:visible").length;if(t<1)return null;var i=BoredPanda.Analytics.getUniquePostIds("pageviews");if(i.length<1)return null;t+=24,this.getUnseenTrendingPosts(i);var o=this.getCurrentPostName(),o={action:"get_recommendations",post_id:BoredPanda.Config.postId,post_name:o,method:"original",post_count:t,seen_post_ids:i,variation:e};$.ajax({type:"POST",url:ajax_object.ajax_url,data:o,dataType:"json",success:function(e){e.success&&e.data&&e.data.length>=t&&BoredPanda.Recs.renderPersonalAndPopularRecommendations(e.data,void 0,"unseen_popular")}})},getUnseenPopularRecommendations:function(){var s=this;if(void 0===BoredPanda.Analytics)return null;var r=$(".popular-post-recommendations .post-bottom-list article:visible"),l=(r.each(function(){$(this).attr("data-type","popular")}),r.length);if(l<1)return null;var e=BoredPanda.Analytics.getUniquePostIds("pageviews");if(e.length<1)return null;600<e.length&&(e=e.slice(-800));var t=this.getCurrentPostName(),t={action:"get_recommendations",post_id:BoredPanda.Config.postId,post_name:t,method:"original",post_count:l,variation:this.variation,methodName:"popular",seen_post_ids:e};$.ajax({type:"POST",url:ajax_object.ajax_url,data:t,dataType:"json",success:function(e){if(e.success&&e.data&&!(e.data.length<l)){var t,i=s.sortRecommendations(e.data,"popular"),o=0;for(t in i){var n=i[t],a=r.selector+":eq("+o+")";BoredPanda.Recs.renderedPostRecs.push(n.post_id),BoredPanda.Recs.renderSingleRecommendation(a,n),o++}BoredPanda.Recs.getPostBottomRecommendations("popular")}}})},getSidebarUnseenTrendingPosts:function(){var s=this,e=this.getCurrentPostName(),r=$(".trending-posts-feed .trending-post:visible"),l=r.length;if(0==l)BoredPanda.Recs.getPostBottomRecommendations("trending");else{var t=BoredPanda.Analytics.getUniquePostIds("pageviews");if(t.length<1)return null;600<t.length&&(t=t.slice(-800));e={action:"get_recommendations",post_id:BoredPanda.Config.postId,post_name:e,trending_posts:"true",post_count:l,variation:this.variation,methodName:"sidebar",seen_post_ids:t};$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json",success:function(e){if(e.success&&e.data&&!(e.data.length<l)){var t,i=s.sortRecommendations(e.data,"trending"),o=0;for(t in i){var n=i[t],a=r.selector+":eq("+o+")";"trending-seo-article"==$(a).attr("id")&&(o++,a=r.selector+":eq("+o+")"),o++,BoredPanda.Recs.renderedPostRecs.push(n.post_id),s.renderSidebarRecommendation(a,n)}$(".trending-posts-feed .title").hide(),BoredPanda.Recs.getPostBottomRecommendations("trending")}}})}},filterRecommendations:function(){var e,t=this.shortlist,i=BoredPanda.Analytics.getUniquePostIds("pageviews"),o=[];for(e in t)-1===i.indexOf(t[e].post_id)&&o.push(t[e].post_id);this.shortlist=o},getPostBottomRecommendations:function(s){var e,r,l,t,d=this;return void 0===BoredPanda.Analytics||(e=(e=600<(e=BoredPanda.Analytics.getUniquePostIds("pageviews")).length?e.slice(-800):e).concat(BoredPanda.Recs.renderedPostRecs),r=$(".post-bottom-recommendation-block .bottom-popular-posts article:visible"),(r="trending"==s?$(".post-bottom-recommendation-block .trending-posts article:visible"):r).each(function(){$(this).attr("data-type",s||"popular")}),(l=r.length)<1)?null:(t=this.getCurrentPostName(),t={action:"get_recommendations",post_id:BoredPanda.Config.postId,post_name:t,method:"original",post_count:l,variation:this.variation,seen_post_ids:e},"trending"==s&&(t.trending_posts="true"),void $.ajax({type:"POST",url:ajax_object.ajax_url,data:t,dataType:"json",success:function(e){if(e.success&&e.data&&!(e.data.length<l)){var t,i=0,o=d.sortRecommendations(e.data,s);for(t in o){var n=o[t],a=(BoredPanda.Recs.renderedPostRecs.push(n.post_id),r.selector+":eq("+i+")");i++,BoredPanda.Recs.renderSingleRecommendation(a,n)}}}}))},getRecShortlist:function(){var t=this,e=new Date;e.setMonth(e.getMonth()-3),$.ajax({type:"POST",url:ajax_object.ajax_url,data:{post_date:e.toISOString().slice(0,10),action:"get_recommendations_shortlist"},success:function(e){e.success&&e.data&&(e=Object.values(e.data),t.shortlist=e.sort(t.sortShortlist),t.prioritizeSort(),t.filterRecommendations()),t.getUnseenPopularRecommendations(),t.getSidebarUnseenTrendingPosts()}})},sortShortlist:function(e,t){return e.ctr>t.ctr?-1:e.ctr<t.ctr?1:0},prioritizeSort:function(){var e,t=[];for(e in this.shortlist)this.shortlist[e].impressions<2500?t.unshift(this.shortlist[e]):t.push(this.shortlist[e]);this.shortlist=t},sortRecommendations:function(e,t){var i=[];if(void 0!==this.shortlist)for(var o in this.shortlist){var n,a=this.shortlist[o];for(n in e)if(a==e[n].post_id){i.push(e[n]),delete e[n];break}}return e.concat(i)},getUnseenMobileSeeAlsoRecommendations:function(){var s,e,t,i;return void 0===BoredPanda.Analytics||(e=(s=$(".see-also-recommendations .new-variation-1 article:visible")).length)<1||(t=BoredPanda.Analytics.getUniquePostIds("pageviews")).length<1?null:(i=this.getCurrentPostName(),i={action:"get_recommendations",post_id:BoredPanda.Config.postId,post_name:i,method:"original",post_count:e,seen_post_ids:t,variation:1,methodName:"popular"},void $.ajax({type:"POST",url:ajax_object.ajax_url,data:i,dataType:"json",success:function(e){if(e.success){var t,i=e.data,o=0;for(t in i){var n=i[t],a=s.selector+":eq("+o+")";BoredPanda.Recs.renderSeeAlsoRecommendation(a,n),o++}}}}))}},$(document).ready(function(){0<BoredPanda.Config.postId&&BoredPanda.Recs.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Experiments={recommendations:function(){var e,o=this;!BoredPanda.Config.isMobileWidth&&BoredPanda.Config.postId&&BoredPanda.Config.recommendationExperimentsInit&&(e={action:"pick_recommendation_experiment",post_id:BoredPanda.Config.postId},BoredPanda.Utils.wpAjax(e).done(function(e){var t,i;!0===e.success&&(t=$('.post-recommendations .recommended-posts article.popular-post-rec[data-post-id="'+e.data.post_id+'"]'),i=$(".post-recommendations .recommended-posts article.popular-post-rec"),o.debug("Recommendation found"),o.debug("Popular recs: "+i.length),0<t.length?(t.hide(),o.debug("Existing recommendation hidden")):1<i.length&&($(i[1]).hide(),o.debug("Second rec found")),$(e.data.html).insertAfter(i[0]),o.debug("Experiment rec inserted"),BoredPanda.ContentTracking.recommendationExperimentInit())}))}},$(document).ready(function(){BoredPanda.Experiments.recommendations()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{};var e=BoredPanda.ContactAuthor=function(){function t(e){var t='<a href="/contact-us/">contact us</a>',i=e.data.status;o.model.errorMessage({1:"Whoops! Our automated checker thinks your message is spam. If not "+t,2:"It seems that this panda does not want to be contacted. Sorry!",3:"It looks that you've reached your daily message limit. If you want to send more "+t,4:"We have already delivered a message from you to this author today. You can send another in 24 hours or "+t,5:"Whoops! Something went wrong on our end. Try again or "+t+" for help",6:"Whoops! Something went wrong on our end. Try again or "+t+" for help"}[i]),console.log("Contact Author error: "+e.data.message)}var o=this,i=$(".contact-author-form").children(".modal"),n=function(){var e=o.$button;o.model.authorName(e.data("author-name")),o.model.authorSlug(e.data("author-slug")),o.model.senderName(e.data("sender-name")),o.model.senderEmail(e.data("sender-email")),o.model.title("Send Email to "+o.model.authorName()),o.model.text("Dear "+o.model.authorName()+",\n\n\n\nBest wishes,\n"+o.model.senderName())};o.openForm=function(e,t){if(BoredPanda.Config.isLoggedIn)return o.$button=o.$button||$(t.currentTarget),i.modal("show"),o.model.formLoaded?void 0:(o.model.loading(!0),n(),BoredPanda.Utils.wpAjax({action:"load_contact_author_form"},"html").then(function(e){i.modal("hide"),i.html(e),$(".contact-author-form").each(function(){ko.cleanNode(this),ko.applyBindings(BoredPanda.contactAuthor.model,this)}),i.modal("show"),o.model.formLoaded=!0,o.model.loading(!1)}));BoredPanda.Login.form.show()},o.openMainForm=function(e,t){var i,o,n=t.currentTarget.getAttribute("data-secret-head")+"@"+t.currentTarget.getAttribute("data-secret-tail"),a=$("#authorEmailLink").attr("data-author-slug"),s=t.currentTarget.getAttribute("data-display-name"),r=t.currentTarget.getAttribute("data-nicename"),l=t.currentTarget.getAttribute("data-facebook-url"),d=t.currentTarget.getAttribute("data-twitter-url"),c=t.currentTarget.getAttribute("data-website-url"),u=t.currentTarget.getAttribute("data-user-display-name"),t=t.currentTarget.getAttribute("data-user-email");$("#main-author-contact").modal("show"),s&&0<s.length&&(i=document.createElement("div"),o=document.querySelector(".contact-author-form .body-content.author-list"),i.className="author-contact",i.innerHTML=`
      <label>
          Contact ${s} directly:
      </label>
      <label>
          Email:
          <a id="authorEmailLink" class="link" href="javascript:void(0);"
              data-bind="click: openEmailForm" data-action="direct-email"
              data-author-name="${s}"
              data-author-slug="${r}" data-sender-name="${u}" data-sender-email="${t}">${n}
          </a>
      </label>
      ${l?`<label>Facebook: <a class="link" data-action="direct-facebook" href="${l}">${l}</a></label>`:""}
      ${d?`<label>Twitter: <a class="link" data-action="direct-twitter" href="${d}">${d}</a></label>`:""}
      ${c?`<label>Website: <a class="link" data-action="direct-web" href="${c}">${c}</a></label>`:""}
  `,o.appendChild(i),$("#main-author-contact").on("hidden.bs.modal",function(e){i.remove()})),$("#authorEmailLink").attr("href","mailto:"+n).text(n),BoredPanda.Tracking.trackEvent("Authors","popup-open",a)},o.initEventTracking=function(){var t=$("#authorEmailLink").attr("data-author-slug");$("#main-author-contact").on("hidden.bs.modal",function(){BoredPanda.Tracking.trackEvent("Authors","popup-close",t)}),$(".author-contact .link, .links a").on("click",function(){var e=$(this).attr("data-action");BoredPanda.Tracking.trackEvent("Authors",e,t)})},o.sendEmail=function(){o.model.loading(!0),BoredPanda.Tracking.trackEvent("Contact Author","Send","click"),BoredPanda.Utils.wpAjax({action:"contact_author",text:o.model.text(),author_slug:o.model.authorSlug(),sender_name:o.model.senderName(),sender_email:o.model.senderEmail()}).then(function(e){e.success?(o.model.success(!0),BoredPanda.Tracking.trackEvent("Contact Author","Send","success")):t(e),o.model.loading(!1)}).fail(function(){t({data:{status:6,message:"Most likely a 503 error."}}),o.model.loading(!1)}).done(function(){})},o.model={loading:ko.observable(!1),formLoaded:!1,openForm:o.openForm,openMainForm:o.openMainForm,sendEmail:o.sendEmail,success:ko.observable(!1),errorMessage:ko.observable(""),title:ko.observable(""),authorName:ko.observable(""),authorSlug:ko.observable(""),senderName:ko.observable(""),senderEmail:ko.observable(""),text:ko.observable("")}},t=BoredPanda.EnableContactAuthor=function(){var e=this.model={allow:ko.observable($(".allow-contact-author input").data("checked")),loading:ko.observable(!1)},t=this.save=function(){e.loading(!0),BoredPanda.Utils.wpAjax({action:"save_notification_settings",settings:{allow_contact_author:e.allow(),nonce:$("#user_nonce").val()}}).done(function(){e.loading(!1)})};e.allow.subscribe(t)};0<$(".allow-contact-author").length&&(BoredPanda.enableContactAuthor=new t,$(".allow-contact-author").each(function(){ko.applyBindings(BoredPanda.enableContactAuthor.model,this)})),0<$(".contact-author").length&&(BoredPanda.contactAuthor=new e,$(".contact-author").each(function(){ko.applyBindings(BoredPanda.contactAuthor.model,this)}),BoredPanda.contactAuthor.initEventTracking())}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{};var e=BoredPanda.AuthorFollowersList=function(){this.openFollowersList=function(){$("#author-followers-list-modal").modal("show"),BoredPanda.Tracking.trackEvent("Authors","followers-popup-open",$("#authorEmailLink").attr("data-author-slug"))},this.model={openFollowersList:this.openFollowersList}},t=$(".author-followers-list-button");0<t.length&&(BoredPanda.authorFollowersList=new e,t.each(function(){ko.applyBindings(BoredPanda.authorFollowersList.model,this)}))}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Slider={bindDrag:function(){$(".cd-boredpanda-image-container").each(function(){var e=$(this);BoredPanda.Slider.drag(e.find(".cd-boredpanda-handle"),e.find(".cd-boredpanda-resize-img"),e)})},drag:function(t,r,l){l.on("mouseover touchstart",function(e){t.hide(),r.addClass("boredpanda-resizable");var i=t.outerWidth(),o=l.offset().left,n=l.outerWidth(),a=o-i/2,s=o+n-i/2;l.on("mousemove mousedown touchmove touchstart",function(e){"mousedown"===e.type&&e.preventDefault();var t=0,e=((t="touchstart"===e.type||"touchmove"===e.type?e.originalEvent.touches[0].pageX-i/2:e.pageX-i/2)<a?t=a:s<t&&(t=s),100*(t+i/2-o)/n+"%");$(".draggable").css("left",e).on("mouseleave",function(){r.removeClass("boredpanda-resizable")}),l.find(".boredpanda-resizable").css("width",e)}).on("mouseleave touchend",function(){r.removeClass("boredpanda-resizable")}),e.stopPropagation()}).on("mouseleave touchend",function(){r.removeClass("boredpanda-resizable")})}},$(document).ready(function(){BoredPanda.Slider.bindDrag()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Flipper={bind:function(){$(".cd-boredpanda-image-container-flip").flip({trigger:"click",front:".boredpanda-image-front",back:".boredpanda-image-back"})}},$(document).ready(function(){BoredPanda.Flipper.bind()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.SuccessStory={iteration:-1,changeDelayMs:3e3,points:{mobile:[{x:183.9,y:360,text:"Featured on",textBold:"Home Page"},{x:613.9,y:320.4,text:"Shared on BP",textBold:"Facebook page"},{x:1096.5,y:267.7,text:"Worldwide",textBold:"sensation"}],desktop:[{x:157,y:368.3,text:"Submitted to",textBold:"Bored Panda"},{x:404.6,y:346.1,text:"Approved by",textBold:"Moderators"},{x:722.6,y:289.8,text:"Featured on",textBold:"Home Page"},{x:914.4,y:198,text:"Shared on BP",textBold:"Facebook page"},{x:1169,y:102.3,text:"Worldwide",textBold:"sensation"}]},init:function(){var t=this,e=document.getElementById("canvas-bottom").getContext("2d");e.scale(2,2),t.drawBottom(e),$(window).resize(function(){t.drawBottom(e)}),this.initRedirects(),this.initTracking(),this.resizeImages(),$(".tell-your-story").click(function(e){return e.preventDefault(),t.tellStory(),!1})},initTracking:function(){this.trackClick(".page-template-success-stories .top-promote a.tell-your-story","Success Story Page","Add Post Top"),this.trackClick(".page-template-success-stories .bottom-promote a.tell-your-story","Success Story Page","Add Post Bottom"),this.trackClick(".page-template-success-stories .story-item .description-block .author a, .page-template-success-stories .story-item .description-block .author-interview-link, .page-template-success-stories .story-item .image-block a","Success Story Page","Author post"),this.trackClick(".page-template-success-stories .story-item .description-block .article-reposts a","Success Story Page","External site")},trackClick:function(e,t,i){$(e).on("click",function(){BoredPanda.Tracking.trackEvent(t,i,"click")})},initRedirects:function(){BoredPanda.Config.isiPad()&&$(".app-store-ipad").attr("href","https://itunes.apple.com/app/apple-store/id1001593357?pt=117833574&ct=Success%20Story&mt=8"),BoredPanda.Config.isiPhone()&&$(".app-store-iphone").attr("href","https://itunes.apple.com/app/apple-store/id1001593357?pt=117833574&ct=Success%20Story&mt=8")},drawMobile:function(e,t){t=t||!1;var i=this,o=$(window).width(),n=1,a=0;o<1256&&(n=o/1256,a=1256-o),e.clearRect(0,0,1260,384),e.save(),e.beginPath(),e.moveTo(1256,384),e.lineTo(a,384),e.lineTo(a+68.2*n,365.7),e.lineTo(a+183.9*n,360),e.lineTo(a+400.2*n,319),e.lineTo(a+496.5*n,323.4),e.lineTo(a+565.5*n,315.7),e.lineTo(a+613.9*n,320.4),e.lineTo(a+766.2*n,268.4),e.lineTo(a+916.5*n,275.4),e.lineTo(a+1021.5*n,264),e.lineTo(a+1096.5*n,267.7),e.lineTo(a+1211.2*n,232),e.lineTo(a+1260*n,225),e.fillStyle="rgb(86, 184, 99)",e.fill(),e.beginPath(),e.moveTo(a,384),e.lineTo(a+68.2*n,365.7),e.lineTo(a+183.9*n,360),e.lineTo(a+400.2*n,319),e.lineTo(a+496.5*n,323.4),e.lineTo(a+565.5*n,315.7),e.lineTo(a+613.9*n,320.4),e.lineTo(a+766.2*n,268.4),e.lineTo(a+916.5*n,275.4),e.lineTo(a+1021.5*n,264),e.lineTo(a+1096.5*n,267.7),e.lineTo(a+1211.2*n,232),e.lineTo(a+1260*n,225),e.lineWidth=4,e.strokeStyle="rgb(253, 206, 49)",e.stroke(),this.drawPoints(e,a,n,!0),e.restore(),t||setTimeout(function(){i.draw(e),i.iteration++},this.changeDelayMs)},drawBottom:function(e){e.clearRect(0,0,840,384),e.save(),e.beginPath(),e.moveTo(840,384),e.lineTo(0,384),e.lineTo(137,354),e.lineTo(206.3,300.7),e.lineTo(265.9,311.6),e.lineTo(357.1,287.8),e.lineTo(404.6,295.1),e.lineTo(465.4,270.7),e.lineTo(511,287.4),e.lineTo(548.3,271.5),e.lineTo(623.7,280.5),e.lineTo(679.5,243),e.lineTo(722.6,249.8),e.lineTo(799.2,181),e.lineTo(840,170),e.fillStyle="rgb(49, 52, 64)",e.fill(),e.beginPath(),e.moveTo(0,384),e.lineTo(137,354),e.lineTo(206.3,300.7),e.lineTo(265.9,311.6),e.lineTo(357.1,287.8),e.lineTo(404.6,295.1),e.lineTo(465.4,270.7),e.lineTo(511,287.4),e.lineTo(548.3,271.5),e.lineTo(623.7,280.5),e.lineTo(679.5,243),e.lineTo(722.6,249.8),e.lineTo(799.2,181),e.lineTo(840,170),e.lineWidth=4,e.strokeStyle="rgb(76, 79, 93)",e.stroke(),e.restore()},drawPoints:function(e,t,i,o){for(var n,a=((o=o||!1)?(this.iteration=2<this.iteration?0:this.iteration,this.points.mobile):(this.iteration=4<this.iteration?0:this.iteration,this.points.desktop)).length,s=0;s<a;s++)n=(o?this.points.mobile:this.points.desktop)[s],e.beginPath(),e.arc(t+n.x*i,n.y,8,0,2*Math.PI),e.fillStyle="rgb(253, 206, 49)",e.fill(),e.lineWidth=2,e.strokeStyle="rgb(255, 255, 255)",e.stroke()},resizeImages:function(){function e(){var e=$(".success-story-image");e.height(e.width())}BoredPanda.Config.windowWidth<=980&&($(window).on("resize",e),e())},tellStory:function(){var e=$(".tell-your-story").attr("href");BoredPanda.Config.isLoggedIn?window.location.href=e:(BoredPanda.Login.form.closeable(!0),BoredPanda.Login.form.show(e,void 0,"Please log in to tell your story",this.tellStoryAfterLogin))},tellStoryAfterLogin:function(){BoredPanda.Tracking.trackAddPostFormLoggedIn(),window.location.href=$(".tell-your-story").attr("href")}},$(document).ready(function(){BoredPanda.Config.isSuccessStoriesPage&&BoredPanda.SuccessStory.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Campaigns={isEnabled:!0,queryString:null,campaignCookieName:"bpCampaigns",init:function(){this.isEnabled&&!BoredPanda.Config.isStaffMember&&(this.queryString=this.getQueryString(),this.initCampaignTracking(),BoredPanda.Config.isLoggedIn&&this.saveCampaignsData())},saveCampaignsData:function(){var e,t=this.getCampaigns();0<t.data.length&&(e={action:"save_campaigns_data",data:t.data},BoredPanda.Utils.wpAjax(e),t.data=[],this.setCampaigns(t))},initCampaignTracking:function(){var e,t;void 0!==this.queryString.utm_source&&"bp_"===this.queryString.utm_source.substring(0,3)&&(e={utm_source:this.queryString.utm_source,utm_medium:this.queryString.utm_medium,utm_campaign:this.queryString.utm_campaign,utm_content:this.queryString.utm_content,utm_term:this.queryString.utm_term,timestamp:new Date},(t=this.getCampaigns()).data.push(e),this.setCampaigns(t))},getCampaigns:function(){var e=$.cookie(this.campaignCookieName);return void 0===e?{data:[]}:JSON.parse(e)},setCampaigns:function(e){$.cookie(this.campaignCookieName,JSON.stringify(e),{expires:60,path:"/"})},getQueryString:function(){for(var e,t={},i=window.location.search.substring(1).split("&"),o=0;o<i.length;o++){var n=i[o].split("=");void 0===t[n[0]]?t[n[0]]=decodeURIComponent(n[1]).replace(/(<([^>]+)>)/gi,"").trim():"string"==typeof t[n[0]]?(e=[t[n[0]],decodeURIComponent(n[1]).replace(/(<([^>]+)>)/gi,"").trim()],t[n[0]]=e):t[n[0]].push(decodeURIComponent(n[1]).replace(/(<([^>]+)>)/gi,"").trim())}return t}},$(document).ready(function(){BoredPanda.Campaigns.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{};var i=BoredPanda.Challenges=BoredPanda.Challenges||{};i.View={init:function(){function e(){var e=$(".image-block .challenge-image");$(window).width()<=980?e.height(e.width()):e.height(420)}var i=this;$(document).on("click",".create-challenge-modal",function(e){var t=$(this).data("challenge-type");if(BoredPanda.Config.isLoggedIn)return e.preventDefault(),e=$("#add-challenge-modal"),t=t||e.find(".change-type .active").data("value"),i.customizeForm(t),e.modal(),!1;BoredPanda.Login.form.closeable(!0),$.cookie("challenge-create-type",t,{expires:60,path:"/"}),BoredPanda.Login.form.show(void 0,void 0,"Please log in to create challenge",i.handleLogin)}),$("#add-challenge-modal .add-challenge-dialog").mousedown(function(e){e.target===this&&$("#add-challenge-modal").modal("hide")}),$(".top-menu-mobile").change(function(){window.location.href=$(this).val()}),i.handleLogin=function(){$("#auth-modal").modal("hide");var e=$.cookie("challenge-create-type")?$.cookie("challenge-create-type"):"default";i.customizeForm(e),$.removeCookie("challenge-create-type"),$("#add-challenge-modal").modal()};$(window).on("resize",e),e(),i.changeType(),i.changeTitle()},customizeForm:function(e){BoredPanda.AddPost.viewModel.post.challenge.formName("New Challenge"),"text"===e?(BoredPanda.AddPost.viewModel.post.challenge.type("text"),BoredPanda.AddPost.viewModel.post.challenge.formName("Ask A Question"),BoredPanda.AddPost.viewModel.post.challenge.descriptionPlaceholder("Description"),BoredPanda.AddPost.viewModel.post.challenge.imagePlaceholder("Upload Original Image (optional)"),BoredPanda.AddPost.viewModel.tooltips.challengeTitle.type("text"),BoredPanda.AddPost.viewModel.tooltips.challengeDescription.showTooltip(!1)):"meme"===e?(BoredPanda.AddPost.viewModel.post.challenge.type("meme"),BoredPanda.AddPost.viewModel.post.challenge.descriptionPlaceholder("Description (optional)"),BoredPanda.AddPost.viewModel.post.challenge.imagePlaceholder("First Submission"),BoredPanda.AddPost.viewModel.tooltips.challengeTitle.type("meme"),BoredPanda.AddPost.viewModel.tooltips.challengeDescription.showTooltip(!1)):("photoshop"===e?(BoredPanda.AddPost.viewModel.post.challenge.type("photoshop"),BoredPanda.AddPost.viewModel.post.challenge.descriptionPlaceholder("Description"),BoredPanda.AddPost.viewModel.post.challenge.imagePlaceholder("Upload Original Image"),BoredPanda.AddPost.viewModel.tooltips.challengeTitle.type("photoshop"),BoredPanda.AddPost.viewModel.tooltips.challengeDescription.type("photoshop")):"photography"===e?(BoredPanda.AddPost.viewModel.post.challenge.type("photography"),BoredPanda.AddPost.viewModel.post.challenge.descriptionPlaceholder("Description"),BoredPanda.AddPost.viewModel.post.challenge.imagePlaceholder("First Submission"),BoredPanda.AddPost.viewModel.tooltips.challengeTitle.type("photography"),BoredPanda.AddPost.viewModel.tooltips.challengeDescription.type("photography")):(BoredPanda.AddPost.viewModel.post.challenge.type("default"),BoredPanda.AddPost.viewModel.post.challenge.descriptionPlaceholder("Description"),BoredPanda.AddPost.viewModel.post.challenge.imagePlaceholder("First Submission"),BoredPanda.AddPost.viewModel.tooltips.challengeTitle.type("default"),BoredPanda.AddPost.viewModel.tooltips.challengeDescription.type("default")),BoredPanda.AddPost.viewModel.tooltips.challengeDescription.showTooltip(!0))},changeType:function(){$(document).on("click",".change-type",function(e){$(".change-type .fake-radio").removeClass("active");var t=$(this).find(".fake-radio");t.addClass("active"),i.View.customizeForm(t.data("value"))})},changeTitle:function(){$(document).on("change",".challenge-title",function(e){var t=this.value;$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"get_similar_posts",title:t,challenge_type:BoredPanda.AddPost.viewModel.post.challenge.type()},dataType:"json"}).done(function(e){BoredPanda.AddPost.viewModel.tooltips.challengeTitle.similarPosts(e.data)})})},initEditForm:function(){void 0!==BoredPanda.Config.postJson&&(BoredPanda.AddPost.viewModel.post.postId(BoredPanda.Config.postJson.postId),BoredPanda.AddPost.viewModel.post.challenge.type(BoredPanda.Config.postJson.challenge.type),BoredPanda.AddPost.viewModel.post.title(BoredPanda.Config.postJson.title),BoredPanda.AddPost.viewModel.post.description(BoredPanda.Config.postJson.description),BoredPanda.AddPost.viewModel.post.permalink(BoredPanda.Config.postJson.permalink),BoredPanda.Config.postJson.post.challenge.image&&(BoredPanda.AddPost.viewModel.post.challenge.image(BoredPanda.Config.postJson.post.challenge.image),BoredPanda.AddPost.viewModel.imageUploaded(!0)),BoredPanda.Config.postJson.challenge.source&&(BoredPanda.AddPost.viewModel.post.challenge.source(BoredPanda.Config.postJson.challenge.source),BoredPanda.AddPost.viewModel.post.challenge.showSource(!0)),this.customizeForm(BoredPanda.Config.postJson.challenge.type),$("#add-challenge-modal").find(".create").hide(),$("#add-challenge-modal").find(".edit").show(),$(".create-challenge-modal").data("challenge-type",BoredPanda.Config.postJson.challenge.type))}},$(document).ready(function(){i.View.init(),0<$("body.page-template-challenge-landing").length?(BoredPanda.AddPost.viewModel=new BoredPanda.AddPost.ViewModel,ko.applyBindings(BoredPanda.AddPost.viewModel,$("body.page-template-challenge-landing main")[0])):0<$("body.single-open-list-post #add-challenge-modal").length?(BoredPanda.AddPost.viewModel=new BoredPanda.AddPost.ViewModel,ko.applyBindings(BoredPanda.AddPost.viewModel,$("body.single-open-list-post #add-challenge-modal")[0]),i.View.initEditForm()):0<$(".challenge-ko").length&&(BoredPanda.AddPost.viewModel=new BoredPanda.AddPost.ViewModel,ko.applyBindings(BoredPanda.AddPost.viewModel,$(".challenge-ko")[0]),i.View.customizeForm(BoredPanda.Utils.getParameterByName("type")),void 0!==BoredPanda.Config.postJson&&($(".challenge-ko").find(".create").hide(),$(".challenge-ko").find(".edit").show(),i.View.initEditForm()))})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Video={init:function(){BoredPanda.Config.isTabletWidth||this.scrollAutoplay(),this.videoClick(),this.unmuteClick(),this.videoPlayClick(),this.loadSubtitles(),this.prerollAd(),this.trackVideo()},scrollAutoplay:function(){var e,t=this,i=$(window).height(),o=$(".video-scrollable.autoplay-muted").height();$(window).scroll(function(){e&&window.clearTimeout(e),e=window.setTimeout(function(){$(".video-scrollable.autoplay-muted").each(function(){this.addEventListener("timeupdate",function(){5<=this.currentTime&&$(this).hasClass("not-tracked")&&(t.trackVideo($(this)),$(this).removeClass("not-tracked"))}),$(window).scrollTop()<$(this).offset().top&&$(window).scrollTop()>$(this).offset().top-i+o?this.paused&&($(this).parent().find(".video-play-icon").hide(),this.play()):this.pause()})},100)}),$(window).scroll()},videoClick:function(){$("body").on("click",".video-scrollable",function(e){e.preventDefault(),$(this).hasClass("autoplay-muted")?($(this).removeClass("autoplay-muted"),$(this).parent().find(".unmute-video").hide(),$(this).parent().find(".video-play-icon").hide(),$(this).prop("muted",!1),$(this).prop("controls",!0),!0===this.paused&&this.play()):!1===this.paused?this.pause():this.play()})},unmuteClick:function(){$("body").on("click",".unmute-video",function(){$(this).parent().find("video").click()})},videoPlayClick:function(){$("body").on("click",".video-play-icon",function(){$(this).parent().find("video").click(),$(this).hide()})},trackVideo:function(){var e,t,i,n=this;t=window,i=document,t.fbq||(e=t.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},t._fbq||(t._fbq=e),(e.push=e).loaded=!0,e.version="2.0",e.queue=[],(t=i.createElement("script")).async=!0,t.src="https://connect.facebook.net/en_US/fbevents.js",(i=i.getElementsByTagName("script")[0]).parentNode.insertBefore(t,i)),fbq("init","586850071481240"),$(".bp-video-container .video-block video.track-video:visible").each(function(){var e=this,t=$(e).find("source:first").attr("src"),i=(window.location.href!==window.parent.location.href?window.parent:window).location.href,o=BoredPanda.Utils.getParameterByName("utm_campaign",i);n.sendBatch("video_impression",BoredPanda.Config.postId,t,o),$(e).click(function(){$(e).hasClass("not-tracked")&&(BoredPanda.Tracking.trackEvent("Video Clicks",BoredPanda.Config.postId,t),fbq("track","ClickVideo",{post_id:BoredPanda.Config.postId,video_src:t,utm_campaign:o}),n.sendBatch("video_click",BoredPanda.Config.postId,t,o),$(e).removeClass("not-tracked"))}),e.addEventListener("timeupdate",function(){!this.duration||this.currentTime<=this.duration/2||!$(this).hasClass("mid-not-tracked")||(BoredPanda.Tracking.trackEvent("Video Mid Reached",BoredPanda.Config.postId,t),fbq("track","VideoMidWatched",{post_id:BoredPanda.Config.postId,video_src:t,utm_campaign:o}),n.sendBatch("video_mid_watched",BoredPanda.Config.postId,t,o),$(e).removeClass("mid-not-tracked"))}),e.addEventListener("timeupdate",function(){!this.duration||this.currentTime<=5||!$(this).hasClass("view-not-tracked")||(BoredPanda.Tracking.trackEvent("Video Views",BoredPanda.Config.postId,t),fbq("track","VideoView",{post_id:BoredPanda.Config.postId,video_src:t,utm_campaign:o}),n.sendBatch("video_view",BoredPanda.Config.postId,t,o),$(e).removeClass("view-not-tracked"))}),e.addEventListener("ended",function(){$(this).hasClass("end-not-tracked")&&(BoredPanda.Tracking.trackEvent("Video Ended",BoredPanda.Config.postId,t),fbq("track","VideoEnded",{post_id:BoredPanda.Config.postId,video_src:t,utm_campaign:o}),n.sendBatch("video_ended",BoredPanda.Config.postId,t,o),$(e).removeClass("end-not-tracked"))})})},sendBatch:function(e,t,i,o){t=[{name:"post_id",value:t},{name:"video_source",value:i},{name:"utm_campaign",value:o}],i=[{type:"bp_user",value:BoredPanda.Config.userId},{type:"bp_web_cookie",value:this.generateGuestUserId()}];$.ajax({contentType:"application/json",data:JSON.stringify([{topic:e,identifiers:i,properties:t}]),dataType:"json",type:"POST",url:BoredPanda.Config.gatewayUrl+"/event/submit_batch"})},generateGuestUserId:function(){var e=Math.ceil(Math.random()*(void 0!==Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:99999999)),t=(t=new Date).getTime();return e.toString()+t.toString()},parseTimestamp:function(e){var t=e.match(/^(?:([0-9]+):)?([0-5][0-9]):([0-5][0-9](?:[.,][0-9]{0,3})?)/);if(null==t)throw"Invalid timestamp format: "+e;var e=parseInt(t[1]||"0",10),i=parseInt(t[2],10);return parseFloat(t[3].replace(",","."))+60*i+3600*e},parseSubtitles:function(e){for(var t,i=e.trim().split(/[\n]/).map(function(e){return e.trim()}),o=[],n=null,a=null,s=null,r=0;r<i.length;r++)if(0<=i[r].indexOf("--\x3e")){var l=i[r].split(/[ \t]+-->[ \t]+/);if(2!=l.length)throw'Error when splitting "--\x3e": '+i[r];n=this.parseTimestamp(l[0]),a=this.parseTimestamp(l[1])}else""==i[r]?n&&a&&(t=new VTTCue(n,a,s),o.push(t),s=a=n=null):n&&a&&(null==s?s=i[r]:s+="\n"+i[r]);return n&&a&&(t=new VTTCue(n,a,s),o.push(t)),o},loadSubtitles:function(){var i=this,e=BoredPanda.Utils.getParameterByName("subtitles");e&&$.get(e,function(e){var t=$(".bp-video-container .video-block video").get(0).addTextTrack("subtitles","English","en");t.mode="showing",i.parseSubtitles(e).map(function(e){t.addCue(e)})})},prerollAd:function(){$(".bp-video-container .video-block video.preroll-ad:visible").each(function(){var i,o=this,n=($(o).on("click",function(){if($(o).hasClass("preroll-ad")){var e=$(o).width(),t=$(o).height();$(o).removeClass("preroll-ad"),$(o).parent().find(".overlay").show(),$(o).parent().find(".video-play-icon").hide(),o.load();try{n.initialize(),i.init(e,t,google.ima.ViewMode.NORMAL),i.start()}catch(e){console.log(e),o.play(),$(o).parent().find(".adContainer").hide(),$(o).parent().find(".overlay").hide(),$(o).prop("controls",!0)}}}),$(o).parent().append('<span class="adContainer"></span>'),new google.ima.AdDisplayContainer($(o).parent().find(".adContainer").get(0),o)),t=(n.initialize(),new google.ima.AdsLoader(n)),a=(t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,(i=e.getAdsManager(o,t)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s),i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r),i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,l),i.addEventListener(google.ima.AdEvent.Type.LOADED,d)},!1),t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s,!1),!1);function s(e){console.log(e.getError()),void 0!==i&&i.destroy()}function r(){$(o).parent().find(".adContainer").show(),o.pause(),$(o).parent().find(".overlay").hide()}function l(){$(o).parent().find(".overlay").show(),o.play(),$(o).parent().find(".adContainer").hide(),$(o).parent().find(".overlay").hide(),$(o).prop("controls",!0)}function d(e){e.getAd().isLinear()||($(o).parent().find(".adContainer").css("bottom","30px"),$(o).parent().find(".overlay").hide(),$(o).prop("controls",!0),o.play())}o.addEventListener("loadedmetadata",function(){var e;a||(e=new google.ima.AdsRequest,BoredPanda.Config.isMobileWidth?e.adTagUrl="https://pubads.g.doubleclick.net/gampad/live/ads?sz=400x300%7C640x480&iu=/46481815/Bp.com_mobile_in-stream_Video&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+window.location.href+"&description_url=https%3A%2F%2Fwww.boredpanda.com&correlator="+Math.floor(Date.now()/1e3):e.adTagUrl="https://pubads.g.doubleclick.net/gampad/live/ads?sz=400x300%7C640x480&iu=/46481815/Bp.com_desktop_in-stream_Video&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+window.location.href+"&description_url=https%3A%2F%2Fwww.boredpanda.com&correlator="+Math.floor(Date.now()/1e3),e.linearAdSlotWidth=$(o).width(),e.linearAdSlotHeight=$(o).height(),e.nonLinearAdSlotWidth=$(o).width(),e.nonLinearAdSlotHeight=$(o).height(),t.requestAds(e),a=!0)})})},midrollAd:function(){$(".bp-video-container .video-block video.midroll-ad:visible").each(function(){var i,o=this,n=(0===$(o).parent().find(".adContainer").length&&$(o).parent().append('<span class="adContainer"></span>'),new google.ima.AdDisplayContainer($(o).parent().find(".adContainer").get(0),o)),t=(n.initialize(),new google.ima.AdsLoader(n)),a=(t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,(i=e.getAdsManager(o,t)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r),i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,l),i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,d),i.addEventListener(google.ima.AdEvent.Type.LOADED,c)},!1),t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r,!1),!1),s=BoredPanda.Utils.getParameterByName("midroll_time");function r(e){console.log(e.getError()),void 0!==i&&i.destroy()}function l(){$(o).parent().find(".adContainer").show(),o.pause(),$(o).parent().find(".overlay").hide()}function d(){$(o).parent().find(".overlay").show(),o.play(),$(o).parent().find(".adContainer").hide(),$(o).parent().find(".adContainer").css("bottom","0"),$(o).parent().find(".overlay").hide(),$(o).prop("controls",!0)}function c(e){e.getAd().isLinear()||($(o).parent().find(".adContainer").css("bottom","30px"),$(o).parent().find(".overlay").hide(),$(o).prop("controls",!0),o.play())}s=s||o.duration/2,o.addEventListener("timeupdate",function(){var e;!this.duration||this.currentTime<=s||!$(this).hasClass("midroll-ad")||0<$(this).closest(".adContainer").length||a||(e=new google.ima.AdsRequest,BoredPanda.Config.isMobileWidth?e.adTagUrl="https://pubads.g.doubleclick.net/gampad/live/ads?sz=400x300%7C640x480&iu=/46481815/Bp.com_mobile_Long_video_Midroll&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+window.location.href+"&description_url=http%3A%2F%2Fwww.boredpanda.com&correlator="+Math.floor(Date.now()/1e3):e.adTagUrl="https://pubads.g.doubleclick.net/gampad/live/ads?sz=400x300%7C640x480&iu=/46481815/BP.com__desktop_Long_video_Mid-roll&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+window.location.href+"&description_url=http%3A%2F%2Fwww.boredpanda.com&correlator="+Math.floor(Date.now()/1e3),e.linearAdSlotWidth=$(o).width(),e.linearAdSlotHeight=$(o).height(),e.nonLinearAdSlotWidth=$(o).width(),e.nonLinearAdSlotHeight=$(o).height(),t.requestAds(e),a=!0,setTimeout(function(){if($(o).hasClass("midroll-ad")){var e=$(o).width(),t=$(o).height();$(o).removeClass("midroll-ad"),$(o).parent().find(".overlay").show(),$(o).parent().find(".video-play-icon").hide();try{d(),n.initialize(),$(o).parent().find(".adContainer > div").each(function(e,t){"0px"!==$(t).css("width")&&$(t).remove()}),i.init(e,t,google.ima.ViewMode.NORMAL),i.start()}catch(e){console.log(e),o.play(),$(o).parent().find(".adContainer").hide(),$(o).parent().find(".overlay").hide(),$(o).prop("controls",!0)}}},1e3))})})}},$(document).ready(function(){BoredPanda.Video.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},(BoredPanda.UsersTop=BoredPanda.UsersTop||{}).View=function(){function t(t){o.loading(!0);var e=$.ajax({type:"POST",url:ajax_object.ajax_url,dataType:"json",data:{action:"get_users_top",type:o.filter(),limit:o.limit(),offset:o.limit()*(o.page()-1),findUser:t}}),i=t;e.done(function(e){o.users.removeAll(),$.each(e.data.stats,function(e,t){t.range_points=n(t.range_points),t.total_points=n(t.total_points),t.current=parseInt(i)===parseInt(t.user_id),null===t.rank_change&&(t.rank_change="-"),o.users.push(t)}),o.totalPages(Math.ceil(e.data.total/o.limit())),"all-time"!==o.filter()?o.filtername(o.filter()+"ly"):o.filtername("all time"),o.loading(!1),e.data.page&&o.page(e.data.page),0<$("tbody:visible .current-user").length&&t?$("tbody:visible .current-user")[0].scrollIntoView():$(window).scrollTop(0)})}var o=this,n=(o.loading=ko.observable(!1),o.page=ko.observable(1),o.totalPages=ko.observable(1),o.limit=ko.observable(50),o.users=ko.observableArray(),o.filter=ko.observable("month"),o.filtername=ko.observable("monthly"),function(e){return e?e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0}),e=(o.changeFilter=function(e){o.filter(e),o.page(1),t()},o.nextPage=function(){o.page(o.page()+1),t()},o.previousPage=function(){o.page(o.page()-1),t()},o.firstPage=function(){o.page(1),t()},o.lastPage=function(){o.page(o.totalPages()),t()},o.hasPrevious=ko.computed(function(){return 1!==o.page()}),o.hasNext=ko.computed(function(){return o.page()!==o.totalPages()}),BoredPanda.Utils.getParameterByName("filter"));e&&(o.filter(e),o.filtername(e),"all-time"!==o.filter()?o.filtername(o.filter()+"ly"):o.filtername("all time")),t(BoredPanda.Utils.getParameterByName("user"))},$(document).ready(function(e){-1<window.location.href.indexOf("users-top")&&(BoredPanda.UsersTop.view=BoredPanda.UsersTop.view=new BoredPanda.UsersTop.View,ko.applyBindings(BoredPanda.UsersTop.view,e(".users-top")[0]))})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.SellContent={init:function(){var e;0<$(".page-template-sell-your-content").length&&(0<$(".page-template-sell-your-content .sell-content-block").length&&(e=new BoredPanda.SellContentController,ko.applyBindings(e,$(".page-template-sell-your-content .sell-content-block").get(0))),BoredPanda.Config.isLoggedIn?this.trackUser("new",!0):(BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.show(void 0,this.trackUser("new",!0))))},trackUser:function(e,t){var i=BoredPanda.Utils.getParameterByName("cnt");$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"user_sell_content_track",postId:i||0,status:e,unique:t},dataType:"json"})}},BoredPanda.SellContentController=function(){var t=this;t.acceptedTOS=ko.observable(!1),t.signedMessage=ko.observable(!1),t.terminatedMessage=ko.observable(!1),t.error=ko.observable(!1),t.errorMessage=ko.observable(""),t.terminateButtonText=ko.observable("Terminate my contract"),t.signupButtonText=ko.observable("Sell my content"),t.sellContent=function(){t.signedMessage(!1),t.error(!1),t.acceptedTOS()?(t.signupButtonText("Processing..."),$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"user_sell_content_track",status:"Signed",email:"true"},dataType:"json"}).done(function(e){t.signupButtonText("Sell my content"),!0===e.success?(BoredPanda.SellContent.trackUser("signed"),t.signedMessage(!0),$(".sell-content-block .signup").hide(),$(".sell-content-block .terminate").show()):(t.error(!0),t.errorMessage("Error processing your request. Please try again."))})):(t.terminatedMessage(!1),t.error(!0),t.errorMessage("Please confirm you agree with the Terms of Service by ticking the checkbox."))},t.terminate=function(){t.terminatedMessage(!1),t.acceptedTOS(!1),t.error(!1);t.terminateButtonText("Terminating..."),$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"user_sell_content_track",status:"Terminated",email:"true"},dataType:"json"}).done(function(e){t.terminateButtonText("Terminate my contract"),!0===e.success?(BoredPanda.SellContent.trackUser("terminated"),t.terminatedMessage(!0),$(".sell-content-block .signup").show(),$(".sell-content-block .terminate").hide()):(t.error(!0),t.errorMessage("Error processing your request. Please try again."))})}},$(document).ready(function(){BoredPanda.SellContent.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Partners={},BoredPanda.Partners.ViewModel=function(){var t=this;t.email=ko.observable(""),t.accountingEmail=ko.observable(""),t.remark=ko.observable(""),t.profiles=ko.observable(""),t.category=ko.observable(""),t.name=ko.observable(""),t.share=ko.observable(""),t.campaignQuery=ko.observable("?utm_source=twitter&utm_medium=social&utm_campaign=XXX"),t.errorMessage=ko.observable(""),t.successMessage=ko.observable(""),t.createButtonText=ko.observable("Create"),t.info=ko.observable(""),t.emailHtml=ko.observable(""),t.titleLike=ko.observable(""),t.utmCampaign=ko.observable(""),t.weeks=ko.observable(2),t.filterButtonText=ko.observable("Filter"),t.filteredPosts=ko.observable([]),t.createPartner=function(){var e;t.errorMessage(""),t.successMessage(""),t.info(""),t.emailHtml(""),t.email()?t.name()?t.share()?t.campaignQuery()?(e={action:"partner_create",email:t.email(),accountingEmail:t.accountingEmail(),name:t.name(),share:t.share(),remark:t.remark(),profiles:t.profiles(),campaignQuery:t.campaignQuery()},t.createButtonText("Creating..."),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){t.createButtonText("Create"),!0===e.success?(t.successMessage("Partner successfully created!"),t.info(e.result.output.replace(/(\r\n|\n|\r)/gm,"<br>")),t.emailHtml(e.result.html),t.email(""),t.accountingEmail(""),t.name(""),t.remark(""),t.profiles(""),t.share(""),t.campaignQuery("?utm_source=twitter&utm_medium=socialk&utm_campaign=XXX")):(t.errorMessage("Error creating partner!"),t.info(e.data.result.output.replace(/(\r\n|\n|\r)/gm,"<br>")))})):t.errorMessage("Please enter campaign query."):t.errorMessage("Please enter share."):t.errorMessage("Please enter campaign name."):t.errorMessage("Please enter email.")},t.addShareBracket=function(e,t){t=$(t.target);$('<div class="share-bracket"><input type="number" class="share" placeholder="Share %" value=""><input type="number" class="clicks" placeholder="Clicks" value=""> </div>').insertAfter(t.closest("tr").find(".share-bracket:last"))},t.openModal=function(e,t){t=$(t.target).data("target");$("#"+t).modal()},t.closeModal=function(e,t){$(t.target).closest(".modal").modal("hide")},t.updatePartner=function(e,t){for(var i=$(t.target),t=i.closest("tr").attr("data-id"),o=i.closest("tr").find(".name").val(),n=i.closest("tr").find(".accounting-email").val(),a=i.closest("tr").find(".share").val(),s=i.closest("tr").find(".remark").val(),r=i.closest("tr").find(".profiles").val(),l=i.closest("tr").find(".share-bracket"),d=i.closest("tr").find(".status").val(),c=[],u=!1,h=0;h<l.length;h++){var p=$(l[h]).find("input");p[0].value&&void 0!==p[0].value&&("0"===p[1].value&&(u=!0),c.push({share:p[0].value,clicks:p[1].value}))}return!u&&0<c.length?(alert("Please enter 0 clicks bracket."),!1):u&&1===c.length?(alert("Can't be just 0 clicks bracket "),!1):(i.html("Updating..."),void BoredPanda.Utils.wpAjax({action:"partner_update",partner_id:t,name:o,accountingEmail:n,remark:s,profiles:r,share:a,brackets:c,status:d}).done(function(e){e.success?(i.html("Updated"),window.location.reload()):(i.html("Failed"),i.addClass("failed"),void 0!==e.error&&alert(e.error))}))},t.getTopLists=function(){var e={action:"partner_open_lists_filter",title:t.titleLike(),category:t.category(),utmCampaign:t.utmCampaign(),weeks:t.weeks()};t.filterButtonText("Fetching..."),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){e.success&&(t.filteredPosts(e.posts),t.filterButtonText("Fetch"))})}},BoredPanda.Partners.LinkGenerator=function(){var i=this;i.link=ko.observable(""),i.source=ko.observable(""),i.generatedLink=ko.observable(""),i.utmCampaign=ko.observable(""),i.error=ko.observable(!1),i.generateLink=function(){i.error(!1),i.utmCampaign()||i.error(!0);var e=i.link().split("?")[0],t=i.source()||"twitter";i.generatedLink(e+"?utm_source="+t+"&utm_medium=social&utm_campaign="+i.utmCampaign())}},BoredPanda.Partners.Dashboard=function(){var e=this;e.partner=ko.observable(""),e.source=ko.observable(),e.sources=ko.observable([]),e.hideEstablishedPartner=function(e,t){var i;!0===confirm("Are you sure?")&&(i=$(t.target).data("id"),$.ajax({type:"POST",url:ajax_object.ajax_url,data:{action:"hide_established_partner",partner_id:i},dataType:"json"}).done(function(){$(t.target).closest("tr").hide()}))},e.initSources=function(){void 0!==(partnersSources?JSON.parse(partnersSources):"")[e.partner()]?e.sources(JSON.parse(partnersSources)[e.partner()]):e.sources([])},e.countryPaidRevenue=function(){$("#partner-paid-revenue-table .parent-row").on("click",function(){var e=$(this).attr("data-revenue-date"),t=$(this).attr("data-post-type"),t="true"==$(this).attr("data-total-row")?t+"-total":t+"-"+e;$(this).parent().find(".bracket-row."+t).toggle(),$(this).parent().find(".country-row."+t).hide()}),$("#partner-paid-revenue-table .bracket-row").on("click",function(){var e=$(this).attr("data-revenue-date"),t=$(this).attr("data-bracket"),i=$(this).attr("data-post-type"),i="true"==$(this).attr("data-total-row")?i+"-total":i+"-"+e;$(this).parent().find(".country-row.row-"+t+"."+i).toggle()})}},BoredPanda.Partners.PartnershipForm=function(){var i=this;i.captcha=ko.observable(""),i.name=ko.observable(""),i.email=ko.observable(""),i.utm=ko.observable(""),i.source=ko.observable(""),i.comment=ko.observable(""),i.billingCountry=ko.observable(""),i.audienceCountry=ko.observable(""),i.question1=ko.observable(""),i.question2=ko.observable(""),i.question3=ko.observable(""),i.pages=ko.observableArray([{page:"",type:"main"}]),i.countries=ko.observable([{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the Congo",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]),i.successMessage=ko.observable(!1),i.errorMessage=ko.observable(!1),i.loading=ko.observable(!1),i.submit=function(){var e;i.loading()||(i.successMessage(""),i.errorMessage(""),i.name()?i.email()?i.validateEmail(i.email())?i.billingCountry()?i.audienceCountry()?i.pages()[0].page?i.utm()?i.validateUTM(i.utm())?i.question1()&&i.question2()&&i.question3()?10!==parseInt(i.captcha())?i.errorMessage(BoredPanda.Translate.Partners.captcha_error):(delete(e=$.extend({},this)).loading,delete e.successMessage,delete e.errorSend,delete e.errorMessage,delete e.countries,e={action:"partnership_register",data:ko.toJSON(e)},i.loading(!0),$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"}).done(function(e){i.loading(!1),!0===e.success?i.successMessage(BoredPanda.Translate.Partners.success):void 0!==e.data&&e.data.message?i.errorMessage(e.data.message):i.errorMessage(BoredPanda.Translate.Partners.error)})):i.errorMessage(BoredPanda.Translate.Partners.questions_error):i.errorMessage(BoredPanda.Translate.Partners.valid_utm_error):i.errorMessage(BoredPanda.Translate.Partners.utm_error):i.errorMessage(BoredPanda.Translate.Partners.page_error):i.errorMessage(BoredPanda.Translate.Partners.audience_error):i.errorMessage(BoredPanda.Translate.Partners.country_error):i.errorMessage(BoredPanda.Translate.Partners.valid_email_error):i.errorMessage(BoredPanda.Translate.Partners.email_error):i.errorMessage(BoredPanda.Translate.Partners.name_error))},i.validateEmail=function(e){return/\S+@\S+\.\S+/.test(e)},i.validateUTM=function(e){return/^[a-zA-Z0-9_]+$/.test(e)},i.addPage=function(){i.pages().length<15&&i.pages.push({page:"",type:"sub"})},i.parsePage=function(e,t){t=t.target.value;-1!==t.indexOf("facebook.com/")?(i.utm()||i.utm(t.split("facebook.com/")[1].split("/")[0].replace(/[^0-9a-z]/gi,"")),i.source("facebook")):-1!==t.indexOf("twitter.com/")&&(i.utm()||i.utm(t.split("twitter.com/")[1].split("/")[0].replace(/[^0-9a-z]/gi,"")),i.source("twitter"))}},$(document).ready(function(){0<$(".page-template-partners-management").length&&(BoredPanda.Config.isStaffMember?(BoredPanda.Partners.viewModel=new BoredPanda.Partners.ViewModel,ko.applyBindings(BoredPanda.Partners.viewModel,$(".page-template-partners-management .left-content-column").get(0)),$("body").on("click",function(e){$(e.target).closest(".partner-modal").length<1&&!$(e.target).hasClass("partner-edit")&&$(".partner-modal").modal("hide")})):BoredPanda.Config.isLoggedIn||(BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.show(window.location.href,void 0,BoredPanda.Translate.Signup.please_login))),0<$(".page-template-partners-dashboard").length&&BoredPanda.Config.isStaffMember?(BoredPanda.Partners.dashboard=new BoredPanda.Partners.Dashboard,ko.applyBindings(BoredPanda.Partners.dashboard,$(".page-template-partners-dashboard .left-content-column").get(0)),BoredPanda.Partners.dashboard.initSources(),BoredPanda.Partners.dashboard.countryPaidRevenue(),BoredPanda.Partners.dashboard.source(BoredPanda.Utils.getParameterByName("source"))):!BoredPanda.Config.isLoggedIn&&0<$(".page-template-partners-dashboard").length&&(BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.show(window.location.href,void 0,BoredPanda.Translate.Signup.please_login)),0<$(".page-template-utm-generator .utm-generator").length&&(BoredPanda.Partners.linkGenerator=new BoredPanda.Partners.LinkGenerator,BoredPanda.Partners.linkGenerator.utmCampaign(partnerName),ko.applyBindings(BoredPanda.Partners.linkGenerator,$(".page-template-utm-generator .utm-generator").get(0))),0<$(".page-template-partnership .contact").length&&(BoredPanda.Partners.partnershipForm=new BoredPanda.Partners.PartnershipForm,ko.applyBindings(BoredPanda.Partners.partnershipForm,$(".page-template-partnership .contact").get(0)))})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.PostsFilter={},BoredPanda.PostsFilter.ViewModel=function(){var r=this;r.dateType=ko.observable(""),r.dateRange=ko.observable(""),r.dateFrom=ko.observable(""),r.dateTo=ko.observable(""),r.keyword=ko.observable(""),r.category=ko.observable(""),r.posts=ko.observable([]),r.order=ko.observable("trending"),r.showPositions=ko.observable(!1),r.showFacebookClicks=ko.observable(BoredPanda.Config.isStaffMember),r.filterButtonText=ko.observable("Filter"),r.emptyPostsError=ko.observable(!1),r.loadingSpinner=ko.observable(!1),r.exportLimit=ko.observable(""),r.utmLink=ko.observable(""),r.postType=ko.observable(""),r.cpcQuery=ko.observable(!1),r.limit=ko.observable(0),r.initPicker=function(){var e=r.cpcQuery()?moment().subtract(2,"years"):moment().subtract(6,"days"),t=moment();$(".rangepicker").daterangepicker({startDate:e,endDate:t,ranges:{Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Last Year":[moment().subtract(1,"year"),moment()]}},r.changeDate),r.changeDate(e,t),r.filter(!0)},r.changeDate=function(e,t){r.dateFrom(e.format("MM/DD/YYYY")),r.dateTo(t.format("MM/DD/YYYY")),r.dateRange(r.dateFrom()+" - "+r.dateTo())},r.resetFilter=function(){r.order("trending"),r.keyword(""),r.category(""),r.postType(""),r.filter(!0)},r.filter=function(e){r.loadingSpinner(!0),r.emptyPostsError(!1),r.posts([]),"recent"!==r.order()&&r.showPositions(!0),!0!==e&&"trending"===r.order()&&r.order("views");e={action:"filter_posts_for_users",dateFrom:r.dateFrom(),dateTo:r.dateTo(),keyword:r.keyword(),category:r.category(),order:r.order(),limit:r.limit(),cpcQuery:r.cpcQuery(),postType:r.postType()},e=$.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"});r.filterButtonText("Filtering..."),e.done(function(e){0<e.data.length?(r.posts(e.data),r.utmLink(e.utm)):r.emptyPostsError(!0),r.filterButtonText("Filter"),r.loadingSpinner(!1)})},r.openModal=function(){$("#exportOptions").modal()},r.closeModal=function(){$("#exportOptions").modal("hide")},r.exportCsv=function(){var e="Post Link;Post Name;Post Views;Post date;Instant Article\n",t=(r.utmLink()&&"?"!==r.utmLink()[0]&&r.utmLink("?"+r.utmLink()),r.exportLimit());(t>r.posts().length||!t)&&(t=r.posts().length);for(var i=0;i<t;i++)e=(e=(e=(e=(e+=r.posts()[i].post_url+r.utmLink()+";")+r.posts()[i].post_title+";")+r.posts()[i].pageviews+";")+r.posts()[i].post_date+";")+("true"===r.posts()[i].instant_article?"Yes\n":"No\n");r.closeModal();var o,n=document.createElement("a"),a="text/csv",s="BoredPanda_Top_posts.csv";return navigator.msSaveBlob?navigator.msSaveBlob(new Blob([e],{type:a}),s):("download"in n?(n.href="data:"+a+","+encodeURIComponent(e),n.setAttribute("download",s),document.body.appendChild(n),n.click(),document.body.removeChild(n)):(o=document.createElement("iframe"),document.body.appendChild(o),o.src="data:"+a+","+encodeURIComponent(e),setTimeout(function(){document.body.removeChild(o)},333)),!0)}},$(document).ready(function(){0<$(".page-template-top-posts").length?BoredPanda.Config.isLoggedIn?(BoredPanda.PostsFilter.viewModel=new BoredPanda.PostsFilter.ViewModel,ko.applyBindings(BoredPanda.PostsFilter.viewModel,$(".page-template-top-posts .left-content-column").get(0)),BoredPanda.PostsFilter.viewModel.initPicker()):(BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.show(void 0,void 0,"Please log in to continue")):0<$(".page-template-recent-top-posts").length&&(BoredPanda.PostsFilter.viewModel=new BoredPanda.PostsFilter.ViewModel,ko.applyBindings(BoredPanda.PostsFilter.viewModel,$(".page-template-recent-top-posts .left-content-column").get(0)),BoredPanda.PostsFilter.viewModel.limit(50),BoredPanda.PostsFilter.viewModel.cpcQuery("true"),BoredPanda.PostsFilter.viewModel.initPicker())})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.PartnerAds={},BoredPanda.PartnerAds.ViewModel=function(){var r=this;r.dateRange=ko.observable(""),r.dateFrom=ko.observable(""),r.dateTo=ko.observable(""),r.keyword=ko.observable(""),r.category=ko.observable(""),r.posts=ko.observable([]),r.order=ko.observable("clicks"),r.filterButtonText=ko.observable("Filter"),r.emptyPostsError=ko.observable(!1),r.loadingSpinner=ko.observable(!1),r.pausedCampaigns=ko.observable(!1),r.status=ko.observable(""),r.errorText=ko.observable("No ads found."),r.limit=ko.observable(20),r.page=ko.observable(1),r.pages=ko.observable([]),r.oldFilterParameters=!1,r.startDate=moment("1970-01-01"),r.ajax=function(e){return $.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"})},r.init=function(){r.initPicker(),r.exitError(),r.setPartnerCampaignsSetting()},r.initPicker=function(){var e=moment().subtract(1,"year"),t=moment();$(".rangepicker").daterangepicker({startDate:e,endDate:t,ranges:{"All dates":[r.startDate,r.startDate],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Last Year":[moment().subtract(1,"year"),moment()]}},r.changeDate),r.changeDate(e,t,"Last Year"),r.filter()},r.setPages=function(e,t){for(var i=[],o=0;o<e;o++){var n={page:o+1,active:!1,visible:!0};o+1==t&&(n.active=!0),7<o&&o<e-6&&o+1!=t&&(n.visible=!1),i.push(n)}return i},r.setPosts=function(n,a){var s=[];return r.posts().forEach(function(t){var i={},e=Object.keys(t),o=Object.keys(a);e.forEach(function(e){t.id==n&&o.includes(e)?i[e]=a[e]:i[e]=t[e]}),s.push(i)}),s},r.changeDate=function(e,t,i){r.dateFrom(e.format("MM/DD/YYYY")),r.dateTo(t.format("MM/DD/YYYY")),r.dateRange(i)},r.resetFilter=function(){r.order("views"),r.keyword(""),r.category(""),r.status(""),r.filter(!0)},r.filter=function(){r.loadingSpinner(!0),r.emptyPostsError(!1),r.posts([]);var e={action:"filter_partner_ads",dateFrom:r.dateFrom()!==r.startDate.format("MM/DD/YYYY")?r.dateFrom():null,dateTo:r.dateTo()!==r.startDate.format("MM/DD/YYYY")?r.dateTo():null,keyword:r.keyword(),category:r.category(),limit:r.limit(),order:r.order(),status:r.status()};r.oldFilterParameters=e,r.ajax(e).done(function(e){0<e.posts.length?(r.posts(e.posts),r.page(1),e=Math.ceil(e.count/r.limit()),e=r.setPages(e,r.page()),r.pages(e)):(r.errorText("No ads found."),r.emptyPostsError(!0)),r.loadingSpinner(!1)})},r.pauseAds=function(e,t){r.loadingSpinner(!0);var t=t.target,i=t.getAttribute("data-config-status"),o=t.getAttribute("data-post");r.ajax({action:"pause_partner_post_ads",post_id:o,ads_status:i}).done(function(e){var t;e.success?(t=r.setPosts(o,"1"==i?{config_status:2,active_button:"turn on"}:{config_status:1,active_button:"turn off"}),r.posts(t)):(r.errorText(e.errors),r.emptyPostsError(!0)),r.loadingSpinner(!1)})},r.approvePostAds=function(e,t){r.loadingSpinner(!0);var i=t.target.getAttribute("data-post");r.ajax({action:"approve_partner_post_ads",post_id:i}).done(function(e){var t;e.success?(t=r.setPosts(i,{config_status:3,status:"creating"}),r.posts(t)):(r.errorText(e.errors),r.emptyPostsError(!0)),r.loadingSpinner(!1)})},r.changePageRequest=function(t){var i=r.setPages(r.pages().length,t),e=r.oldFilterParameters;e.offset=(t-1)*r.limit(),r.ajax(e).done(function(e){0<e.posts.length?(r.posts(e.posts),r.page(parseInt(t)),r.pages(i)):(r.errorText("No ads found."),r.emptyPostsError(!0)),r.loadingSpinner(!1)})},r.changePage=function(e,t){r.loadingSpinner(!0);t=t.target,t=parseInt(t.getAttribute("data-page"));r.changePageRequest(t)},r.nextPage=function(){r.loadingSpinner(!0);var e=parseInt(r.page())+1;e>r.pages().length&&(e=1),r.changePageRequest(e)},r.prevPage=function(){r.loadingSpinner(!0);var e=parseInt(r.page())-1;e<1&&(e=r.pages().length),r.changePageRequest(e)},r.exitError=function(){$(document).on("click",".exit",function(){$(this).parent().hide()})},r.setPartnerCampaignsSetting=function(){r.ajax({action:"get_partner_settings"}).done(function(e){void 0!==e.data&&"1"==e.data.pause_ads_campaigns&&r.pausedCampaigns(!0)})}},$(document).ready(function(){0<$(".page-template-top-ads").length&&(BoredPanda.Config.isLoggedIn?(BoredPanda.PartnerAds.viewModel=new BoredPanda.PartnerAds.ViewModel,ko.applyBindings(BoredPanda.PartnerAds.viewModel,$(".page-template-top-ads .left-content-column").get(0)),BoredPanda.PartnerAds.viewModel.init()):(BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.show(void 0,void 0,"Please log in to continue")))})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.PartnersSettings={},BoredPanda.PartnersSettings.ViewModel=function(){var o=this;o.adsAutomaticCreation=ko.observable(null),o.pauseCampaigns=ko.observable(null),o.sending=!1,o.bool_map={false:!1,true:!0,0:!1,1:!0},o.map_config={adsAutomaticCreation:"manual_approve_ads",pauseCampaigns:"pause_ads_campaigns"},o.ajax=function(e){return $.ajax({type:"POST",url:ajax_object.ajax_url,data:e,dataType:"json"})},o.init_partner_settings=function(){o.sending=!0,o.ajax({action:"get_partner_settings"}).done(function(t){void 0!==t.data?Object.keys(o.map_config).forEach(function(e){void 0!==t.data[o.map_config[e]]?o[e](o.bool_map[t.data[o.map_config[e]]]):o[e](!1)}):(o.adsAutomaticCreation(!1),o.pauseCampaigns(!1)),o.sending=!1})},o.change_partner_settings=function(e,t){var t=t.target,i=t.getAttribute("data-value"),t=t.getAttribute("data-type");o.sending||(o.sending=!0,o[t](o.bool_map[i]),(i={action:"change_partner_settings"})[o.map_config[t]]=o[t](),o.ajax(i).done(function(){o.sending=!1}))}},$(document).ready(function(){0<$(".partner-settings-template").length&&(BoredPanda.Config.isLoggedIn?(BoredPanda.PartnersSettings.viewModel=new BoredPanda.PartnersSettings.ViewModel,ko.applyBindings(BoredPanda.PartnersSettings.viewModel,$(".page-template-partners-settings .left-content-column").get(0)),BoredPanda.PartnersSettings.viewModel.init_partner_settings()):(BoredPanda.Login.form.closeable(!1),BoredPanda.Login.form.show(void 0,void 0,"Please log in to continue")))})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},(BoredPanda.SubscribtionTool=BoredPanda.SubscribtionTool||{}).tool=function(){var i=this;i.config=ko.observable({}),i.aggresive=ko.observable(!1),i.sensitivity=ko.observable(20),i.timer=ko.observable(1e3),i.delay=ko.observable(0),i.cookieExpire=ko.observable(300),i.cookieDomain=ko.observable(""),i.cookieName=ko.observable("viewedSubscribtionModal"),i.sitewide=ko.observable(";path=/"),i._delayTimer=ko.observable(null),i._html=ko.observable(document.documentElement),i.element=ko.observable(""),i.disableKeydown=ko.observable(!1),i.elemId=ko.observable("subscribe-before-leaving"),i.type=ko.observable("basic"),i.getType=function(){return i.element($("#"+i.elemId())),i.element()&&i.type(i.element().data("type")),i.type()},i.init=function(){i.element($("#"+i.elemId())),i.cookieExpire(i.setDefaultCookieExpire(i.cookieExpire())),i.start()},i.start=function(){i.isDisabled()||2<=i.saveSessionPageviews()&&document.addEventListener("scroll",i.checkPosition)},i.checkPosition=function(){600<=$(window).scrollTop()&&(document.removeEventListener("scroll",i.checkPosition),setTimeout(i.attachOuiBounce,i.timer()))},i.saveSessionPageviews=function(){var e=i.parseCookies().bp_session_pageviews;return e?-1==(e=JSON.parse(e)).indexOf(BoredPanda.Config.postId)&&e.push(BoredPanda.Config.postId):e=[BoredPanda.Config.postId],document.cookie="bp_session_pageviews="+JSON.stringify(e)+i.cookieExpire()+i.sitewide(),e.length},i.setDefaultCookieExpire=function(e){var e=24*e*60*60*1e3,t=new Date;return t.setTime(t.getTime()+e),"; expires="+t.toUTCString()},i.attachOuiBounce=function(){i.isDisabled()||(i._html().addEventListener("mouseleave",i.handleMouseleave),i._html().addEventListener("mouseenter",i.handleMouseenter),i._html().addEventListener("keydown",i.handleKeydown))},i.handleMouseleave=function(e){e.clientY>i.sensitivity()||i._delayTimer(setTimeout(i.fire,i.delay()))},i.handleMouseenter=function(){i._delayTimer()&&(clearTimeout(i._delayTimer()),i._delayTimer(null))},i.handleKeydown=function(e){i.disableKeydown()||e.metaKey&&76===e.keyCode&&(i.disableKeydown(!0),i._delayTimer(setTimeout(i.fire(),i.delay())))},i.checkCookieValue=function(e,t){return i.parseCookies()[e]===t},i.parseCookies=function(){for(var e=document.cookie.split("; "),t={},i=e.length-1;0<=i;i--){var o=e[i].split("=");t[o[0]]=o[1]}return t},i.isDisabled=function(){return i.checkCookieValue(i.cookieName(),"true")&&!i.aggresive()},i.fire=function(){i.isDisabled()||(i.modalClosed(),i.element()&&(i.element().modal("show"),BoredPanda.Tracking.trackEvent("Newsletter Form","Subscribe before leaving Popup","show")),i.removeListeners(),i.subscribeBtn())},i.initListenerSubscribeSuccess=function(){$(function(){var e=new MutationObserver(function(e){i.element().modal("hide"),$("#suggestions-before-leaving").modal("show"),BoredPanda.Tracking.trackEvent("Suggestions popup","Suggestions before leaving popup show","show"),$("#suggestions-before-leaving").on("hidden.bs.modal",function(){BoredPanda.Tracking.trackEvent("Suggestions popup","Suggestions before leaving popup close","close")}),$("#suggestions-before-leaving article").on("click",function(){var e=$(this).attr("data-index");BoredPanda.Tracking.trackEvent("Suggestions popup","Suggestion on index "+e+" click","click")})}),t=document.querySelector("#"+i.elemId()+" .ml-block-success");e.observe(t,{attributes:!0})})},i.modalClosed=function(){i.element().on("hidden.bs.modal",function(){i.disable(),BoredPanda.Tracking.trackEvent("Newsletter Form","Subscribe before leaving Popup close","close")})},i.subscribeBtn=function(){$("#"+i.elemId()+" form").on("submit",function(){i.disable()})},i.disable=function(){$("#"+i.elemId()+" .modal-close").on("click",function(){i.disable()}),document.cookie=i.cookieName()+"=true"+i.cookieExpire()+i.cookieDomain()+i.sitewide()},i.removeListeners=function(){i._html().removeEventListener("mouseleave",i.handleMouseleave),i._html().removeEventListener("mouseenter",i.handleMouseenter),i._html().removeEventListener("keydown",i.handleKeydown)}},$(document).ready(function(e){Scroll.config.detected||BoredPanda.Config.isTabletWidth||"com"!==BoredPanda.Config.bpVersion||(BoredPanda.subscribtionTool=new BoredPanda.SubscribtionTool.tool,BoredPanda.Config.isLoggedIn?BoredPanda.Utils.wpAjax({action:"newsletter_prompt_show",user_id:BoredPanda.Config.userId,shopping:"shopping"===BoredPanda.subscribtionTool.getType()}).done(function(e){e.data&&!0===e.data.show&&BoredPanda.subscribtionTool.init()}):BoredPanda.subscribtionTool.init())})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.PostReview={init:function(e){this.initReviewBlock(e)},initReviewBlock(e){let t="#bp-post-review-block";e&&(t=$(e).find("#bp-post-review-block").get(0)),new Vue({el:t,data:{storageKey:"bp-reviewed-posts",votedPosts:[],postId:null,voteId:null,voted:!1,quality:null,topic:null,research:null,readability:null,comment:null,showExpanded:!1,showComment:!1,selectedSuggestions:[],improvementSuggestions:["More sources","Simpler language","References","Shorter length","Better visuals","Provide context","Proofread","Unique content","Structure","Diverse perspectives","Up-to-date information","Better formatting"]},mounted(){this.postId=BoredPanda.Config.postId,this.votedPosts=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),this.voted=this.votedPosts.includes(this.postId),this.initTracking(e)},computed:{voted(){return this.votedPosts.includes(this.postId)}},methods:{initTracking(e){this.voted||BoredPanda.Tracking.trackPostReviews(e)},markAsVoted(){this.votedPosts.includes(this.postId)||(this.votedPosts.push(this.postId),localStorage.setItem(this.storageKey,JSON.stringify(this.votedPosts)))},async voteQuality(e){this.quality=e,this.showExpanded=!0,this.markAsVoted(),await this.saveVote()},async submit(){this.voted=!0,this.markAsVoted(),$("html, body").animate({scrollTop:$(this.$el).offset().top},600),await this.saveVote()},async saveVote(){try{var e=await BoredPanda.Utils.wpAjax({action:"add_post_review",post_id:this.postId,vote_id:this.voteId,quality:this.quality,topic:this.topic,readability:this.readability,research:this.research,comment:this.comment,suggestions:this.selectedSuggestions}).done();e.success?this.voteId=e.data.vote_id:console.log(e.data.message)}catch(e){console.log(e.responseJSON?.error||e.message)}},suggestionSelected(e){return this.selectedSuggestions.includes(e)},toggleSuggestion(e){this.suggestionSelected(e)?this.selectedSuggestions.splice(this.selectedSuggestions.indexOf(e),1):this.selectedSuggestions.push(e)}}})}},$(document).ready(function(){0<BoredPanda.Config.postId&&BoredPanda.PostReview.init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.PwaPromotion={promotionDisabledKey:"bp-pwa-disabled",promotionPageviewsKey:"bp-pwa-pageviews",isiPhone(){return(BoredPanda.Config.isiPad()||BoredPanda.Config.isiPhone())&&!BoredPanda.Config.isPWA()&&"Mobile Safari"===$.ua.browser.name},isAndroid(){return BoredPanda.Config.isAndroid()&&"Chrome"===$.ua.browser.name&&!BoredPanda.Config.isPWA()},async init(e=!1){"google"===BoredPanda.Utils.getParameterByName("utm_source")&&!e&&(await sleep(2e3),$(".bp-mobile-anchor").is(":visible"))||(this.trackPageview(),this.isiPhone()?this.initPwaPromotion("ios"):this.isAndroid()&&this.initPwaPromotion("android"))},trackPageview(){(this.isiPhone()||this.isAndroid())&&$.cookie(BoredPanda.PwaPromotion.promotionPageviewsKey,parseInt($.cookie(BoredPanda.PwaPromotion.promotionPageviewsKey)||0)+1,{expires:60,path:"/"})},initPwaPromotion(e){new Vue({el:".bp-pwa-promotion-container."+e,data:{showAndroidPromotion:!1,isPromotionDisabled:!1,deferredPrompt:null},mounted(){if(this.isPromotionDisabled=void 0!==$.cookie(BoredPanda.PwaPromotion.promotionDisabledKey),"ios"===e)this.showPromotion&&this.initTracking();else if("android"===e){const t=this;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),t.deferredPrompt=e,t.showPromotion&&(t.showAndroidPromotion=!0,t.initTracking())})}},computed:{showPromotion(){return!this.isPromotionDisabled&&3<=parseInt($.cookie(BoredPanda.PwaPromotion.promotionPageviewsKey))}},methods:{hidePromotion(){$.cookie(BoredPanda.PwaPromotion.promotionDisabledKey,"1",{expires:60,path:"/"}),this.isPromotionDisabled=!0,this.showAndroidPromotion=!1},installAndroidPWA(){this.deferredPrompt&&this.deferredPrompt.prompt(),this.showAndroidPromotion=!1,this.hidePromotion()},initTracking(){BoredPanda.Tracking.trackEvent("PWA","promotion","load"),BoredPanda.Tracking.trackClick(".bp-pwa-promotion-container .bp-pwa-promotion-close","PWA","closed"),BoredPanda.Tracking.trackClick(".bp-pwa-promotion-container.android .button.primary","PWA","add_clicked"),BoredPanda.Tracking.trackClick(".bp-pwa-promotion-container.android .button.secondary","PWA","continue_clicked"),BoredPanda.Tracking.trackClick(".bp-pwa-promotion-container.android .button.secondary","PWA","continue_clicked")}}})}},$(document).ready(function(){BoredPanda.Config.isMobileWidth&&BoredPanda.Config.bpVersion})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.PollsPage=function(){let i=this;i.isLoading=ko.observable(!1),i.isShowMoreLoading=ko.observable(!1),i.page=ko.observable(1),i.sortBy=ko.observable("date"),i.showLoadMore=ko.observable(!0),i.filterMostRecent=async function(){var e,t;"date"!==i.sortBy()&&(i.isLoading(!0),i.page(1),i.sortBy("date"),e=await i.getPollsForPage(),t=i.getHtmlForPolls(e),i.setPollsHtml(t),0<e.length&&i.showLoadMore(!0),i.isLoading(!1))},i.filterMostPopular=async function(){var e,t;"votes"!==i.sortBy()&&(i.isLoading(!0),i.page(1),i.sortBy("votes"),e=await i.getPollsForPage(),t=i.getHtmlForPolls(e),i.setPollsHtml(t),0<e.length&&i.showLoadMore(!0),i.isLoading(!1))},i.setPollsHtml=function(e){$("#polls-wrapper").empty(),e.forEach(function(e){$("#polls-wrapper").append(e)})},i.loadMorePolls=async function(){i.page(i.page()+1),i.isShowMoreLoading(!0);var e=await i.getPollsForPage();0===e.length?(i.isShowMoreLoading(!1),i.showLoadMore(!1)):(i.getHtmlForPolls(e).forEach(function(e){$("#polls-wrapper").append(e)}),i.isShowMoreLoading(!1))},i.getPollsForPage=async function(){try{var e=(await BoredPanda.Utils.wpAjax({action:"get_polls",page:i.page(),sortBy:i.sortBy()}))["data"];return e}catch(e){return[]}},i.getHtmlForPolls=function(e){return e.map(function(e){return`
          <div class="poll">
          <div class="poll-header">
            <h3 class="poll-title">${e.postTitle}</h3>
            <h3 class="poll-question">${e.questions[0].text}</h3>
          </div>
           <a href="${e.postUrl}#post-poll" class="take-poll-button">Take the Poll</a>
        </div>
        `})},i.isSortedByFilter=function(e){return e===i.sortBy()}},$(document).ready(function(){var e,t=$("#polls-page").get(0);t&&(e=new BoredPanda.PollsPage,ko.applyBindings(e,t))})}(),!function(){"use strict";function e(){BoredPanda.Scroll.scrollCallback.add(async function(){var e="scroll-50-recs_loaded";$("body").data(e)||50<=($(document).scrollTop()+$(window).height())/$(document).height()*100&&($("body").data(e,!0),await(new BoredPanda.AjaxRecs).init())})}window.BoredPanda=window.BoredPanda||{},BoredPanda.AjaxRecs=function(){const l=this;l.chartBeatApiEndpointPrefix="https://recommendations.chartbeat.net/publishing/recommendations/v2",l.chartBeatApiEndpoint=null,l.posts=[],l.newRecommendationSlotPosts=[],l.postCategories=[],l.itemsCount=20,l.freshness=90,l.domain=BoredPanda.Config.domain,l.init=async function(){await Promise.all([l.getNewRecommendationSlotPosts(),l.getChartBeatRecommendations()]),await Promise.all([l.appendChartBeatPostsToNewRecommendationSlots(),l.appendChartBeatPostsToBottomRecommendationSlots()])},l.getNewRecommendationSlotPosts=async function(){var e;0!==BoredPanda.Config.chartBeatRecsVariant&&(e=l.buildRelatedArticlesModuleEndpoint(l.getPostUrl(),6),l.newRecommendationSlotPosts=await l.getChartBeatPosts(e))},l.getChartBeatRecommendations=async function(){l.chartBeatApiEndpoint=l.buildApiEndpoint();var e=l.chartBeatApiEndpoint;null===e?console.error("ChartBeat: Could not build api endpoint"):(e=await l.getChartBeatPosts(e),l.posts=[...l.posts,...e,...e,...e,...e])},l.buildApiEndpoint=function(){var e=l.getPostUrl();return 1===BoredPanda.Config.chartBeatRecsVariant?l.buildDeviceTailoredModuleEndpoint(e):2===BoredPanda.Config.chartBeatRecsVariant?l.buildRegionTailoredModuleEndpoint(e):l.buildRelatedArticlesModuleEndpoint(e,l.itemsCount)},l.buildRelatedArticlesModuleEndpoint=function(e,t){return`${l.chartBeatApiEndpointPrefix}/related?host=${l.domain}&path=${e}&limit=${t}&freshness=`+l.freshness},l.buildDeviceTailoredModuleEndpoint=function(e){return`${l.chartBeatApiEndpointPrefix}/device?host=${l.domain}&path=${e}&limit=`+l.itemsCount},l.buildRegionTailoredModuleEndpoint=function(e){return`${l.chartBeatApiEndpointPrefix}/region?host=${l.domain}&path=${e}&limit=`+l.itemsCount},l.getPostUrl=function(){var e=BoredPanda.Config.postUrl.trim();return(0<e.length?e:window.location.hostname+window.location.pathname).replace(/^https?:\/\//,"").replace("dev.","")},l.getChartBeatPosts=async function(e){e=await l.fetchPosts(e);return 0===e.length?[]:(await l.getMissingImagesForPosts(e)).filter(e=>e.path.startsWith(l.domain))},l.fetchPosts=async function(e){try{var t,i=await fetch(e);if(i.ok)return t=(await i.json())["data"],t;throw new Error("HTTP error! Status: "+i.status)}catch(e){return console.error("Error:",e),[]}},l.getMissingImagesForPosts=async function(e){const i=await l.fetchMissingImagesForPost(e);return e.map(e=>{e.original_img_url=e.img_url;var t=l.getPostSlugFromPath(e.path),t=i[t];return t&&(e.img_url=t),e})},l.fetchMissingImagesForPost=async function(e){try{var t=e.map(e=>l.getPostSlugFromPath(e.path)),i=(await BoredPanda.Utils.wpAjax({action:"get_images_for_post_slugs",slugs:t}))["data"];return i}catch(e){return console.error(e),[]}},l.getPostSlugFromPath=function(e){e=e.replaceAll(l.domain,"").split("/");return e[e.length-2]},l.appendChartBeatPostsToNewRecommendationSlots=async function(){var e=1===BoredPanda.Config.singlePostRecommendationSlotExperimentVariant||1===BoredPanda.Config.openListPostRecommendationSlotVariant,t=2===BoredPanda.Config.singlePostRecommendationSlotExperimentVariant||2===BoredPanda.Config.openListPostRecommendationSlotVariant,i=3===BoredPanda.Config.singlePostRecommendationSlotExperimentVariant||3===BoredPanda.Config.openListPostRecommendationSlotVariant,o=4===BoredPanda.Config.singlePostRecommendationSlotExperimentVariant||4===BoredPanda.Config.openListPostRecommendationSlotVariant,n=5===BoredPanda.Config.openListPostRecommendationSlotVariant;e&&l.appendChartBeatPostsToInContentRecommendationsSlots(),t&&await l.appendChartBeatPostsToRecsLikeRecommendationsSlots(),i&&await l.appendChartBeatPostsToAdWithParagraphLikeRecommendationsSlots(),o&&await l.appendChartBeatPostsToAdLikeRecommendationsSlots(),n&&await l.appendChartBeatPostsToCommentLikeRecommendationsSlot()},l.appendChartBeatPostsToBottomRecommendationSlots=async function(){l.appendChartBeatPostsToPopularOnBoredPandaAboveCommentsBlock(),l.appendChartBeatPostsToPopularOnBoredPandaBelowCommentsBlock(),l.appendChartBeatPostsToTrendingOnBoredPandaBelowCommentsBlock(),l.appendChartBeatPostsToAlsoOnBoredPandaBelowNewsletterBlock()},l.getAvailablePostsCountForBlock=function(e){var t=l.posts.length;return 0===t?0:t<e?t:e},l.getAvailableNewRecommendationSlotPostsCountForBlock=function(e){var t=l.newRecommendationSlotPosts.length;return 0===t?0:t<e?t:e},l.appendChartBeatPostsToInContentRecommendationsSlots=function(){let e;e=0===BoredPanda.Config.chartBeatRecsVariant?l.posts:l.newRecommendationSlotPosts;let t;var i;0===(t=0===BoredPanda.Config.chartBeatRecsVariant?l.getAvailablePostsCountForBlock(3):l.getAvailableNewRecommendationSlotPostsCountForBlock(3))?$("#loadingIndicator6").hide():(i=e.slice(0,t),e.splice(0,t),0===BoredPanda.Config.chartBeatRecsVariant?l.posts=e:l.newRecommendationSlotPosts=e,i=i.map(e=>{var t=e.title.replaceAll(" | Bored Panda","");return`
          <li class="recommendation">
            <div class="dash">•</div>
            <a href="https://www.${e.path}">${t}</a>
          </li>
        `}),$("#loadingIndicator6").hide(),$("#recommendations-block-6-list").append(i))},l.appendChartBeatPostsToRecsLikeRecommendationsSlots=async function(){let e;e=0===BoredPanda.Config.chartBeatRecsVariant?l.posts:l.newRecommendationSlotPosts;let t;if(0!==(t=0===BoredPanda.Config.chartBeatRecsVariant?l.getAvailablePostsCountForBlock(3):l.getAvailableNewRecommendationSlotPostsCountForBlock(3))){var i=e.slice(0,t);e.splice(0,t),0===BoredPanda.Config.chartBeatRecsVariant?l.posts=e:l.newRecommendationSlotPosts=e;try{var o=i.map(e=>l.getPostSlugFromPath(e.path));let n=[];try{var a=(await BoredPanda.Utils.wpAjax({action:"get_categories_by_post_slugs",postSlugs:o}))["data"];n=a}catch(e){}var s=i.map(e=>{var t=l.getPostSlugFromPath(e.path),i="https://www."+e.path,t=(n[t]??[]).join(", "),o=e.title.replaceAll(" | Bored Panda","");return`
            <div class="recommendation">
              <div class="left">
                <a href="${i}">
                  <img class="recommendation-thumbnail" src="${e.img_url}" alt="${o}" loading="lazy" />
                </a>
              </div>
              
              <div class="right">
                <a href="${i}">
                  <span class="h3">${o}</span>
                </a>
                <span class="category">${t}</span>
              </div>
            </div>
          `});$("#loadingIndicator7").hide(),$("#recommendations-block-7-list").append(s)}catch(e){}return""}$("#loadingIndicator7").hide()},l.appendChartBeatPostsToAdWithParagraphLikeRecommendationsSlots=async function(){let t;t=0===BoredPanda.Config.chartBeatRecsVariant?l.posts:l.newRecommendationSlotPosts;let i;if(0===(i=0===BoredPanda.Config.chartBeatRecsVariant?l.getAvailablePostsCountForBlock(1):l.getAvailableNewRecommendationSlotPostsCountForBlock(1)))$("#loadingIndicator8").hide();else{var o=t.slice(0,i);t.splice(0,i),0===BoredPanda.Config.chartBeatRecsVariant?l.posts=t:l.newRecommendationSlotPosts=t;let e="";var o=o[0],n="https://www."+o.path,a=o.title.replaceAll(" | Bored Panda",""),s=l.getPostSlugFromPath(o.path);try{var r=(await BoredPanda.Utils.wpAjax({action:"get_post_excerpt_by_post_slug",postSlug:s}))["data"];e=r}catch(e){}s=`
        <a href="${n}">
          <span class="h2">${a}</span>
        </a>
        
        <p class="post-excerpt">${e}</p>
        
        <a href="${n}" class="learn-more">
          <div class="flex">
            <span class="link-wrapper">${BoredPanda.Translate.Recommendations.learn_more}</span>
            <div><svg class="svg-icon icon-arrow-right-soft" role="img" height="20" width="20" viewBox="0 0 20 20"><title>Arrow right soft</title><path d="M11.6479 3.8207C11.2728 3.4154 10.6401 3.39097 10.2348 3.76614C9.82946 4.14131 9.80504 4.774 10.1802 5.1793L13.7169 9H4C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H13.7155L10.1802 14.8192C9.80504 15.2245 9.82946 15.8572 10.2348 16.2324C10.6401 16.6075 11.2728 16.5831 11.6479 16.1778L16.7383 10.6786C17.0932 10.2952 17.0932 9.70331 16.7383 9.31996L11.6479 3.8207Z"/></svg></div>
          </div>
        </a>
        
        <div class="img-wrapper">
          <a href=${n}">
            <img class="recommendation-thumbnail" src="${o.original_img_url}" alt="${a}" loading="lazy">
          </a>
        </div>
      `;$("#loadingIndicator8").hide(),$("#recommendations-block-8").append(s)}},l.appendChartBeatPostsToAdLikeRecommendationsSlots=async function(){let e;e=0===BoredPanda.Config.chartBeatRecsVariant?l.posts:l.newRecommendationSlotPosts;let t;var i,o,n;0===(t=0===BoredPanda.Config.chartBeatRecsVariant?l.getAvailablePostsCountForBlock(1):l.getAvailableNewRecommendationSlotPostsCountForBlock(1))?$("#loadingIndicator9").hide():(i=e.slice(0,t),e.splice(0,t),0===BoredPanda.Config.chartBeatRecsVariant?l.posts=e:l.newRecommendationSlotPosts=e,n=`
        <a href="${n="https://www."+(i=i[0]).path}">
          <span class="h2">${o=i.title.replaceAll(" | Bored Panda","")}</span>
        </a>
        
        <a href="${n}" class="learn-more">
          <div class="flex">
            <span class="link-wrapper">${BoredPanda.Translate.Recommendations.learn_more}</span>
            <div><svg class="svg-icon icon-arrow-right-soft" role="img" height="20" width="20" viewBox="0 0 20 20"><title>Arrow right soft</title><path d="M11.6479 3.8207C11.2728 3.4154 10.6401 3.39097 10.2348 3.76614C9.82946 4.14131 9.80504 4.774 10.1802 5.1793L13.7169 9H4C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H13.7155L10.1802 14.8192C9.80504 15.2245 9.82946 15.8572 10.2348 16.2324C10.6401 16.6075 11.2728 16.5831 11.6479 16.1778L16.7383 10.6786C17.0932 10.2952 17.0932 9.70331 16.7383 9.31996L11.6479 3.8207Z"/></svg></div>
          </div>
        </a>
        
        <div class="img-wrapper">
          <a href=${n}">
            <img class="recommendation-thumbnail" src="${i.original_img_url}" alt="${o}" loading="lazy">
          </a>
        </div>
      `,$("#loadingIndicator9").hide(),$("#recommendations-block-9").append(n))},l.appendChartBeatPostsToCommentLikeRecommendationsSlot=async function(){let e;e=0===BoredPanda.Config.chartBeatRecsVariant?l.posts:l.newRecommendationSlotPosts;let t;var i;0===(t=0===BoredPanda.Config.chartBeatRecsVariant?l.getAvailablePostsCountForBlock(3):l.getAvailableNewRecommendationSlotPostsCountForBlock(3))?$("#loadingIndicator10").hide():(i=e.slice(0,t),e.splice(0,t),0===BoredPanda.Config.chartBeatRecsVariant?l.posts=e:l.newRecommendationSlotPosts=e,i=i.map(e=>{return`
          <div class="recommendation-wrapper">
            <a class="recommendation" href="${"https://www."+e.path}">${e.title.replaceAll(" | Bored Panda","")}</a>
          </div>
        `}),$("#loadingIndicator10").hide(),$("#recommendations-block-10 .recommendations").append(i))},l.capitalizeWords=function(e){return e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},l.appendChartBeatPostsToPopularOnBoredPandaAboveCommentsBlock=function(){var e,t=$("#popularOnBoredPandaAboveComments"),i=l.posts,o=l.getAvailablePostsCountForBlock(6);0===o?$("#loadingIndicator2").hide():(e=i.slice(0,o),i.splice(0,o),l.posts=i,o=e.map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"desktop")),i=e.slice(0,3).map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"mobile")),$("#loadingIndicator2").hide(),t.append(o.join("")+i.join("")))},l.appendChartBeatPostsToPopularOnBoredPandaBelowCommentsBlock=function(){var e,t=$("#popularOnBoredPandaBelowCommentsDesktop"),i=$("#popularOnBoredPandaBelowCommentsMobile"),o=l.posts,n=l.getAvailablePostsCountForBlock(6);0===n?$("#loadingIndicator3").hide():(e=o.slice(0,n),o.splice(0,n),l.posts=o,n=e.map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"desktop")),o=e.map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"mobile")),$("#loadingIndicator3").hide(),t.append(n.join("")),i.append(o.join("")))},l.appendChartBeatPostsToTrendingOnBoredPandaBelowCommentsBlock=function(){var e,t=$("#trendingOnBoredPandaAboveNewsletterDesktop"),i=$("#trendingOnBoredPandaAboveNewsletterMobile"),o=l.posts,n=l.getAvailablePostsCountForBlock(6);0===n?$("#loadingIndicator4").hide():(e=o.slice(0,n),o.splice(0,n),l.posts=o,n=e.map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"desktop")),o=e.map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"mobile")),$("#loadingIndicator4").hide(),t.append(n.join("")),i.append(o.join("")))},l.appendChartBeatPostsToAlsoOnBoredPandaBelowNewsletterBlock=function(){var e,t=$("#alsoOnBoredPandaBelowNewsletterDesktop"),i=$("#alsoOnBoredPandaBelowNewsletterMobile"),o=l.posts,n=l.getAvailablePostsCountForBlock(24);0===n?$("#loadingIndicator5").hide():(e=o.slice(0,n),o.splice(0,n),l.posts=o,n=e.map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"desktop")),o=e.map((e,t)=>l.getCtrPostRecommendationHtml(e,t,"mobile")),$("#loadingIndicator5").hide(),t.append(n.join("")),i.append(o.join("")))},l.getCtrPostRecommendationHtml=function(e,t,i="both"){var o=l.getArticleBoxClass(t),n="mobile"===i;let a="";n?a="visible-upto-xs":"desktop"===i&&(a="visible-downto-xs");i=e.title.replaceAll(" | Bored Panda","");let s=`
        <article class="box${o} ${a} popular-post-rec track-recommendation">
          <a class="image-link" href="https://www.${e.path}"
             title="${i}">`;return s=(s+=n?`
          <img width="300" height="300" class="portrait chartbeat-recommendations-square-image" loading="lazy"
            src="${e.img_url}" nopin="nopin"
            alt=${i}"
            title=${i}"
          />
        `:`
          <img width="300" height="185" class="landscape" loading="lazy"
            src="${e.img_url}"
            nopin="nopin" alt="${i}"
            title="${i}"
          />
        `)+`
          </a>
          <div class="title-link">
            <a class="box-title" href="https://www.${e.path}">${i}</a>
          </div>
        </article>
      `,(t+1)%3==0&&(s+='<div class="clear"></div>'),s},l.getArticleBoxClass=function(e){e+=1;return(e%4==0?" every4":"")+(e%2==0?" every2":"")+(e%3==0?" every3":"")}},$(document).ready(async function(){"com"===BoredPanda.Config.bpVersion&&(0<BoredPanda.Config.postId||0<BoredPanda.Config.openListId)&&!BoredPanda.Config.isFeed&&(0<BoredPanda.Config.openListId?0!==BoredPanda.Config.openListPostRecommendationSlotVariant?await(new BoredPanda.AjaxRecs).init():e():0!==BoredPanda.Config.singlePostRecommendationSlotExperimentVariant?await(new BoredPanda.AjaxRecs).init():e())})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.RecommendationBlocks=function(){const a=this;a.EVENT_LOAD="load",a.EVENT_SEEN="seen",a.EVENT_CLICK="click",a.contentRecsPositions=["content","recs","ad1","ad2","comment"],a.recommendationsBlock1Id="#recommendations-block-1",a.recommendationsBlock2Id="#recommendations-block-2",a.recommendationsBlock3Id="#recommendations-block-3",a.recommendationsBlock4Id="#recommendations-block-4",a.recommendationsBlock5Id="#recommendations-block-5",a.recommendationsBlock6Id="#recommendations-block-6",a.recommendationsBlock7Id="#recommendations-block-7",a.recommendationsBlock8Id="#recommendations-block-8",a.recommendationsBlock9Id="#recommendations-block-9",a.recommendationsBlock10Id="#recommendations-block-10",a.init=function(){var e=a.isOpenListPost();let t="post";e&&(t="list");var i=a.getChartBeatModuleName(),o=[a.recommendationsBlock1Id,a.recommendationsBlock2Id,a.recommendationsBlock3Id,a.recommendationsBlock4Id,a.recommendationsBlock5Id,a.recommendationsBlock6Id,a.recommendationsBlock7Id,a.recommendationsBlock8Id,a.recommendationsBlock9Id,a.recommendationsBlock10Id];a.trackBaseVariations(e),a.trackPageLoadEvents(o,t,i),a.trackImpressionEvents(o,t,i),a.trackClicks(t,i)},a.trackBaseVariations=function(e){e?0===BoredPanda.Config.openListPostRecommendationSlotVariant&&BoredPanda.Tracking.sendSimpleGA4Event("toprec_list_base"):0===BoredPanda.Config.singlePostRecommendationSlotExperimentVariant&&BoredPanda.Tracking.sendSimpleGA4Event("toprec_base")},a.isOpenListPost=function(){return 0<BoredPanda.Config.openListId},a.trackPageLoadEvents=function(e,o,n){e.forEach(t=>{if($(t).get(0))if(t===a.recommendationsBlock1Id)BoredPanda.Tracking.sendSimpleGA4Event(`botrec_${o}_1-`+a.EVENT_LOAD);else{let e=n;var i=a.getPositionNameByBlockId(t),t=(a.contentRecsPositions.includes(i)&&(e="related"),a.getPrefixByBlockId(t)),t=`${t}_${o}_${i}_${e}-`+a.EVENT_LOAD;BoredPanda.Tracking.sendSimpleGA4Event(t)}})},a.getPrefixByBlockId=function(e){return["#recommendations-block-6","#recommendations-block-7","#recommendations-block-8","#recommendations-block-9","#recommendations-block-10"].includes(e)?"toprec":"botrec"},a.getPositionNameByBlockId=function(e){return"#recommendations-block-6"===e?"content":"#recommendations-block-7"===e?"recs":"#recommendations-block-8"===e?"ad1":"#recommendations-block-9"===e?"ad2":"#recommendations-block-10"===e?"comment":e.split("-")[2]},a.getChartBeatModuleName=function(){return 1===BoredPanda.Config.chartBeatRecsVariant?"device":2===BoredPanda.Config.chartBeatRecsVariant?"region":"related"},a.trackImpressionEvents=function(e,o,n){e.forEach(i=>{$(i).get(0)&&$(i).bind("inview",function(e,t){if(t&&"true"!==$(this).attr("data-viewed")&&0<$(this).height())if(i===a.recommendationsBlock1Id)$(this).attr("data-viewed",!0),BoredPanda.Tracking.sendSimpleGA4Event(`botrec_${o}_1-`+a.EVENT_SEEN);else{t=a.getPositionNameByBlockId(i);let e=n;a.contentRecsPositions.includes(t)&&(e="related");t=`${a.getPrefixByBlockId(i)}_${o}_${t}_${e}-`+a.EVENT_SEEN;$(this).attr("data-viewed",!0),BoredPanda.Tracking.sendSimpleGA4Event(t)}})})},a.trackClicks=function(e,t){a.trackBlock1Clicks(e),a.trackBlock2Clicks(e,t),a.trackBlock3Clicks(e,t),a.trackBlock4Clicks(e,t),a.trackBlock5Clicks(e,t),a.trackBlock6Clicks(e),a.trackBlock7Clicks(e),a.trackBlock8Clicks(e),a.trackBlock9Clicks(e),a.trackBlock10Clicks(e)},a.trackBlock1Clicks=function(e){$(document).on("click",a.recommendationsBlock1Id+" section article",function(){BoredPanda.Tracking.sendSimpleGA4Event(`botrec_${e}_1-`+a.EVENT_CLICK)})},a.trackBlock2Clicks=function(t,i){$(document).on("click",a.recommendationsBlock2Id+" section article",function(){var e=`botrec_${t}_2_${i}-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock3Clicks=function(t,i){$(document).on("click",a.recommendationsBlock3Id+" section article",function(){var e=`botrec_${t}_3_${i}-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock4Clicks=function(t,i){$(document).on("click",a.recommendationsBlock4Id+" article",function(){var e=`botrec_${t}_4_${i}-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock5Clicks=function(t,i){$(document).on("click",a.recommendationsBlock5Id+" section article",function(){var e=`botrec_${t}_5_${i}-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock6Clicks=function(t){$(document).on("click",a.recommendationsBlock6Id+" a",function(){var e=`toprec_${t}_content_related-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock7Clicks=function(t){$(document).on("click",a.recommendationsBlock7Id+" a",function(){var e=`toprec_${t}_recs_related-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock8Clicks=function(t){$(document).on("click",a.recommendationsBlock8Id+" a",function(){var e=`toprec_${t}_ad1_related-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock9Clicks=function(t){$(document).on("click",a.recommendationsBlock9Id+" a",function(){var e=`toprec_${t}_ad2_related-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})},a.trackBlock10Clicks=function(t){$(document).on("click",a.recommendationsBlock10Id+" a",function(){var e=`toprec_${t}_comment_related-`+a.EVENT_CLICK;BoredPanda.Tracking.sendSimpleGA4Event(e)})}},$(document).ready(function(){BoredPanda.Config.isFeed||(new BoredPanda.RecommendationBlocks).init()})}(),!function(){"use strict";window.BoredPanda=window.BoredPanda||{},BoredPanda.Shopping={init:function(){this.initCustomAffiliateId()},initCustomAffiliateId:async function(){try{var e,t=await BoredPanda.Utils.wpAjax({action:"get_custom_affiliate_id_for_post",post_id:BoredPanda.Config.postId,referer:window.frames.top.document.referrer,zoo:BoredPanda.Utils.getParameterByName("zoo"),source:BoredPanda.Utils.getParameterByName("utm_source")}).done();t.success?(e=t.data.affiliate_id||"",this.updateAmazonLinks(e)):console.log(t.data.message)}catch(e){console.log(e.responseJSON?.error||e.message)}},updateAmazonLinks:function(i){if(i){const o=this;$('a[href*="amazon"]').each(function(e,t){t.setAttribute("href",o.changeAffiliateId(t.href,i))})}},changeAffiliateId:function(e,t){return e.includes("customer-reviews")?e:((e=new URL(e)).searchParams.set("tag",t),e.href)}},$(document).ready(function(){BoredPanda.Config.isShoppingCategory&&BoredPanda.Shopping.init()})}(),$(document).ready(function(){trackPostHighlights(),calculatePostReadingTime()});